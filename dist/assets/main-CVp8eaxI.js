const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-uBokc9QI.js","assets/hmac-PEzYZ8TK.js","assets/style-B_l4csH6.js","assets/style.css","assets/ccip-0bak05bq.js","assets/secp256k1-Rt7IZi1h.js","assets/embedded-wallet-Dd1r6p4k.js","assets/if-defined-BU5fnsc-.js","assets/index-CDtjmr5b.js","assets/index-CfBTVgla.js","assets/ref-CbPa8nED.js","assets/index-DiybngAs.js","assets/index-xqW6bp-J.js","assets/index-jiz71ecx.js","assets/index-DabI1NWW.js","assets/index-ByS8mQpq.js","assets/index-hVffrI7R.js","assets/index-Dtlr6eXN.js","assets/email-Bcti4qum.js","assets/index-BacxFYf7.js","assets/socials-CNYLQ8yA.js","assets/index-CEPz8XPw.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-z8-vFHhT.js","assets/index-BNf72Roj.js","assets/index-Do3DW1qh.js","assets/index-Ylbv8bbE.js","assets/swaps-B-nc7eCj.js","assets/index-zzeYe2OS.js","assets/index-3LUrCUl5.js","assets/index-SjAAIhhV.js","assets/send-B2JSUQGb.js","assets/index-DrIDBoE_.js","assets/index-C9TBjB04.js","assets/receive-B3hScLPp.js","assets/index-CgzBtbVP.js","assets/onramp-DIl6eQrt.js","assets/index-r93mql9J.js","assets/index-CdQc1yQD.js","assets/index-DnU1INwL.js","assets/transactions-Xx-4hium.js","assets/index-DkhPHCHk.js","assets/index-BbadOxy6.js","assets/index-D-1a_yqE.js","assets/index-BEdFCYb4.js","assets/index-7j3iW-Y5.js","assets/w3m-modal-DLUgats6.js","assets/index-C30KGjFW.js"])))=>i.map(i=>d[i]);
var RC=t=>{throw TypeError(t)};var Py=(t,e,n)=>e.has(t)||RC("Cannot "+n);var U=(t,e,n)=>(Py(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?RC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),he=(t,e,n,r)=>(Py(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),De=(t,e,n)=>(Py(t,e,"access private method"),n);var qf=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return U(t,e,r)}});import"./style-B_l4csH6.js";var Fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function m2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var y2={exports:{}},Nm={},w2={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),x$=Symbol.for("react.portal"),N$=Symbol.for("react.fragment"),T$=Symbol.for("react.strict_mode"),P$=Symbol.for("react.profiler"),O$=Symbol.for("react.provider"),R$=Symbol.for("react.context"),k$=Symbol.for("react.forward_ref"),$$=Symbol.for("react.suspense"),D$=Symbol.for("react.memo"),U$=Symbol.for("react.lazy"),kC=Symbol.iterator;function L$(t){return t===null||typeof t!="object"?null:(t=kC&&t[kC]||t["@@iterator"],typeof t=="function"?t:null)}var v2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b2=Object.assign,E2={};function du(t,e,n){this.props=t,this.context=e,this.refs=E2,this.updater=n||v2}du.prototype.isReactComponent={};du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C2(){}C2.prototype=du.prototype;function c1(t,e,n){this.props=t,this.context=e,this.refs=E2,this.updater=n||v2}var l1=c1.prototype=new C2;l1.constructor=c1;b2(l1,du.prototype);l1.isPureReactComponent=!0;var $C=Array.isArray,_2=Object.prototype.hasOwnProperty,u1={current:null},S2={key:!0,ref:!0,__self:!0,__source:!0};function A2(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_2.call(e,r)&&!S2.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hf,type:t,key:i,ref:o,props:s,_owner:u1.current}}function M$(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function d1(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function B$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DC=/\/+/g;function Oy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?B$(""+t.key):e.toString(36)}function zp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hf:case x$:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Oy(o,0):r,$C(s)?(n="",t!=null&&(n=t.replace(DC,"$&/")+"/"),zp(s,e,n,"",function(l){return l})):s!=null&&(d1(s)&&(s=M$(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(DC,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",$C(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Oy(i,a);o+=zp(i,e,n,c,s)}else if(c=L$(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Oy(i,a++),o+=zp(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vf(t,e,n){if(t==null)return t;var r=[],s=0;return zp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function F$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},Hp={transition:null},j$={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:Hp,ReactCurrentOwner:u1};function I2(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Vf,forEach:function(t,e,n){Vf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vf(t,function(){e++}),e},toArray:function(t){return Vf(t,function(e){return e})||[]},only:function(t){if(!d1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=du;ke.Fragment=N$;ke.Profiler=P$;ke.PureComponent=c1;ke.StrictMode=T$;ke.Suspense=$$;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j$;ke.act=I2;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=b2({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=u1.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)_2.call(e,c)&&!S2.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:hf,type:t.type,key:s,ref:i,props:r,_owner:o}};ke.createContext=function(t){return t={$$typeof:R$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O$,_context:t},t.Consumer=t};ke.createElement=A2;ke.createFactory=function(t){var e=A2.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:k$,render:t}};ke.isValidElement=d1;ke.lazy=function(t){return{$$typeof:U$,_payload:{_status:-1,_result:t},_init:F$}};ke.memo=function(t,e){return{$$typeof:D$,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Hp.transition;Hp.transition={};try{t()}finally{Hp.transition=e}};ke.unstable_act=I2;ke.useCallback=function(t,e){return Bn.current.useCallback(t,e)};ke.useContext=function(t){return Bn.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Bn.current.useEffect(t,e)};ke.useId=function(){return Bn.current.useId()};ke.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Bn.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};ke.useRef=function(t){return Bn.current.useRef(t)};ke.useState=function(t){return Bn.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return Bn.current.useTransition()};ke.version="18.3.1";w2.exports=ke;var B=w2.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z$=B,H$=Symbol.for("react.element"),W$=Symbol.for("react.fragment"),q$=Object.prototype.hasOwnProperty,V$=z$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G$={key:!0,ref:!0,__self:!0,__source:!0};function x2(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)q$.call(e,r)&&!G$.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:H$,type:t,key:i,ref:o,props:s,_owner:V$.current}}Nm.Fragment=W$;Nm.jsx=x2;Nm.jsxs=x2;y2.exports=Nm;var P=y2.exports,S0={},N2={exports:{}},xr={},T2={exports:{}},P2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,O){var D=R.length;R.push(O);e:for(;0<D;){var j=D-1>>>1,V=R[j];if(0<s(V,O))R[j]=O,R[D]=V,D=j;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],D=R.pop();if(D!==O){R[0]=D;e:for(var j=0,V=R.length,le=V>>>1;j<le;){var te=2*(j+1)-1,pe=R[te],ve=te+1,Oe=R[ve];if(0>s(pe,D))ve<V&&0>s(Oe,pe)?(R[j]=Oe,R[ve]=D,j=ve):(R[j]=pe,R[te]=D,j=te);else if(ve<V&&0>s(Oe,D))R[j]=Oe,R[ve]=D,j=ve;else break e}}return O}function s(R,O){var D=R.sortIndex-O.sortIndex;return D!==0?D:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var O=n(l);O!==null;){if(O.callback===null)r(l);else if(O.startTime<=R)r(l),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(l)}}function b(R){if(g=!1,w(R),!p)if(n(c)!==null)p=!0,I(E);else{var O=n(l);O!==null&&L(b,O.startTime-R)}}function E(R,O){p=!1,g&&(g=!1,m(T),T=-1),f=!0;var D=h;try{for(w(O),d=n(c);d!==null&&(!(d.expirationTime>O)||R&&!$());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var V=j(d.expirationTime<=O);O=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(c)&&r(c),w(O)}else r(c);d=n(c)}if(d!==null)var le=!0;else{var te=n(l);te!==null&&L(b,te.startTime-O),le=!1}return le}finally{d=null,h=D,f=!1}}var S=!1,_=null,T=-1,x=5,k=-1;function $(){return!(t.unstable_now()-k<x)}function M(){if(_!==null){var R=t.unstable_now();k=R;var O=!0;try{O=_(!0,R)}finally{O?F():(S=!1,_=null)}}else S=!1}var F;if(typeof y=="function")F=function(){y(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,A=q.port2;q.port1.onmessage=M,F=function(){A.postMessage(null)}}else F=function(){v(M,0)};function I(R){_=R,S||(S=!0,F())}function L(R,O){T=v(function(){R(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,I(E))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var D=h;h=O;try{return R()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=h;h=R;try{return O()}finally{h=D}},t.unstable_scheduleCallback=function(R,O,D){var j=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?j+D:j):D=j,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=D+V,R={id:u++,callback:O,priorityLevel:R,startTime:D,expirationTime:V,sortIndex:-1},D>j?(R.sortIndex=D,e(l,R),n(c)===null&&R===n(l)&&(g?(m(T),T=-1):g=!0,L(b,D-j))):(R.sortIndex=V,e(c,R),p||f||(p=!0,I(E))),R},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(R){var O=h;return function(){var D=h;h=O;try{return R.apply(this,arguments)}finally{h=D}}}})(P2);T2.exports=P2;var K$=T2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y$=B,Ar=K$;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O2=new Set,Hd={};function Ec(t,e){ql(t,e),ql(t+"Capture",e)}function ql(t,e){for(Hd[t]=e,t=0;t<e.length;t++)O2.add(e[t])}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A0=Object.prototype.hasOwnProperty,Z$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UC={},LC={};function Q$(t){return A0.call(LC,t)?!0:A0.call(UC,t)?!1:Z$.test(t)?LC[t]=!0:(UC[t]=!0,!1)}function J$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X$(t,e,n,r){if(e===null||typeof e>"u"||J$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dn[t]=new Fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dn[e]=new Fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dn[t]=new Fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dn[t]=new Fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dn[t]=new Fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dn[t]=new Fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dn[t]=new Fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dn[t]=new Fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dn[t]=new Fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var h1=/[\-:]([a-z])/g;function f1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(h1,f1);dn[e]=new Fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(h1,f1);dn[e]=new Fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(h1,f1);dn[e]=new Fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function p1(t,e,n,r){var s=dn.hasOwnProperty(e)?dn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X$(e,n,s,r)&&(n=null),r||s===null?Q$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wi=Y$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gf=Symbol.for("react.element"),il=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),R2=Symbol.for("react.provider"),k2=Symbol.for("react.context"),m1=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),N0=Symbol.for("react.suspense_list"),y1=Symbol.for("react.memo"),ho=Symbol.for("react.lazy"),$2=Symbol.for("react.offscreen"),MC=Symbol.iterator;function Nu(t){return t===null||typeof t!="object"?null:(t=MC&&t[MC]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,Ry;function od(t){if(Ry===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ry=e&&e[1]||""}return`
`+Ry+t}var ky=!1;function $y(t,e){if(!t||ky)return"";ky=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ky=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?od(t):""}function eD(t){switch(t.tag){case 5:return od(t.type);case 16:return od("Lazy");case 13:return od("Suspense");case 19:return od("SuspenseList");case 0:case 2:case 15:return t=$y(t.type,!1),t;case 11:return t=$y(t.type.render,!1),t;case 1:return t=$y(t.type,!0),t;default:return""}}function T0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ol:return"Fragment";case il:return"Portal";case I0:return"Profiler";case g1:return"StrictMode";case x0:return"Suspense";case N0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k2:return(t.displayName||"Context")+".Consumer";case R2:return(t._context.displayName||"Context")+".Provider";case m1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case y1:return e=t.displayName||null,e!==null?e:T0(t.type)||"Memo";case ho:e=t._payload,t=t._init;try{return T0(t(e))}catch{}}return null}function tD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T0(e);case 8:return e===g1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nD(t){var e=D2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kf(t){t._valueTracker||(t._valueTracker=nD(t))}function U2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=D2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function P0(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function BC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L2(t,e){e=e.checked,e!=null&&p1(t,"checked",e,!1)}function O0(t,e){L2(t,e);var n=ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?R0(t,e.type,n):e.hasOwnProperty("defaultValue")&&R0(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function R0(t,e,n){(e!=="number"||yg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ad=Array.isArray;function vl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ta(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function k0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(ad(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ta(n)}}function M2(t,e){var n=ta(e.value),r=ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yf,F2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yf=Yf||document.createElement("div"),Yf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rD=["Webkit","ms","Moz","O"];Object.keys(bd).forEach(function(t){rD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bd[e]=bd[t]})});function j2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bd.hasOwnProperty(t)&&bd[t]?(""+e).trim():e+"px"}function z2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=j2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sD=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D0(t,e){if(e){if(sD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function U0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L0=null;function w1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var M0=null,bl=null,El=null;function HC(t){if(t=gf(t)){if(typeof M0!="function")throw Error(G(280));var e=t.stateNode;e&&(e=km(e),M0(t.stateNode,t.type,e))}}function H2(t){bl?El?El.push(t):El=[t]:bl=t}function W2(){if(bl){var t=bl,e=El;if(El=bl=null,HC(t),e)for(t=0;t<e.length;t++)HC(e[t])}}function q2(t,e){return t(e)}function V2(){}var Dy=!1;function G2(t,e,n){if(Dy)return t(e,n);Dy=!0;try{return q2(t,e,n)}finally{Dy=!1,(bl!==null||El!==null)&&(V2(),W2())}}function qd(t,e){var n=t.stateNode;if(n===null)return null;var r=km(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var B0=!1;if(Ui)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){B0=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{B0=!1}function iD(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Ed=!1,wg=null,vg=!1,F0=null,oD={onError:function(t){Ed=!0,wg=t}};function aD(t,e,n,r,s,i,o,a,c){Ed=!1,wg=null,iD.apply(oD,arguments)}function cD(t,e,n,r,s,i,o,a,c){if(aD.apply(this,arguments),Ed){if(Ed){var l=wg;Ed=!1,wg=null}else throw Error(G(198));vg||(vg=!0,F0=l)}}function Cc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function K2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WC(t){if(Cc(t)!==t)throw Error(G(188))}function lD(t){var e=t.alternate;if(!e){if(e=Cc(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return WC(s),t;if(i===r)return WC(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Y2(t){return t=lD(t),t!==null?Z2(t):null}function Z2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z2(t);if(e!==null)return e;t=t.sibling}return null}var Q2=Ar.unstable_scheduleCallback,qC=Ar.unstable_cancelCallback,uD=Ar.unstable_shouldYield,dD=Ar.unstable_requestPaint,Pt=Ar.unstable_now,hD=Ar.unstable_getCurrentPriorityLevel,v1=Ar.unstable_ImmediatePriority,J2=Ar.unstable_UserBlockingPriority,bg=Ar.unstable_NormalPriority,fD=Ar.unstable_LowPriority,X2=Ar.unstable_IdlePriority,Tm=null,qs=null;function pD(t){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(Tm,t,void 0,(t.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:yD,gD=Math.log,mD=Math.LN2;function yD(t){return t>>>=0,t===0?32:31-(gD(t)/mD|0)|0}var Zf=64,Qf=4194304;function cd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=cd(a):(i&=o,i!==0&&(r=cd(i)))}else o=n&~s,o!==0?r=cd(o):i!==0&&(r=cd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ws(e),s=1<<n,r|=t[n],e&=~s;return r}function wD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ws(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=wD(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function j0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eN(){var t=Zf;return Zf<<=1,!(Zf&4194240)&&(Zf=64),t}function Uy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ff(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ws(e),t[e]=n}function bD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ws(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function b1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ws(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var tt=0;function tN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nN,E1,rN,sN,iN,z0=!1,Jf=[],Mo=null,Bo=null,Fo=null,Vd=new Map,Gd=new Map,bo=[],ED="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VC(t,e){switch(t){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":Vd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gd.delete(e.pointerId)}}function Pu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gf(e),e!==null&&E1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function CD(t,e,n,r,s){switch(e){case"focusin":return Mo=Pu(Mo,t,e,n,r,s),!0;case"dragenter":return Bo=Pu(Bo,t,e,n,r,s),!0;case"mouseover":return Fo=Pu(Fo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vd.set(i,Pu(Vd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gd.set(i,Pu(Gd.get(i)||null,t,e,n,r,s)),!0}return!1}function oN(t){var e=Ta(t.target);if(e!==null){var n=Cc(e);if(n!==null){if(e=n.tag,e===13){if(e=K2(n),e!==null){t.blockedOn=e,iN(t.priority,function(){rN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=H0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);L0=r,n.target.dispatchEvent(r),L0=null}else return e=gf(n),e!==null&&E1(e),t.blockedOn=n,!1;e.shift()}return!0}function GC(t,e,n){Wp(t)&&n.delete(e)}function _D(){z0=!1,Mo!==null&&Wp(Mo)&&(Mo=null),Bo!==null&&Wp(Bo)&&(Bo=null),Fo!==null&&Wp(Fo)&&(Fo=null),Vd.forEach(GC),Gd.forEach(GC)}function Ou(t,e){t.blockedOn===e&&(t.blockedOn=null,z0||(z0=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,_D)))}function Kd(t){function e(s){return Ou(s,t)}if(0<Jf.length){Ou(Jf[0],t);for(var n=1;n<Jf.length;n++){var r=Jf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mo!==null&&Ou(Mo,t),Bo!==null&&Ou(Bo,t),Fo!==null&&Ou(Fo,t),Vd.forEach(e),Gd.forEach(e),n=0;n<bo.length;n++)r=bo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bo.length&&(n=bo[0],n.blockedOn===null);)oN(n),n.blockedOn===null&&bo.shift()}var Cl=Wi.ReactCurrentBatchConfig,Cg=!0;function SD(t,e,n,r){var s=tt,i=Cl.transition;Cl.transition=null;try{tt=1,C1(t,e,n,r)}finally{tt=s,Cl.transition=i}}function AD(t,e,n,r){var s=tt,i=Cl.transition;Cl.transition=null;try{tt=4,C1(t,e,n,r)}finally{tt=s,Cl.transition=i}}function C1(t,e,n,r){if(Cg){var s=H0(t,e,n,r);if(s===null)Vy(t,e,r,_g,n),VC(t,r);else if(CD(s,t,e,n,r))r.stopPropagation();else if(VC(t,r),e&4&&-1<ED.indexOf(t)){for(;s!==null;){var i=gf(s);if(i!==null&&nN(i),i=H0(t,e,n,r),i===null&&Vy(t,e,r,_g,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vy(t,e,r,null,n)}}var _g=null;function H0(t,e,n,r){if(_g=null,t=w1(r),t=Ta(t),t!==null)if(e=Cc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=K2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _g=t,null}function aN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hD()){case v1:return 1;case J2:return 4;case bg:case fD:return 16;case X2:return 536870912;default:return 16}default:return 16}}var ko=null,_1=null,qp=null;function cN(){if(qp)return qp;var t,e=_1,n=e.length,r,s="value"in ko?ko.value:ko.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qp=s.slice(t,1<r?1-r:void 0)}function Vp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xf(){return!0}function KC(){return!1}function Nr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xf:KC,this.isPropagationStopped=KC,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),e}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S1=Nr(hu),pf=It({},hu,{view:0,detail:0}),ID=Nr(pf),Ly,My,Ru,Pm=It({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ru&&(Ru&&t.type==="mousemove"?(Ly=t.screenX-Ru.screenX,My=t.screenY-Ru.screenY):My=Ly=0,Ru=t),Ly)},movementY:function(t){return"movementY"in t?t.movementY:My}}),YC=Nr(Pm),xD=It({},Pm,{dataTransfer:0}),ND=Nr(xD),TD=It({},pf,{relatedTarget:0}),By=Nr(TD),PD=It({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),OD=Nr(PD),RD=It({},hu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kD=Nr(RD),$D=It({},hu,{data:0}),ZC=Nr($D),DD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LD[t])?!!e[t]:!1}function A1(){return MD}var BD=It({},pf,{key:function(t){if(t.key){var e=DD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A1,charCode:function(t){return t.type==="keypress"?Vp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FD=Nr(BD),jD=It({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QC=Nr(jD),zD=It({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A1}),HD=Nr(zD),WD=It({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),qD=Nr(WD),VD=It({},Pm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GD=Nr(VD),KD=[9,13,27,32],I1=Ui&&"CompositionEvent"in window,Cd=null;Ui&&"documentMode"in document&&(Cd=document.documentMode);var YD=Ui&&"TextEvent"in window&&!Cd,lN=Ui&&(!I1||Cd&&8<Cd&&11>=Cd),JC=" ",XC=!1;function uN(t,e){switch(t){case"keyup":return KD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var al=!1;function ZD(t,e){switch(t){case"compositionend":return dN(e);case"keypress":return e.which!==32?null:(XC=!0,JC);case"textInput":return t=e.data,t===JC&&XC?null:t;default:return null}}function QD(t,e){if(al)return t==="compositionend"||!I1&&uN(t,e)?(t=cN(),qp=_1=ko=null,al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lN&&e.locale!=="ko"?null:e.data;default:return null}}var JD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JD[t.type]:e==="textarea"}function hN(t,e,n,r){H2(r),e=Sg(e,"onChange"),0<e.length&&(n=new S1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _d=null,Yd=null;function XD(t){_N(t,0)}function Om(t){var e=ul(t);if(U2(e))return t}function e5(t,e){if(t==="change")return e}var fN=!1;if(Ui){var Fy;if(Ui){var jy="oninput"in document;if(!jy){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),jy=typeof t_.oninput=="function"}Fy=jy}else Fy=!1;fN=Fy&&(!document.documentMode||9<document.documentMode)}function n_(){_d&&(_d.detachEvent("onpropertychange",pN),Yd=_d=null)}function pN(t){if(t.propertyName==="value"&&Om(Yd)){var e=[];hN(e,Yd,t,w1(t)),G2(XD,e)}}function t5(t,e,n){t==="focusin"?(n_(),_d=e,Yd=n,_d.attachEvent("onpropertychange",pN)):t==="focusout"&&n_()}function n5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Om(Yd)}function r5(t,e){if(t==="click")return Om(e)}function s5(t,e){if(t==="input"||t==="change")return Om(e)}function i5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _s=typeof Object.is=="function"?Object.is:i5;function Zd(t,e){if(_s(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!A0.call(e,s)||!_s(t[s],e[s]))return!1}return!0}function r_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s_(t,e){var n=r_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r_(n)}}function gN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mN(){for(var t=window,e=yg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yg(t.document)}return e}function x1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o5(t){var e=mN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gN(n.ownerDocument.documentElement,n)){if(r!==null&&x1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=s_(n,i);var o=s_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a5=Ui&&"documentMode"in document&&11>=document.documentMode,cl=null,W0=null,Sd=null,q0=!1;function i_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q0||cl==null||cl!==yg(r)||(r=cl,"selectionStart"in r&&x1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sd&&Zd(Sd,r)||(Sd=r,r=Sg(W0,"onSelect"),0<r.length&&(e=new S1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cl)))}function ep(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ll={animationend:ep("Animation","AnimationEnd"),animationiteration:ep("Animation","AnimationIteration"),animationstart:ep("Animation","AnimationStart"),transitionend:ep("Transition","TransitionEnd")},zy={},yN={};Ui&&(yN=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Rm(t){if(zy[t])return zy[t];if(!ll[t])return t;var e=ll[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yN)return zy[t]=e[n];return t}var wN=Rm("animationend"),vN=Rm("animationiteration"),bN=Rm("animationstart"),EN=Rm("transitionend"),CN=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(t,e){CN.set(t,e),Ec(e,[t])}for(var Hy=0;Hy<o_.length;Hy++){var Wy=o_[Hy],c5=Wy.toLowerCase(),l5=Wy[0].toUpperCase()+Wy.slice(1);ua(c5,"on"+l5)}ua(wN,"onAnimationEnd");ua(vN,"onAnimationIteration");ua(bN,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(EN,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);Ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u5=new Set("cancel close invalid load scroll toggle".split(" ").concat(ld));function a_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cD(r,e,void 0,t),t.currentTarget=null}function _N(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;a_(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;a_(s,a,l),i=c}}}if(vg)throw t=F0,vg=!1,F0=null,t}function gt(t,e){var n=e[Z0];n===void 0&&(n=e[Z0]=new Set);var r=t+"__bubble";n.has(r)||(SN(e,t,2,!1),n.add(r))}function qy(t,e,n){var r=0;e&&(r|=4),SN(n,t,r,e)}var tp="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[tp]){t[tp]=!0,O2.forEach(function(n){n!=="selectionchange"&&(u5.has(n)||qy(n,!1,t),qy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tp]||(e[tp]=!0,qy("selectionchange",!1,e))}}function SN(t,e,n,r){switch(aN(e)){case 1:var s=SD;break;case 4:s=AD;break;default:s=C1}n=s.bind(null,e,n,t),s=void 0,!B0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ta(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}G2(function(){var l=i,u=w1(n),d=[];e:{var h=CN.get(t);if(h!==void 0){var f=S1,p=t;switch(t){case"keypress":if(Vp(n)===0)break e;case"keydown":case"keyup":f=FD;break;case"focusin":p="focus",f=By;break;case"focusout":p="blur",f=By;break;case"beforeblur":case"afterblur":f=By;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=YC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ND;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=HD;break;case wN:case vN:case bN:f=OD;break;case EN:f=qD;break;case"scroll":f=ID;break;case"wheel":f=GD;break;case"copy":case"cut":case"paste":f=kD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=QC}var g=(e&4)!==0,v=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=l,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,m!==null&&(b=qd(y,m),b!=null&&g.push(Jd(y,b,w)))),v)break;y=y.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==L0&&(p=n.relatedTarget||n.fromElement)&&(Ta(p)||p[Li]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?Ta(p):null,p!==null&&(v=Cc(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(g=YC,b="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=QC,b="onPointerLeave",m="onPointerEnter",y="pointer"),v=f==null?h:ul(f),w=p==null?h:ul(p),h=new g(b,y+"leave",f,n,u),h.target=v,h.relatedTarget=w,b=null,Ta(u)===l&&(g=new g(m,y+"enter",p,n,u),g.target=w,g.relatedTarget=v,b=g),v=b,f&&p)t:{for(g=f,m=p,y=0,w=g;w;w=kc(w))y++;for(w=0,b=m;b;b=kc(b))w++;for(;0<y-w;)g=kc(g),y--;for(;0<w-y;)m=kc(m),w--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=kc(g),m=kc(m)}g=null}else g=null;f!==null&&c_(d,h,f,g,!1),p!==null&&v!==null&&c_(d,v,p,g,!0)}}e:{if(h=l?ul(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=e5;else if(e_(h))if(fN)E=s5;else{E=n5;var S=t5}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=r5);if(E&&(E=E(t,l))){hN(d,E,n,u);break e}S&&S(t,h,l),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&R0(h,"number",h.value)}switch(S=l?ul(l):window,t){case"focusin":(e_(S)||S.contentEditable==="true")&&(cl=S,W0=l,Sd=null);break;case"focusout":Sd=W0=cl=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,i_(d,n,u);break;case"selectionchange":if(a5)break;case"keydown":case"keyup":i_(d,n,u)}var _;if(I1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else al?uN(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(lN&&n.locale!=="ko"&&(al||T!=="onCompositionStart"?T==="onCompositionEnd"&&al&&(_=cN()):(ko=u,_1="value"in ko?ko.value:ko.textContent,al=!0)),S=Sg(l,T),0<S.length&&(T=new ZC(T,t,null,n,u),d.push({event:T,listeners:S}),_?T.data=_:(_=dN(n),_!==null&&(T.data=_)))),(_=YD?ZD(t,n):QD(t,n))&&(l=Sg(l,"onBeforeInput"),0<l.length&&(u=new ZC("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=_))}_N(d,e)})}function Jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sg(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qd(t,n),i!=null&&r.unshift(Jd(t,i,s)),i=qd(t,e),i!=null&&r.push(Jd(t,i,s))),t=t.return}return r}function kc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=qd(n,i),c!=null&&o.unshift(Jd(n,c,a))):s||(c=qd(n,i),c!=null&&o.push(Jd(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var d5=/\r\n?/g,h5=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(d5,`
`).replace(h5,"")}function np(t,e,n){if(e=l_(e),l_(t)!==e&&n)throw Error(G(425))}function Ag(){}var V0=null,G0=null;function K0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Y0=typeof setTimeout=="function"?setTimeout:void 0,f5=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,p5=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(g5)}:Y0;function g5(t){setTimeout(function(){throw t})}function Gy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Kd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kd(e)}function jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fu=Math.random().toString(36).slice(2),Hs="__reactFiber$"+fu,Xd="__reactProps$"+fu,Li="__reactContainer$"+fu,Z0="__reactEvents$"+fu,m5="__reactListeners$"+fu,y5="__reactHandles$"+fu;function Ta(t){var e=t[Hs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Li]||n[Hs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d_(t);t!==null;){if(n=t[Hs])return n;t=d_(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[Hs]||t[Li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function km(t){return t[Xd]||null}var Q0=[],dl=-1;function da(t){return{current:t}}function wt(t){0>dl||(t.current=Q0[dl],Q0[dl]=null,dl--)}function ht(t,e){dl++,Q0[dl]=t.current,t.current=e}var na={},Nn=da(na),or=da(!1),Xa=na;function Vl(t,e){var n=t.type.contextTypes;if(!n)return na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ar(t){return t=t.childContextTypes,t!=null}function Ig(){wt(or),wt(Nn)}function h_(t,e,n){if(Nn.current!==na)throw Error(G(168));ht(Nn,e),ht(or,n)}function AN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,tD(t)||"Unknown",s));return It({},n,r)}function xg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,Xa=Nn.current,ht(Nn,t),ht(or,or.current),!0}function f_(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=AN(t,e,Xa),r.__reactInternalMemoizedMergedChildContext=t,wt(or),wt(Nn),ht(Nn,t)):wt(or),ht(or,n)}var Ei=null,$m=!1,Ky=!1;function IN(t){Ei===null?Ei=[t]:Ei.push(t)}function w5(t){$m=!0,IN(t)}function ha(){if(!Ky&&Ei!==null){Ky=!0;var t=0,e=tt;try{var n=Ei;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ei=null,$m=!1}catch(s){throw Ei!==null&&(Ei=Ei.slice(t+1)),Q2(v1,ha),s}finally{tt=e,Ky=!1}}return null}var hl=[],fl=0,Ng=null,Tg=0,Fr=[],jr=0,ec=null,xi=1,Ni="";function Ca(t,e){hl[fl++]=Tg,hl[fl++]=Ng,Ng=t,Tg=e}function xN(t,e,n){Fr[jr++]=xi,Fr[jr++]=Ni,Fr[jr++]=ec,ec=t;var r=xi;t=Ni;var s=32-ws(r)-1;r&=~(1<<s),n+=1;var i=32-ws(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xi=1<<32-ws(e)+s|n<<s|r,Ni=i+t}else xi=1<<i|n<<s|r,Ni=t}function N1(t){t.return!==null&&(Ca(t,1),xN(t,1,0))}function T1(t){for(;t===Ng;)Ng=hl[--fl],hl[fl]=null,Tg=hl[--fl],hl[fl]=null;for(;t===ec;)ec=Fr[--jr],Fr[jr]=null,Ni=Fr[--jr],Fr[jr]=null,xi=Fr[--jr],Fr[jr]=null}var Sr=null,Cr=null,vt=!1,ds=null;function NN(t,e){var n=zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sr=t,Cr=jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sr=t,Cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ec!==null?{id:xi,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sr=t,Cr=null,!0):!1;default:return!1}}function J0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function X0(t){if(vt){var e=Cr;if(e){var n=e;if(!p_(t,e)){if(J0(t))throw Error(G(418));e=jo(n.nextSibling);var r=Sr;e&&p_(t,e)?NN(r,n):(t.flags=t.flags&-4097|2,vt=!1,Sr=t)}}else{if(J0(t))throw Error(G(418));t.flags=t.flags&-4097|2,vt=!1,Sr=t}}}function g_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sr=t}function rp(t){if(t!==Sr)return!1;if(!vt)return g_(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K0(t.type,t.memoizedProps)),e&&(e=Cr)){if(J0(t))throw TN(),Error(G(418));for(;e;)NN(t,e),e=jo(e.nextSibling)}if(g_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cr=jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cr=null}}else Cr=Sr?jo(t.stateNode.nextSibling):null;return!0}function TN(){for(var t=Cr;t;)t=jo(t.nextSibling)}function Gl(){Cr=Sr=null,vt=!1}function P1(t){ds===null?ds=[t]:ds.push(t)}var v5=Wi.ReactCurrentBatchConfig;function ku(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function sp(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m_(t){var e=t._init;return e(t._payload)}function PN(t){function e(m,y){if(t){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=qo(m,y),m.index=0,m.sibling=null,m}function i(m,y,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,w,b){return y===null||y.tag!==6?(y=tw(w,m.mode,b),y.return=m,y):(y=s(y,w),y.return=m,y)}function c(m,y,w,b){var E=w.type;return E===ol?u(m,y,w.props.children,b,w.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ho&&m_(E)===y.type)?(b=s(y,w.props),b.ref=ku(m,y,w),b.return=m,b):(b=Xp(w.type,w.key,w.props,null,m.mode,b),b.ref=ku(m,y,w),b.return=m,b)}function l(m,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=nw(w,m.mode,b),y.return=m,y):(y=s(y,w.children||[]),y.return=m,y)}function u(m,y,w,b,E){return y===null||y.tag!==7?(y=Ka(w,m.mode,b,E),y.return=m,y):(y=s(y,w),y.return=m,y)}function d(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=tw(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gf:return w=Xp(y.type,y.key,y.props,null,m.mode,w),w.ref=ku(m,null,y),w.return=m,w;case il:return y=nw(y,m.mode,w),y.return=m,y;case ho:var b=y._init;return d(m,b(y._payload),w)}if(ad(y)||Nu(y))return y=Ka(y,m.mode,w,null),y.return=m,y;sp(m,y)}return null}function h(m,y,w,b){var E=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(m,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gf:return w.key===E?c(m,y,w,b):null;case il:return w.key===E?l(m,y,w,b):null;case ho:return E=w._init,h(m,y,E(w._payload),b)}if(ad(w)||Nu(w))return E!==null?null:u(m,y,w,b,null);sp(m,w)}return null}function f(m,y,w,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(w)||null,a(y,m,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gf:return m=m.get(b.key===null?w:b.key)||null,c(y,m,b,E);case il:return m=m.get(b.key===null?w:b.key)||null,l(y,m,b,E);case ho:var S=b._init;return f(m,y,w,S(b._payload),E)}if(ad(b)||Nu(b))return m=m.get(w)||null,u(y,m,b,E,null);sp(y,b)}return null}function p(m,y,w,b){for(var E=null,S=null,_=y,T=y=0,x=null;_!==null&&T<w.length;T++){_.index>T?(x=_,_=null):x=_.sibling;var k=h(m,_,w[T],b);if(k===null){_===null&&(_=x);break}t&&_&&k.alternate===null&&e(m,_),y=i(k,y,T),S===null?E=k:S.sibling=k,S=k,_=x}if(T===w.length)return n(m,_),vt&&Ca(m,T),E;if(_===null){for(;T<w.length;T++)_=d(m,w[T],b),_!==null&&(y=i(_,y,T),S===null?E=_:S.sibling=_,S=_);return vt&&Ca(m,T),E}for(_=r(m,_);T<w.length;T++)x=f(_,m,T,w[T],b),x!==null&&(t&&x.alternate!==null&&_.delete(x.key===null?T:x.key),y=i(x,y,T),S===null?E=x:S.sibling=x,S=x);return t&&_.forEach(function($){return e(m,$)}),vt&&Ca(m,T),E}function g(m,y,w,b){var E=Nu(w);if(typeof E!="function")throw Error(G(150));if(w=E.call(w),w==null)throw Error(G(151));for(var S=E=null,_=y,T=y=0,x=null,k=w.next();_!==null&&!k.done;T++,k=w.next()){_.index>T?(x=_,_=null):x=_.sibling;var $=h(m,_,k.value,b);if($===null){_===null&&(_=x);break}t&&_&&$.alternate===null&&e(m,_),y=i($,y,T),S===null?E=$:S.sibling=$,S=$,_=x}if(k.done)return n(m,_),vt&&Ca(m,T),E;if(_===null){for(;!k.done;T++,k=w.next())k=d(m,k.value,b),k!==null&&(y=i(k,y,T),S===null?E=k:S.sibling=k,S=k);return vt&&Ca(m,T),E}for(_=r(m,_);!k.done;T++,k=w.next())k=f(_,m,T,k.value,b),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?T:k.key),y=i(k,y,T),S===null?E=k:S.sibling=k,S=k);return t&&_.forEach(function(M){return e(m,M)}),vt&&Ca(m,T),E}function v(m,y,w,b){if(typeof w=="object"&&w!==null&&w.type===ol&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gf:e:{for(var E=w.key,S=y;S!==null;){if(S.key===E){if(E=w.type,E===ol){if(S.tag===7){n(m,S.sibling),y=s(S,w.props.children),y.return=m,m=y;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ho&&m_(E)===S.type){n(m,S.sibling),y=s(S,w.props),y.ref=ku(m,S,w),y.return=m,m=y;break e}n(m,S);break}else e(m,S);S=S.sibling}w.type===ol?(y=Ka(w.props.children,m.mode,b,w.key),y.return=m,m=y):(b=Xp(w.type,w.key,w.props,null,m.mode,b),b.ref=ku(m,y,w),b.return=m,m=b)}return o(m);case il:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(m,y.sibling),y=s(y,w.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=nw(w,m.mode,b),y.return=m,m=y}return o(m);case ho:return S=w._init,v(m,y,S(w._payload),b)}if(ad(w))return p(m,y,w,b);if(Nu(w))return g(m,y,w,b);sp(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,w),y.return=m,m=y):(n(m,y),y=tw(w,m.mode,b),y.return=m,m=y),o(m)):n(m,y)}return v}var Kl=PN(!0),ON=PN(!1),Pg=da(null),Og=null,pl=null,O1=null;function R1(){O1=pl=Og=null}function k1(t){var e=Pg.current;wt(Pg),t._currentValue=e}function ev(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _l(t,e){Og=t,O1=pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sr=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(O1!==t)if(t={context:t,memoizedValue:e,next:null},pl===null){if(Og===null)throw Error(G(308));pl=t,Og.dependencies={lanes:0,firstContext:t}}else pl=pl.next=t;return e}var Pa=null;function $1(t){Pa===null?Pa=[t]:Pa.push(t)}function RN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,$1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mi(t,r)}function Mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fo=!1;function D1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mi(t,n)}return s=r.interleaved,s===null?(e.next=e,$1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mi(t,n)}function Gp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,b1(t,n)}}function y_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rg(t,e,n,r){var s=t.updateQueue;fo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=It({},d,h);break e;case 2:fo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);nc|=o,t.lanes=o,t.memoizedState=d}}function w_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var mf={},Vs=da(mf),eh=da(mf),th=da(mf);function Oa(t){if(t===mf)throw Error(G(174));return t}function U1(t,e){switch(ht(th,e),ht(eh,t),ht(Vs,mf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$0(e,t)}wt(Vs),ht(Vs,e)}function Yl(){wt(Vs),wt(eh),wt(th)}function $N(t){Oa(th.current);var e=Oa(Vs.current),n=$0(e,t.type);e!==n&&(ht(eh,t),ht(Vs,n))}function L1(t){eh.current===t&&(wt(Vs),wt(eh))}var _t=da(0);function kg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yy=[];function M1(){for(var t=0;t<Yy.length;t++)Yy[t]._workInProgressVersionPrimary=null;Yy.length=0}var Kp=Wi.ReactCurrentDispatcher,Zy=Wi.ReactCurrentBatchConfig,tc=0,St=null,jt=null,Yt=null,$g=!1,Ad=!1,nh=0,b5=0;function yn(){throw Error(G(321))}function B1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_s(t[n],e[n]))return!1;return!0}function F1(t,e,n,r,s,i){if(tc=i,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kp.current=t===null||t.memoizedState===null?S5:A5,t=n(r,s),Ad){i=0;do{if(Ad=!1,nh=0,25<=i)throw Error(G(301));i+=1,Yt=jt=null,e.updateQueue=null,Kp.current=I5,t=n(r,s)}while(Ad)}if(Kp.current=Dg,e=jt!==null&&jt.next!==null,tc=0,Yt=jt=St=null,$g=!1,e)throw Error(G(300));return t}function j1(){var t=nh!==0;return nh=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?St.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Kr(){if(jt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Yt===null?St.memoizedState:Yt.next;if(e!==null)Yt=e,jt=t;else{if(t===null)throw Error(G(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Yt===null?St.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function rh(t,e){return typeof e=="function"?e(t):e}function Qy(t){var e=Kr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((tc&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,St.lanes|=u,nc|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,_s(r,e.memoizedState)||(sr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,St.lanes|=i,nc|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jy(t){var e=Kr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_s(i,e.memoizedState)||(sr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function DN(){}function UN(t,e){var n=St,r=Kr(),s=e(),i=!_s(r.memoizedState,s);if(i&&(r.memoizedState=s,sr=!0),r=r.queue,z1(BN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,sh(9,MN.bind(null,n,r,s,e),void 0,null),Xt===null)throw Error(G(349));tc&30||LN(n,e,s)}return s}function LN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MN(t,e,n,r){e.value=n,e.getSnapshot=r,FN(e)&&jN(t)}function BN(t,e,n){return n(function(){FN(e)&&jN(t)})}function FN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_s(t,n)}catch{return!0}}function jN(t){var e=Mi(t,1);e!==null&&vs(e,t,1,-1)}function v_(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:t},e.queue=t,t=t.dispatch=_5.bind(null,St,t),[e.memoizedState,t]}function sh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zN(){return Kr().memoizedState}function Yp(t,e,n,r){var s=$s();St.flags|=t,s.memoizedState=sh(1|e,n,void 0,r===void 0?null:r)}function Dm(t,e,n,r){var s=Kr();r=r===void 0?null:r;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,r!==null&&B1(r,o.deps)){s.memoizedState=sh(e,n,i,r);return}}St.flags|=t,s.memoizedState=sh(1|e,n,i,r)}function b_(t,e){return Yp(8390656,8,t,e)}function z1(t,e){return Dm(2048,8,t,e)}function HN(t,e){return Dm(4,2,t,e)}function WN(t,e){return Dm(4,4,t,e)}function qN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VN(t,e,n){return n=n!=null?n.concat([t]):null,Dm(4,4,qN.bind(null,e,t),n)}function H1(){}function GN(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&B1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KN(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&B1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YN(t,e,n){return tc&21?(_s(n,e)||(n=eN(),St.lanes|=n,nc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sr=!0),t.memoizedState=n)}function E5(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=Zy.transition;Zy.transition={};try{t(!1),e()}finally{tt=n,Zy.transition=r}}function ZN(){return Kr().memoizedState}function C5(t,e,n){var r=Wo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QN(t))JN(e,n);else if(n=RN(t,e,n,r),n!==null){var s=Dn();vs(n,t,r,s),XN(n,e,r)}}function _5(t,e,n){var r=Wo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QN(t))JN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_s(a,o)){var c=e.interleaved;c===null?(s.next=s,$1(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=RN(t,e,s,r),n!==null&&(s=Dn(),vs(n,t,r,s),XN(n,e,r))}}function QN(t){var e=t.alternate;return t===St||e!==null&&e===St}function JN(t,e){Ad=$g=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,b1(t,n)}}var Dg={readContext:Gr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},S5={readContext:Gr,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:b_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yp(4194308,4,qN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yp(4,2,t,e)},useMemo:function(t,e){var n=$s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=C5.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:v_,useDebugValue:H1,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=v_(!1),e=t[0];return t=E5.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=St,s=$s();if(vt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Xt===null)throw Error(G(349));tc&30||LN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,b_(BN.bind(null,r,i,t),[t]),r.flags|=2048,sh(9,MN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=$s(),e=Xt.identifierPrefix;if(vt){var n=Ni,r=xi;n=(r&~(1<<32-ws(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=b5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A5={readContext:Gr,useCallback:GN,useContext:Gr,useEffect:z1,useImperativeHandle:VN,useInsertionEffect:HN,useLayoutEffect:WN,useMemo:KN,useReducer:Qy,useRef:zN,useState:function(){return Qy(rh)},useDebugValue:H1,useDeferredValue:function(t){var e=Kr();return YN(e,jt.memoizedState,t)},useTransition:function(){var t=Qy(rh)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:DN,useSyncExternalStore:UN,useId:ZN,unstable_isNewReconciler:!1},I5={readContext:Gr,useCallback:GN,useContext:Gr,useEffect:z1,useImperativeHandle:VN,useInsertionEffect:HN,useLayoutEffect:WN,useMemo:KN,useReducer:Jy,useRef:zN,useState:function(){return Jy(rh)},useDebugValue:H1,useDeferredValue:function(t){var e=Kr();return jt===null?e.memoizedState=t:YN(e,jt.memoizedState,t)},useTransition:function(){var t=Jy(rh)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:DN,useSyncExternalStore:UN,useId:ZN,unstable_isNewReconciler:!1};function as(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Um={isMounted:function(t){return(t=t._reactInternals)?Cc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dn(),s=Wo(t),i=Pi(r,s);i.payload=e,n!=null&&(i.callback=n),e=zo(t,i,s),e!==null&&(vs(e,t,s,r),Gp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dn(),s=Wo(t),i=Pi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zo(t,i,s),e!==null&&(vs(e,t,s,r),Gp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dn(),r=Wo(t),s=Pi(n,r);s.tag=2,e!=null&&(s.callback=e),e=zo(t,s,r),e!==null&&(vs(e,t,r,n),Gp(e,t,r))}};function E_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Zd(n,r)||!Zd(s,i):!0}function eT(t,e,n){var r=!1,s=na,i=e.contextType;return typeof i=="object"&&i!==null?i=Gr(i):(s=ar(e)?Xa:Nn.current,r=e.contextTypes,i=(r=r!=null)?Vl(t,s):na),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Um,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function C_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Um.enqueueReplaceState(e,e.state,null)}function nv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},D1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gr(i):(i=ar(e)?Xa:Nn.current,s.context=Vl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(tv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Um.enqueueReplaceState(s,s.state,null),Rg(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zl(t,e){try{var n="",r=e;do n+=eD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x5=typeof WeakMap=="function"?WeakMap:Map;function tT(t,e,n){n=Pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lg||(Lg=!0,fv=r),rv(t,e)},n}function nT(t,e,n){n=Pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){rv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rv(t,e),typeof r!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function __(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x5;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=j5.bind(null,t,e,n),e.then(t,t))}function S_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function A_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pi(-1,1),e.tag=2,zo(n,e,1))),n.lanes|=1),t)}var N5=Wi.ReactCurrentOwner,sr=!1;function $n(t,e,n,r){e.child=t===null?ON(e,null,n,r):Kl(e,t.child,n,r)}function I_(t,e,n,r,s){n=n.render;var i=e.ref;return _l(e,s),r=F1(t,e,n,r,i,s),n=j1(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bi(t,e,s)):(vt&&n&&N1(e),e.flags|=1,$n(t,e,r,s),e.child)}function x_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Q1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,rT(t,e,i,r,s)):(t=Xp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zd,n(o,r)&&t.ref===e.ref)return Bi(t,e,s)}return e.flags|=1,t=qo(i,r),t.ref=e.ref,t.return=e,e.child=t}function rT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Zd(i,r)&&t.ref===e.ref)if(sr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,Bi(t,e,s)}return sv(t,e,n,r,s)}function sT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ml,wr),wr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(ml,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ht(ml,wr),wr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ht(ml,wr),wr|=r;return $n(t,e,s,n),e.child}function iT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sv(t,e,n,r,s){var i=ar(n)?Xa:Nn.current;return i=Vl(e,i),_l(e,s),n=F1(t,e,n,r,i,s),r=j1(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bi(t,e,s)):(vt&&r&&N1(e),e.flags|=1,$n(t,e,n,s),e.child)}function N_(t,e,n,r,s){if(ar(n)){var i=!0;xg(e)}else i=!1;if(_l(e,s),e.stateNode===null)Zp(t,e),eT(e,n,r),nv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Gr(l):(l=ar(n)?Xa:Nn.current,l=Vl(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&C_(e,o,r,l),fo=!1;var h=e.memoizedState;o.state=h,Rg(e,r,o,s),c=e.memoizedState,a!==r||h!==c||or.current||fo?(typeof u=="function"&&(tv(e,n,u,r),c=e.memoizedState),(a=fo||E_(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kN(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:as(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gr(c):(c=ar(n)?Xa:Nn.current,c=Vl(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&C_(e,o,r,c),fo=!1,h=e.memoizedState,o.state=h,Rg(e,r,o,s);var p=e.memoizedState;a!==d||h!==p||or.current||fo?(typeof f=="function"&&(tv(e,n,f,r),p=e.memoizedState),(l=fo||E_(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return iv(t,e,n,r,i,s)}function iv(t,e,n,r,s,i){iT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&f_(e,n,!1),Bi(t,e,i);r=e.stateNode,N5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kl(e,t.child,null,i),e.child=Kl(e,null,a,i)):$n(t,e,a,i),e.memoizedState=r.state,s&&f_(e,n,!0),e.child}function oT(t){var e=t.stateNode;e.pendingContext?h_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h_(t,e.context,!1),U1(t,e.containerInfo)}function T_(t,e,n,r,s){return Gl(),P1(s),e.flags|=256,$n(t,e,n,r),e.child}var ov={dehydrated:null,treeContext:null,retryLane:0};function av(t){return{baseLanes:t,cachePool:null,transitions:null}}function aT(t,e,n){var r=e.pendingProps,s=_t.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ht(_t,s&1),t===null)return X0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bm(o,r,0,null),t=Ka(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=av(n),e.memoizedState=ov,t):W1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return T5(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=qo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=qo(a,i):(i=Ka(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?av(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ov,r}return i=t.child,t=i.sibling,r=qo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function W1(t,e){return e=Bm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ip(t,e,n,r){return r!==null&&P1(r),Kl(e,t.child,null,n),t=W1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T5(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Xy(Error(G(422))),ip(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Bm({mode:"visible",children:r.children},s,0,null),i=Ka(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Kl(e,t.child,null,o),e.child.memoizedState=av(o),e.memoizedState=ov,i);if(!(e.mode&1))return ip(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Xy(i,r,void 0),ip(t,e,o,r)}if(a=(o&t.childLanes)!==0,sr||a){if(r=Xt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mi(t,s),vs(r,t,s,-1))}return Z1(),r=Xy(Error(G(421))),ip(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Cr=jo(s.nextSibling),Sr=e,vt=!0,ds=null,t!==null&&(Fr[jr++]=xi,Fr[jr++]=Ni,Fr[jr++]=ec,xi=t.id,Ni=t.overflow,ec=e),e=W1(e,r.children),e.flags|=4096,e)}function P_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ev(t.return,e,n)}function ew(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($n(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P_(t,n,e);else if(t.tag===19)P_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ht(_t,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&kg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ew(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&kg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ew(e,!0,n,null,i);break;case"together":ew(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P5(t,e,n){switch(e.tag){case 3:oT(e),Gl();break;case 5:$N(e);break;case 1:ar(e.type)&&xg(e);break;case 4:U1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ht(Pg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ht(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?aT(t,e,n):(ht(_t,_t.current&1),t=Bi(t,e,n),t!==null?t.sibling:null);ht(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,sT(t,e,n)}return Bi(t,e,n)}var lT,cv,uT,dT;lT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cv=function(){};uT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Oa(Vs.current);var i=null;switch(n){case"input":s=P0(t,s),r=P0(t,r),i=[];break;case"select":s=It({},s,{value:void 0}),r=It({},r,{value:void 0}),i=[];break;case"textarea":s=k0(t,s),r=k0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ag)}D0(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Hd.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Hd.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&gt("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};dT=function(t,e,n,r){n!==r&&(e.flags|=4)};function $u(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function O5(t,e,n){var r=e.pendingProps;switch(T1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return ar(e.type)&&Ig(),wn(e),null;case 3:return r=e.stateNode,Yl(),wt(or),wt(Nn),M1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ds!==null&&(mv(ds),ds=null))),cv(t,e),wn(e),null;case 5:L1(e);var s=Oa(th.current);if(n=e.type,t!==null&&e.stateNode!=null)uT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return wn(e),null}if(t=Oa(Vs.current),rp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Hs]=e,r[Xd]=i,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(s=0;s<ld.length;s++)gt(ld[s],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":BC(r,i),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},gt("invalid",r);break;case"textarea":jC(r,i),gt("invalid",r)}D0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&np(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&np(r.textContent,a,t),s=["children",""+a]):Hd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":Kf(r),FC(r,i,!0);break;case"textarea":Kf(r),zC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ag)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hs]=e,t[Xd]=r,lT(t,e,!1,!1),e.stateNode=t;e:{switch(o=U0(n,r),n){case"dialog":gt("cancel",t),gt("close",t),s=r;break;case"iframe":case"object":case"embed":gt("load",t),s=r;break;case"video":case"audio":for(s=0;s<ld.length;s++)gt(ld[s],t);s=r;break;case"source":gt("error",t),s=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),s=r;break;case"details":gt("toggle",t),s=r;break;case"input":BC(t,r),s=P0(t,r),gt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=It({},r,{value:void 0}),gt("invalid",t);break;case"textarea":jC(t,r),s=k0(t,r),gt("invalid",t);break;default:s=r}D0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?z2(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F2(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wd(t,c):typeof c=="number"&&Wd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&gt("scroll",t):c!=null&&p1(t,i,c,o))}switch(n){case"input":Kf(t),FC(t,r,!1);break;case"textarea":Kf(t),zC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ta(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vl(t,!!r.multiple,i,!1):r.defaultValue!=null&&vl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ag)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(t&&e.stateNode!=null)dT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Oa(th.current),Oa(Vs.current),rp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hs]=e,(i=r.nodeValue!==n)&&(t=Sr,t!==null))switch(t.tag){case 3:np(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&np(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hs]=e,e.stateNode=r}return wn(e),null;case 13:if(wt(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Cr!==null&&e.mode&1&&!(e.flags&128))TN(),Gl(),e.flags|=98560,i=!1;else if(i=rp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Hs]=e}else Gl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wn(e),i=!1}else ds!==null&&(mv(ds),ds=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Ht===0&&(Ht=3):Z1())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return Yl(),cv(t,e),t===null&&Qd(e.stateNode.containerInfo),wn(e),null;case 10:return k1(e.type._context),wn(e),null;case 17:return ar(e.type)&&Ig(),wn(e),null;case 19:if(wt(_t),i=e.memoizedState,i===null)return wn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)$u(i,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kg(t),o!==null){for(e.flags|=128,$u(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ht(_t,_t.current&1|2),e.child}t=t.sibling}i.tail!==null&&Pt()>Ql&&(e.flags|=128,r=!0,$u(i,!1),e.lanes=4194304)}else{if(!r)if(t=kg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$u(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vt)return wn(e),null}else 2*Pt()-i.renderingStartTime>Ql&&n!==1073741824&&(e.flags|=128,r=!0,$u(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Pt(),e.sibling=null,n=_t.current,ht(_t,r?n&1|2:n&1),e):(wn(e),null);case 22:case 23:return Y1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wr&1073741824&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function R5(t,e){switch(T1(e),e.tag){case 1:return ar(e.type)&&Ig(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yl(),wt(or),wt(Nn),M1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return L1(e),null;case 13:if(wt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Gl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(_t),null;case 4:return Yl(),null;case 10:return k1(e.type._context),null;case 22:case 23:return Y1(),null;case 24:return null;default:return null}}var op=!1,xn=!1,k5=typeof WeakSet=="function"?WeakSet:Set,de=null;function gl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function lv(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var O_=!1;function $5(t,e){if(V0=Cg,t=mN(),x1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(G0={focusedElem:t,selectionRange:n},Cg=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:as(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(b){Tt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return p=O_,O_=!1,p}function Id(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&lv(e,n,i)}s=s.next}while(s!==r)}}function Lm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hT(t){var e=t.alternate;e!==null&&(t.alternate=null,hT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hs],delete e[Xd],delete e[Z0],delete e[m5],delete e[y5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fT(t){return t.tag===5||t.tag===3||t.tag===4}function R_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ag));else if(r!==4&&(t=t.child,t!==null))for(dv(t,e,n),t=t.sibling;t!==null;)dv(t,e,n),t=t.sibling}function hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hv(t,e,n),t=t.sibling;t!==null;)hv(t,e,n),t=t.sibling}var an=null,us=!1;function Ki(t,e,n){for(n=n.child;n!==null;)pT(t,e,n),n=n.sibling}function pT(t,e,n){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(Tm,n)}catch{}switch(n.tag){case 5:xn||gl(n,e);case 6:var r=an,s=us;an=null,Ki(t,e,n),an=r,us=s,an!==null&&(us?(t=an,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):an.removeChild(n.stateNode));break;case 18:an!==null&&(us?(t=an,n=n.stateNode,t.nodeType===8?Gy(t.parentNode,n):t.nodeType===1&&Gy(t,n),Kd(t)):Gy(an,n.stateNode));break;case 4:r=an,s=us,an=n.stateNode.containerInfo,us=!0,Ki(t,e,n),an=r,us=s;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lv(n,e,o),s=s.next}while(s!==r)}Ki(t,e,n);break;case 1:if(!xn&&(gl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tt(n,e,a)}Ki(t,e,n);break;case 21:Ki(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,Ki(t,e,n),xn=r):Ki(t,e,n);break;default:Ki(t,e,n)}}function k_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k5),e.forEach(function(r){var s=H5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function es(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:an=a.stateNode,us=!1;break e;case 3:an=a.stateNode.containerInfo,us=!0;break e;case 4:an=a.stateNode.containerInfo,us=!0;break e}a=a.return}if(an===null)throw Error(G(160));pT(i,o,s),an=null,us=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Tt(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gT(e,t),e=e.sibling}function gT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(es(e,t),xs(t),r&4){try{Id(3,t,t.return),Lm(3,t)}catch(g){Tt(t,t.return,g)}try{Id(5,t,t.return)}catch(g){Tt(t,t.return,g)}}break;case 1:es(e,t),xs(t),r&512&&n!==null&&gl(n,n.return);break;case 5:if(es(e,t),xs(t),r&512&&n!==null&&gl(n,n.return),t.flags&32){var s=t.stateNode;try{Wd(s,"")}catch(g){Tt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&L2(s,i),U0(a,o);var l=U0(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?z2(s,d):u==="dangerouslySetInnerHTML"?F2(s,d):u==="children"?Wd(s,d):p1(s,u,d,l)}switch(a){case"input":O0(s,i);break;case"textarea":M2(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?vl(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?vl(s,!!i.multiple,i.defaultValue,!0):vl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xd]=i}catch(g){Tt(t,t.return,g)}}break;case 6:if(es(e,t),xs(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Tt(t,t.return,g)}}break;case 3:if(es(e,t),xs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kd(e.containerInfo)}catch(g){Tt(t,t.return,g)}break;case 4:es(e,t),xs(t);break;case 13:es(e,t),xs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(G1=Pt())),r&4&&k_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(l=xn)||u,es(e,t),xn=l):es(e,t),xs(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(de=t,u=t.child;u!==null;){for(d=de=u;de!==null;){switch(h=de,f=h.child,h.tag){case 0:case 11:case 14:case 15:Id(4,h,h.return);break;case 1:gl(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Tt(r,n,g)}}break;case 5:gl(h,h.return);break;case 22:if(h.memoizedState!==null){D_(d);continue}}f!==null?(f.return=h,de=f):D_(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=j2("display",o))}catch(g){Tt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Tt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:es(e,t),xs(t),r&4&&k_(t);break;case 21:break;default:es(e,t),xs(t)}}function xs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fT(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wd(s,""),r.flags&=-33);var i=R_(t);hv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R_(t);dv(t,a,o);break;default:throw Error(G(161))}}catch(c){Tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function D5(t,e,n){de=t,mT(t)}function mT(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var s=de,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||op;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||xn;a=op;var l=xn;if(op=o,(xn=c)&&!l)for(de=s;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?U_(s):c!==null?(c.return=o,de=c):U_(s);for(;i!==null;)de=i,mT(i),i=i.sibling;de=s,op=a,xn=l}$_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,de=i):$_(t)}}function $_(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||Lm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:as(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&w_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Kd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}xn||e.flags&512&&uv(e)}catch(h){Tt(e,e.return,h)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function D_(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function U_(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lm(4,e)}catch(c){Tt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Tt(e,s,c)}}var i=e.return;try{uv(e)}catch(c){Tt(e,i,c)}break;case 5:var o=e.return;try{uv(e)}catch(c){Tt(e,o,c)}}}catch(c){Tt(e,e.return,c)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var U5=Math.ceil,Ug=Wi.ReactCurrentDispatcher,q1=Wi.ReactCurrentOwner,Wr=Wi.ReactCurrentBatchConfig,je=0,Xt=null,Dt=null,un=0,wr=0,ml=da(0),Ht=0,ih=null,nc=0,Mm=0,V1=0,xd=null,rr=null,G1=0,Ql=1/0,bi=null,Lg=!1,fv=null,Ho=null,ap=!1,$o=null,Mg=0,Nd=0,pv=null,Qp=-1,Jp=0;function Dn(){return je&6?Pt():Qp!==-1?Qp:Qp=Pt()}function Wo(t){return t.mode&1?je&2&&un!==0?un&-un:v5.transition!==null?(Jp===0&&(Jp=eN()),Jp):(t=tt,t!==0||(t=window.event,t=t===void 0?16:aN(t.type)),t):1}function vs(t,e,n,r){if(50<Nd)throw Nd=0,pv=null,Error(G(185));ff(t,n,r),(!(je&2)||t!==Xt)&&(t===Xt&&(!(je&2)&&(Mm|=n),Ht===4&&Eo(t,un)),cr(t,r),n===1&&je===0&&!(e.mode&1)&&(Ql=Pt()+500,$m&&ha()))}function cr(t,e){var n=t.callbackNode;vD(t,e);var r=Eg(t,t===Xt?un:0);if(r===0)n!==null&&qC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qC(n),e===1)t.tag===0?w5(L_.bind(null,t)):IN(L_.bind(null,t)),p5(function(){!(je&6)&&ha()}),n=null;else{switch(tN(r)){case 1:n=v1;break;case 4:n=J2;break;case 16:n=bg;break;case 536870912:n=X2;break;default:n=bg}n=ST(n,yT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yT(t,e){if(Qp=-1,Jp=0,je&6)throw Error(G(327));var n=t.callbackNode;if(Sl()&&t.callbackNode!==n)return null;var r=Eg(t,t===Xt?un:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bg(t,r);else{e=r;var s=je;je|=2;var i=vT();(Xt!==t||un!==e)&&(bi=null,Ql=Pt()+500,Ga(t,e));do try{B5();break}catch(a){wT(t,a)}while(!0);R1(),Ug.current=i,je=s,Dt!==null?e=0:(Xt=null,un=0,e=Ht)}if(e!==0){if(e===2&&(s=j0(t),s!==0&&(r=s,e=gv(t,s))),e===1)throw n=ih,Ga(t,0),Eo(t,r),cr(t,Pt()),n;if(e===6)Eo(t,r);else{if(s=t.current.alternate,!(r&30)&&!L5(s)&&(e=Bg(t,r),e===2&&(i=j0(t),i!==0&&(r=i,e=gv(t,i))),e===1))throw n=ih,Ga(t,0),Eo(t,r),cr(t,Pt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:_a(t,rr,bi);break;case 3:if(Eo(t,r),(r&130023424)===r&&(e=G1+500-Pt(),10<e)){if(Eg(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Dn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Y0(_a.bind(null,t,rr,bi),e);break}_a(t,rr,bi);break;case 4:if(Eo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ws(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U5(r/1960))-r,10<r){t.timeoutHandle=Y0(_a.bind(null,t,rr,bi),r);break}_a(t,rr,bi);break;case 5:_a(t,rr,bi);break;default:throw Error(G(329))}}}return cr(t,Pt()),t.callbackNode===n?yT.bind(null,t):null}function gv(t,e){var n=xd;return t.current.memoizedState.isDehydrated&&(Ga(t,e).flags|=256),t=Bg(t,e),t!==2&&(e=rr,rr=n,e!==null&&mv(e)),t}function mv(t){rr===null?rr=t:rr.push.apply(rr,t)}function L5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_s(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Eo(t,e){for(e&=~V1,e&=~Mm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ws(e),r=1<<n;t[n]=-1,e&=~r}}function L_(t){if(je&6)throw Error(G(327));Sl();var e=Eg(t,0);if(!(e&1))return cr(t,Pt()),null;var n=Bg(t,e);if(t.tag!==0&&n===2){var r=j0(t);r!==0&&(e=r,n=gv(t,r))}if(n===1)throw n=ih,Ga(t,0),Eo(t,e),cr(t,Pt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_a(t,rr,bi),cr(t,Pt()),null}function K1(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(Ql=Pt()+500,$m&&ha())}}function rc(t){$o!==null&&$o.tag===0&&!(je&6)&&Sl();var e=je;je|=1;var n=Wr.transition,r=tt;try{if(Wr.transition=null,tt=1,t)return t()}finally{tt=r,Wr.transition=n,je=e,!(je&6)&&ha()}}function Y1(){wr=ml.current,wt(ml)}function Ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f5(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(T1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ig();break;case 3:Yl(),wt(or),wt(Nn),M1();break;case 5:L1(r);break;case 4:Yl();break;case 13:wt(_t);break;case 19:wt(_t);break;case 10:k1(r.type._context);break;case 22:case 23:Y1()}n=n.return}if(Xt=t,Dt=t=qo(t.current,null),un=wr=e,Ht=0,ih=null,V1=Mm=nc=0,rr=xd=null,Pa!==null){for(e=0;e<Pa.length;e++)if(n=Pa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Pa=null}return t}function wT(t,e){do{var n=Dt;try{if(R1(),Kp.current=Dg,$g){for(var r=St.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$g=!1}if(tc=0,Yt=jt=St=null,Ad=!1,nh=0,q1.current=null,n===null||n.return===null){Ht=1,ih=e,Dt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=un,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=S_(o);if(f!==null){f.flags&=-257,A_(f,o,a,i,e),f.mode&1&&__(i,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){__(i,l,e),Z1();break e}c=Error(G(426))}}else if(vt&&a.mode&1){var v=S_(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),A_(v,o,a,i,e),P1(Zl(c,a));break e}}i=c=Zl(c,a),Ht!==4&&(Ht=2),xd===null?xd=[i]:xd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=tT(i,c,e);y_(i,m);break e;case 1:a=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ho===null||!Ho.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=nT(i,a,e);y_(i,b);break e}}i=i.return}while(i!==null)}ET(n)}catch(E){e=E,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function vT(){var t=Ug.current;return Ug.current=Dg,t===null?Dg:t}function Z1(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Xt===null||!(nc&268435455)&&!(Mm&268435455)||Eo(Xt,un)}function Bg(t,e){var n=je;je|=2;var r=vT();(Xt!==t||un!==e)&&(bi=null,Ga(t,e));do try{M5();break}catch(s){wT(t,s)}while(!0);if(R1(),je=n,Ug.current=r,Dt!==null)throw Error(G(261));return Xt=null,un=0,Ht}function M5(){for(;Dt!==null;)bT(Dt)}function B5(){for(;Dt!==null&&!uD();)bT(Dt)}function bT(t){var e=_T(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?ET(t):Dt=e,q1.current=null}function ET(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R5(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,Dt=null;return}}else if(n=O5(n,e,wr),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Ht===0&&(Ht=5)}function _a(t,e,n){var r=tt,s=Wr.transition;try{Wr.transition=null,tt=1,F5(t,e,n,r)}finally{Wr.transition=s,tt=r}return null}function F5(t,e,n,r){do Sl();while($o!==null);if(je&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(bD(t,i),t===Xt&&(Dt=Xt=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ap||(ap=!0,ST(bg,function(){return Sl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wr.transition,Wr.transition=null;var o=tt;tt=1;var a=je;je|=4,q1.current=null,$5(t,n),gT(n,t),o5(G0),Cg=!!V0,G0=V0=null,t.current=n,D5(n),dD(),je=a,tt=o,Wr.transition=i}else t.current=n;if(ap&&(ap=!1,$o=t,Mg=s),i=t.pendingLanes,i===0&&(Ho=null),pD(n.stateNode),cr(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lg)throw Lg=!1,t=fv,fv=null,t;return Mg&1&&t.tag!==0&&Sl(),i=t.pendingLanes,i&1?t===pv?Nd++:(Nd=0,pv=t):Nd=0,ha(),null}function Sl(){if($o!==null){var t=tN(Mg),e=Wr.transition,n=tt;try{if(Wr.transition=null,tt=16>t?16:t,$o===null)var r=!1;else{if(t=$o,$o=null,Mg=0,je&6)throw Error(G(331));var s=je;for(je|=4,de=t.current;de!==null;){var i=de,o=i.child;if(de.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(de=l;de!==null;){var u=de;switch(u.tag){case 0:case 11:case 15:Id(8,u,i)}var d=u.child;if(d!==null)d.return=u,de=d;else for(;de!==null;){u=de;var h=u.sibling,f=u.return;if(hT(u),u===l){de=null;break}if(h!==null){h.return=f,de=h;break}de=f}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}de=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,de=o;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Id(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,de=m;break e}de=i.return}}var y=t.current;for(de=y;de!==null;){o=de;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,de=w;else e:for(o=y;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lm(9,a)}}catch(E){Tt(a,a.return,E)}if(a===o){de=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,de=b;break e}de=a.return}}if(je=s,ha(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(Tm,t)}catch{}r=!0}return r}finally{tt=n,Wr.transition=e}}return!1}function M_(t,e,n){e=Zl(n,e),e=tT(t,e,1),t=zo(t,e,1),e=Dn(),t!==null&&(ff(t,1,e),cr(t,e))}function Tt(t,e,n){if(t.tag===3)M_(t,t,n);else for(;e!==null;){if(e.tag===3){M_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ho===null||!Ho.has(r))){t=Zl(n,t),t=nT(e,t,1),e=zo(e,t,1),t=Dn(),e!==null&&(ff(e,1,t),cr(e,t));break}}e=e.return}}function j5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(un&n)===n&&(Ht===4||Ht===3&&(un&130023424)===un&&500>Pt()-G1?Ga(t,0):V1|=n),cr(t,e)}function CT(t,e){e===0&&(t.mode&1?(e=Qf,Qf<<=1,!(Qf&130023424)&&(Qf=4194304)):e=1);var n=Dn();t=Mi(t,e),t!==null&&(ff(t,e,n),cr(t,n))}function z5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CT(t,n)}function H5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),CT(t,n)}var _T;_T=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sr=!1,P5(t,e,n);sr=!!(t.flags&131072)}else sr=!1,vt&&e.flags&1048576&&xN(e,Tg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zp(t,e),t=e.pendingProps;var s=Vl(e,Nn.current);_l(e,n),s=F1(null,e,r,t,s,n);var i=j1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(r)?(i=!0,xg(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,D1(e),s.updater=Um,e.stateNode=s,s._reactInternals=e,nv(e,r,t,n),e=iv(null,e,r,!0,i,n)):(e.tag=0,vt&&i&&N1(e),$n(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=q5(r),t=as(r,t),s){case 0:e=sv(null,e,r,t,n);break e;case 1:e=N_(null,e,r,t,n);break e;case 11:e=I_(null,e,r,t,n);break e;case 14:e=x_(null,e,r,as(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),sv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),N_(t,e,r,s,n);case 3:e:{if(oT(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,kN(t,e),Rg(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zl(Error(G(423)),e),e=T_(t,e,r,n,s);break e}else if(r!==s){s=Zl(Error(G(424)),e),e=T_(t,e,r,n,s);break e}else for(Cr=jo(e.stateNode.containerInfo.firstChild),Sr=e,vt=!0,ds=null,n=ON(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gl(),r===s){e=Bi(t,e,n);break e}$n(t,e,r,n)}e=e.child}return e;case 5:return $N(e),t===null&&X0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,K0(r,s)?o=null:i!==null&&K0(r,i)&&(e.flags|=32),iT(t,e),$n(t,e,o,n),e.child;case 6:return t===null&&X0(e),null;case 13:return aT(t,e,n);case 4:return U1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kl(e,null,r,n):$n(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),I_(t,e,r,s,n);case 7:return $n(t,e,e.pendingProps,n),e.child;case 8:return $n(t,e,e.pendingProps.children,n),e.child;case 12:return $n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ht(Pg,r._currentValue),r._currentValue=o,i!==null)if(_s(i.value,o)){if(i.children===s.children&&!or.current){e=Bi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Pi(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ev(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ev(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_l(e,n),s=Gr(s),r=r(s),e.flags|=1,$n(t,e,r,n),e.child;case 14:return r=e.type,s=as(r,e.pendingProps),s=as(r.type,s),x_(t,e,r,s,n);case 15:return rT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),Zp(t,e),e.tag=1,ar(r)?(t=!0,xg(e)):t=!1,_l(e,n),eT(e,r,s),nv(e,r,s,n),iv(null,e,r,!0,t,n);case 19:return cT(t,e,n);case 22:return sT(t,e,n)}throw Error(G(156,e.tag))};function ST(t,e){return Q2(t,e)}function W5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,n,r){return new W5(t,e,n,r)}function Q1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q5(t){if(typeof t=="function")return Q1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===m1)return 11;if(t===y1)return 14}return 2}function qo(t,e){var n=t.alternate;return n===null?(n=zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Q1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ol:return Ka(n.children,s,i,e);case g1:o=8,s|=8;break;case I0:return t=zr(12,n,e,s|2),t.elementType=I0,t.lanes=i,t;case x0:return t=zr(13,n,e,s),t.elementType=x0,t.lanes=i,t;case N0:return t=zr(19,n,e,s),t.elementType=N0,t.lanes=i,t;case $2:return Bm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R2:o=10;break e;case k2:o=9;break e;case m1:o=11;break e;case y1:o=14;break e;case ho:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=zr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ka(t,e,n,r){return t=zr(7,t,r,e),t.lanes=n,t}function Bm(t,e,n,r){return t=zr(22,t,r,e),t.elementType=$2,t.lanes=n,t.stateNode={isHidden:!1},t}function tw(t,e,n){return t=zr(6,t,null,e),t.lanes=n,t}function nw(t,e,n){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function V5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uy(0),this.expirationTimes=Uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function J1(t,e,n,r,s,i,o,a,c){return t=new V5(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D1(i),t}function G5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AT(t){if(!t)return na;t=t._reactInternals;e:{if(Cc(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(ar(n))return AN(t,n,e)}return e}function IT(t,e,n,r,s,i,o,a,c){return t=J1(n,r,!0,t,s,i,o,a,c),t.context=AT(null),n=t.current,r=Dn(),s=Wo(n),i=Pi(r,s),i.callback=e??null,zo(n,i,s),t.current.lanes=s,ff(t,s,r),cr(t,r),t}function Fm(t,e,n,r){var s=e.current,i=Dn(),o=Wo(s);return n=AT(n),e.context===null?e.context=n:e.pendingContext=n,e=Pi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zo(s,e,o),t!==null&&(vs(t,s,o,i),Gp(t,s,o)),o}function Fg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function X1(t,e){B_(t,e),(t=t.alternate)&&B_(t,e)}function K5(){return null}var xT=typeof reportError=="function"?reportError:function(t){console.error(t)};function eE(t){this._internalRoot=t}jm.prototype.render=eE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Fm(t,e,null,null)};jm.prototype.unmount=eE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rc(function(){Fm(null,t,null,null)}),e[Li]=null}};function jm(t){this._internalRoot=t}jm.prototype.unstable_scheduleHydration=function(t){if(t){var e=sN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bo.length&&e!==0&&e<bo[n].priority;n++);bo.splice(n,0,t),n===0&&oN(t)}};function tE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function F_(){}function Y5(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=Fg(o);i.call(l)}}var o=IT(e,r,t,0,null,!1,!1,"",F_);return t._reactRootContainer=o,t[Li]=o.current,Qd(t.nodeType===8?t.parentNode:t),rc(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=Fg(c);a.call(l)}}var c=J1(t,0,!1,null,null,!1,!1,"",F_);return t._reactRootContainer=c,t[Li]=c.current,Qd(t.nodeType===8?t.parentNode:t),rc(function(){Fm(e,c,n,r)}),c}function Hm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Fg(o);a.call(c)}}Fm(e,o,t,s)}else o=Y5(n,e,t,s,r);return Fg(o)}nN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cd(e.pendingLanes);n!==0&&(b1(e,n|1),cr(e,Pt()),!(je&6)&&(Ql=Pt()+500,ha()))}break;case 13:rc(function(){var r=Mi(t,1);if(r!==null){var s=Dn();vs(r,t,1,s)}}),X1(t,1)}};E1=function(t){if(t.tag===13){var e=Mi(t,134217728);if(e!==null){var n=Dn();vs(e,t,134217728,n)}X1(t,134217728)}};rN=function(t){if(t.tag===13){var e=Wo(t),n=Mi(t,e);if(n!==null){var r=Dn();vs(n,t,e,r)}X1(t,e)}};sN=function(){return tt};iN=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};M0=function(t,e,n){switch(e){case"input":if(O0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=km(r);if(!s)throw Error(G(90));U2(r),O0(r,s)}}}break;case"textarea":M2(t,n);break;case"select":e=n.value,e!=null&&vl(t,!!n.multiple,e,!1)}};q2=K1;V2=rc;var Z5={usingClientEntryPoint:!1,Events:[gf,ul,km,H2,W2,K1]},Du={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q5={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y2(t),t===null?null:t.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||K5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{Tm=cp.inject(Q5),qs=cp}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z5;xr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tE(e))throw Error(G(200));return G5(t,e,null,n)};xr.createRoot=function(t,e){if(!tE(t))throw Error(G(299));var n=!1,r="",s=xT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=J1(t,1,!1,null,null,n,!1,r,s),t[Li]=e.current,Qd(t.nodeType===8?t.parentNode:t),new eE(e)};xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Y2(e),t=t===null?null:t.stateNode,t};xr.flushSync=function(t){return rc(t)};xr.hydrate=function(t,e,n){if(!zm(e))throw Error(G(200));return Hm(null,t,e,!0,n)};xr.hydrateRoot=function(t,e,n){if(!tE(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IT(e,null,t,1,n??null,s,!1,i,o),t[Li]=e.current,Qd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jm(e)};xr.render=function(t,e,n){if(!zm(e))throw Error(G(200));return Hm(null,t,e,!1,n)};xr.unmountComponentAtNode=function(t){if(!zm(t))throw Error(G(40));return t._reactRootContainer?(rc(function(){Hm(null,null,t,!1,function(){t._reactRootContainer=null,t[Li]=null})}),!0):!1};xr.unstable_batchedUpdates=K1;xr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zm(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Hm(t,e,n,!1,r)};xr.version="18.3.1-next-f1338f8080-20240426";function NT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NT)}catch(t){console.error(t)}}NT(),N2.exports=xr;var J5=N2.exports,j_=J5;S0.createRoot=j_.createRoot,S0.hydrateRoot=j_.hydrateRoot;const TT="2.31.2";let Uu={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${TT}`},K=class yv extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof yv?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof yv&&n.cause.docsPath||n.docsPath,i=(a=Uu.getDocsUrl)==null?void 0:a.call(Uu,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Uu.version?[`Version: ${Uu.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=TT}walk(e){return PT(this,e)}};function PT(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?PT(t.cause,e):e?null:t}let OT=class extends K{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class X5 extends K{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let e8=class extends K{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class RT extends K{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let kT=class extends K{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class z_ extends K{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function pu(t,{dir:e,size:n=32}={}){return typeof t=="string"?Vo(t,{dir:e,size:n}):t8(t,{dir:e,size:n})}function Vo(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new kT({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function t8(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new kT({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function ra(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Wt(t){return ra(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function yf(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const n8=new TextEncoder;function Wm(t,e={}){return typeof t=="number"||typeof t=="bigint"?s8(t,e):typeof t=="boolean"?r8(t,e):ra(t)?Qs(t,e):$T(t,e)}function r8(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(As(n,{size:e.size}),pu(n,{size:e.size})):n}const ai={zero:48,nine:57,A:65,F:70,a:97,f:102};function H_(t){if(t>=ai.zero&&t<=ai.nine)return t-ai.zero;if(t>=ai.A&&t<=ai.F)return t-(ai.A-10);if(t>=ai.a&&t<=ai.f)return t-(ai.a-10)}function Qs(t,e={}){let n=t;e.size&&(As(n,{size:e.size}),n=pu(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=H_(r.charCodeAt(a++)),l=H_(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new K(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function s8(t,e){const n=Re(t,e);return Qs(n)}function $T(t,e={}){const n=n8.encode(t);return typeof e.size=="number"?(As(n,{size:e.size}),pu(n,{dir:"right",size:e.size})):n}function As(t,{size:e}){if(Wt(t)>e)throw new e8({givenSize:Wt(t),maxSize:e})}function Jl(t,e={}){const{signed:n}=e;e.size&&As(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function sc(t,e={}){return Number(Jl(t,e))}function DT(t,e={}){let n=Qs(t);return e.size&&(As(n,{size:e.size}),n=yf(n,{dir:"right"})),new TextDecoder().decode(n)}const i8=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xl(t,e={}){return typeof t=="number"||typeof t=="bigint"?Re(t,e):typeof t=="string"?qm(t,e):typeof t=="boolean"?UT(t,e):dr(t,e)}function UT(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(As(n,{size:e.size}),pu(n,{size:e.size})):n}function dr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=i8[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(As(r,{size:e.size}),pu(r,{dir:"right",size:e.size})):r}function Re(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new OT({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?pu(a,{size:r}):a}const o8=new TextEncoder;function qm(t,e={}){const n=o8.encode(t);return dr(n,e)}function sa(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new w8(t.type);return`${t.name}(${Vm(t.inputs,{includeName:e})})`}function Vm(t,{includeName:e=!1}={}){return t?t.map(n=>a8(n,{includeName:e})).join(e?", ":","):""}function a8(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Vm(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class c8 extends K{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class W_ extends K{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class LT extends K{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Vm(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Gm extends K{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class l8 extends K{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class u8 extends K{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Wt(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class d8 extends K{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class tce extends K{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class nce extends K{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class MT extends K{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class h8 extends K{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class BT extends K{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class jg extends K{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class f8 extends K{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class rce extends K{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class p8 extends K{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${sa(e.abiItem)}\`, and`,`\`${n.type}\` in \`${sa(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class sce extends K{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class wv extends K{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Vm(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class FT extends K{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${sa(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class g8 extends K{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class m8 extends K{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class y8 extends K{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class w8 extends K{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function eu(t){return typeof t[0]=="string"?Km(t):v8(t)}function v8(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Km(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class ic extends K{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let Ym=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const lp=BigInt(2**32-1),q_=BigInt(32);function b8(t,e=!1){return e?{h:Number(t&lp),l:Number(t>>q_&lp)}:{h:Number(t>>q_&lp)|0,l:Number(t&lp)|0}}function E8(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=b8(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const C8=(t,e,n)=>t<<n|e>>>32-n,_8=(t,e,n)=>e<<n|t>>>32-n,S8=(t,e,n)=>e<<n-32|t>>>64-n,A8=(t,e,n)=>t<<n-32|e>>>64-n,$c=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function I8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function oc(t,...e){if(!I8(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function oce(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");zg(t.outputLen),zg(t.blockLen)}function Hg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function jT(t,e){oc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function x8(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function oh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function rw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ns(t,e){return t<<32-e|t>>>e}const N8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function T8(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function P8(t){for(let e=0;e<t.length;e++)t[e]=T8(t[e]);return t}const V_=N8?t=>t:P8,zT=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",O8=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ace(t){if(oc(t),zT)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=O8[t[n]];return e}const ci={_0:48,_9:57,A:65,F:70,a:97,f:102};function G_(t){if(t>=ci._0&&t<=ci._9)return t-ci._0;if(t>=ci.A&&t<=ci.F)return t-(ci.A-10);if(t>=ci.a&&t<=ci.f)return t-(ci.a-10)}function cce(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(zT)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=G_(t.charCodeAt(i)),a=G_(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function R8(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Zm(t){return typeof t=="string"&&(t=R8(t)),oc(t),t}function lce(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];oc(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class HT{}function WT(t){const e=r=>t().update(Zm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function k8(t){const e=(r,s)=>t(s).update(Zm(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function uce(t=32){if($c&&typeof $c.getRandomValues=="function")return $c.getRandomValues(new Uint8Array(t));if($c&&typeof $c.randomBytes=="function")return Uint8Array.from($c.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const $8=BigInt(0),Lu=BigInt(1),D8=BigInt(2),U8=BigInt(7),L8=BigInt(256),M8=BigInt(113),qT=[],VT=[],GT=[];for(let t=0,e=Lu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],qT.push(2*(5*r+n)),VT.push((t+1)*(t+2)/2%64);let s=$8;for(let i=0;i<7;i++)e=(e<<Lu^(e>>U8)*M8)%L8,e&D8&&(s^=Lu<<(Lu<<BigInt(i))-Lu);GT.push(s)}const KT=E8(GT,!0),B8=KT[0],F8=KT[1],K_=(t,e,n)=>n>32?S8(t,e,n):C8(t,e,n),Y_=(t,e,n)=>n>32?A8(t,e,n):_8(t,e,n);function YT(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=K_(l,u,1)^n[a],h=Y_(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=VT[o],c=K_(s,i,a),l=Y_(s,i,a),u=qT[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=B8[r],t[1]^=F8[r]}oh(n)}class wf extends HT{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,zg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=x8(this.state)}clone(){return this._cloneInto()}keccak(){V_(this.state32),YT(this.state32,this.rounds),V_(this.state32),this.posOut=0,this.pos=0}update(e){Hg(this),e=Zm(e),oc(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Hg(this,!1),oc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(jT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,oh(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new wf(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const fa=(t,e,n)=>WT(()=>new wf(e,t,n)),j8=fa(6,144,224/8),z8=fa(6,136,256/8),H8=fa(6,104,384/8),W8=fa(6,72,512/8),q8=fa(1,144,224/8),nE=fa(1,136,256/8),V8=fa(1,104,384/8),G8=fa(1,72,512/8),ZT=(t,e,n)=>k8((r={})=>new wf(e,t,r.dkLen===void 0?n:r.dkLen,!0)),K8=ZT(31,168,128/8),Y8=ZT(31,136,256/8),dce=Object.freeze(Object.defineProperty({__proto__:null,Keccak:wf,keccakP:YT,keccak_224:q8,keccak_256:nE,keccak_384:V8,keccak_512:G8,sha3_224:j8,sha3_256:z8,sha3_384:H8,sha3_512:W8,shake128:K8,shake256:Y8},Symbol.toStringTag,{value:"Module"}));function vf(t,e){const n=e||"hex",r=nE(ra(t,{strict:!1})?Wm(t):t);return n==="bytes"?r:Xl(r)}const sw=new Ym(8192);function Qm(t,e){if(sw.has(`${t}.${e}`))return sw.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=vf($T(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return sw.set(`${t}.${e}`,i),i}function Ra(t,e){if(!Js(t,{strict:!1}))throw new ic({address:t});return Qm(t,e)}const Z8=/^0x[a-fA-F0-9]{40}$/,iw=new Ym(8192);function Js(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(iw.has(r))return iw.get(r);const s=Z8.test(t)?t.toLowerCase()===t?!0:n?Qm(t)===t:!0:!1;return iw.set(r,s),s}function Wg(t,e,n,{strict:r}={}){return ra(t,{strict:!1})?Q8(t,e,n,{strict:r}):XT(t,e,n,{strict:r})}function QT(t,e){if(typeof e=="number"&&e>0&&e>Wt(t)-1)throw new RT({offset:e,position:"start",size:Wt(t)})}function JT(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Wt(t)!==n-e)throw new RT({offset:n,position:"end",size:Wt(t)})}function XT(t,e,n,{strict:r}={}){QT(t,e);const s=t.slice(e,n);return r&&JT(s,e,n),s}function Q8(t,e,n,{strict:r}={}){QT(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&JT(s,e,n),s}const hce=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,J8=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function eP(t,e){if(t.length!==e.length)throw new d8({expectedLength:t.length,givenLength:e.length});const n=X8({params:t,values:e}),r=sE(n);return r.length===0?"0x":r}function X8({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(rE({param:t[r],value:e[r]}));return n}function rE({param:t,value:e}){const n=iE(t.type);if(n){const[r,s]=n;return t6(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return o6(e,{param:t});if(t.type==="address")return e6(e);if(t.type==="bool")return r6(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=J8.exec(t.type)??[];return s6(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return n6(e,{param:t});if(t.type==="string")return i6(e);throw new g8(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function sE(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Wt(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(Re(e+s,{size:32})),r.push(a),s+=Wt(a)):n.push(a)}return eu([...n,...r])}function e6(t){if(!Js(t))throw new ic({address:t});return{dynamic:!1,encoded:Vo(t.toLowerCase())}}function t6(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new y8(t);if(!r&&t.length!==e)throw new l8({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=rE({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=sE(i);if(r){const a=Re(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?eu([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:eu(i.map(({encoded:o})=>o))}}function n6(t,{param:e}){const[,n]=e.type.split("bytes"),r=Wt(t);if(!n){let s=t;return r%32!==0&&(s=Vo(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:eu([Vo(Re(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new u8({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Vo(t,{dir:"right"})}}function r6(t){if(typeof t!="boolean")throw new K(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Vo(UT(t))}}function s6(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new OT({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Re(t,{size:32,signed:e})}}function i6(t){const e=qm(t),n=Math.ceil(Wt(e)/32),r=[];for(let s=0;s<n;s++)r.push(Vo(Wg(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:eu([Vo(Re(Wt(e),{size:32})),...r])}}function o6(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=rE({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?sE(r):eu(r.map(({encoded:s})=>s))}}function iE(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const ow="/docs/contract/encodeDeployData";function tP(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new c8({docsPath:ow});if(!("inputs"in s))throw new W_({docsPath:ow});if(!s.inputs||s.inputs.length===0)throw new W_({docsPath:ow});const i=eP(s.inputs,n);return Km([r,i])}function si(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class oE extends K{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class aw extends K{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function a6(t){const e=vf(`0x${t.substring(4)}`).substring(26);return Qm(`0x${e}`)}const c6="modulepreload",l6=function(t){return"/"+t},Z_={},In=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=l6(c),c in Z_)return;Z_[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":c6,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function u6({hash:t,signature:e}){const n=ra(t)?t:Xl(t),{secp256k1:r}=await In(async()=>{const{secp256k1:o}=await import("./secp256k1-uBokc9QI.js");return{secp256k1:o}},__vite__mapDeps([0,1,2,3]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=Q_(f);return new r.Signature(Jl(l),Jl(u)).addRecoveryBit(p)}const o=ra(e)?e:Xl(e);if(Wt(o)!==65)throw new Error("invalid signature length");const a=sc(`0x${o.slice(130)}`),c=Q_(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Q_(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function d6({hash:t,signature:e}){return a6(await u6({hash:t,signature:e}))}class J_ extends K{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class nP extends K{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class h6 extends K{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const f6={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new h6({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new nP({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new J_({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new J_({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function aE(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(f6);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function p6(t,e="hex"){const n=rP(t),r=aE(new Uint8Array(n.length));return n.encode(r),e==="hex"?dr(r.bytes):r.bytes}function rP(t){return Array.isArray(t)?g6(t.map(e=>rP(e))):m6(t)}function g6(t){const e=t.reduce((s,i)=>s+i.length,0),n=sP(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function m6(t){const e=typeof t=="string"?Qs(t):t,n=sP(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function sP(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new K("Length is too large.")}function y6(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=vf(Km(["0x05",p6([e?Re(e):"0x",s,n?Re(n):"0x"])]));return r==="bytes"?Qs(i):i}async function iP(t){const{authorization:e,signature:n}=t;return d6({hash:y6(e),signature:n??e})}class vv extends K{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class w6 extends K{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class v6 extends K{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class oP extends K{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function b6({chain:t,currentChainId:e}){if(!t)throw new v6;if(e!==t.id)throw new w6({chain:t,currentChainId:e})}const E6={gwei:9,wei:18},C6={ether:-9,wei:9},_6={ether:-18,gwei:-9};function gu(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function lr(t,e="wei"){return gu(t,C6[e])}class ka extends K{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ka,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class qg extends K{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${lr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(qg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class bv extends K{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${lr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(bv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ev extends K{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Ev,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Cv extends K{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Cv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class _v extends K{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(_v,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Sv extends K{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Sv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Av extends K{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Av,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Iv extends K{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Iv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class xv extends K{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(xv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Vg extends K{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${lr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${lr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Vg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Jm extends K{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function cE(t,e="wei"){return gu(t,E6[e])}function bf(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class S6 extends K{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class A6 extends K{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",bf(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class I6 extends K{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=bf({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${cE(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${lr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${lr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${lr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class aP extends K{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class cP extends K{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class x6 extends K{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const qr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),N6=t=>t,lE=t=>t;class Td extends K{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${lE(o)}`,e&&`Request body: ${qr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class uE extends K{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${lE(r)}`,`Request body: ${qr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class X_ extends K{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${lE(n)}`,`Request body: ${qr(e)}`],name:"TimeoutError"})}}const T6=-1;class hr extends K{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof uE?e.code:n??T6}}class Tr extends hr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class ah extends hr{constructor(e){super(e,{code:ah.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ah,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ch extends hr{constructor(e){super(e,{code:ch.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ch,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class lh extends hr{constructor(e,{method:n}={}){super(e,{code:lh.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class uh extends hr{constructor(e){super(e,{code:uh.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ac extends hr{constructor(e){super(e,{code:ac.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ac,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class dh extends hr{constructor(e){super(e,{code:dh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class hh extends hr{constructor(e){super(e,{code:hh.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Go extends hr{constructor(e){super(e,{code:Go.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Go,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class tu extends hr{constructor(e){super(e,{code:tu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(tu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class $a extends hr{constructor(e,{method:n}={}){super(e,{code:$a.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty($a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class nu extends hr{constructor(e){super(e,{code:nu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class fh extends hr{constructor(e){super(e,{code:fh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Ft extends Tr{constructor(e){super(e,{code:Ft.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ph extends Tr{constructor(e){super(e,{code:ph.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(ph,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class gh extends Tr{constructor(e,{method:n}={}){super(e,{code:gh.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class mh extends Tr{constructor(e){super(e,{code:mh.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(mh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class yh extends Tr{constructor(e){super(e,{code:yh.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Xs extends Tr{constructor(e){super(e,{code:Xs.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Xs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class wh extends Tr{constructor(e){super(e,{code:wh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class vh extends Tr{constructor(e){super(e,{code:vh.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class bh extends Tr{constructor(e){super(e,{code:bh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Eh extends Tr{constructor(e){super(e,{code:Eh.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Ch extends Tr{constructor(e){super(e,{code:Ch.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Ch,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class _h extends Tr{constructor(e){super(e,{code:_h.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(_h,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Sh extends Tr{constructor(e){super(e,{code:Sh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Sh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class P6 extends hr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function dE(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof K?t.walk(s=>(s==null?void 0:s.code)===ka.code):t;return r instanceof K?new ka({cause:t,message:r.details}):ka.nodeMessage.test(n)?new ka({cause:t,message:t.details}):qg.nodeMessage.test(n)?new qg({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):bv.nodeMessage.test(n)?new bv({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Ev.nodeMessage.test(n)?new Ev({cause:t,nonce:e==null?void 0:e.nonce}):Cv.nodeMessage.test(n)?new Cv({cause:t,nonce:e==null?void 0:e.nonce}):_v.nodeMessage.test(n)?new _v({cause:t,nonce:e==null?void 0:e.nonce}):Sv.nodeMessage.test(n)?new Sv({cause:t}):Av.nodeMessage.test(n)?new Av({cause:t,gas:e==null?void 0:e.gas}):Iv.nodeMessage.test(n)?new Iv({cause:t,gas:e==null?void 0:e.gas}):xv.nodeMessage.test(n)?new xv({cause:t}):Vg.nodeMessage.test(n)?new Vg({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Jm({cause:t})}function O6(t,{docsPath:e,...n}){const r=(()=>{const s=dE(t,n);return s instanceof Jm?t:s})();return new I6(r,{docsPath:e,...n})}function hE(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const R6={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function fE(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=k6(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>dr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Re(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Re(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Re(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Re(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Re(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Re(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=R6[t.type]),typeof t.value<"u"&&(e.value=Re(t.value)),e}function k6(t){return t.map(e=>({address:e.address,r:e.r?Re(BigInt(e.r)):e.r,s:e.s?Re(BigInt(e.s)):e.s,chainId:Re(e.chainId),nonce:Re(e.nonce),...typeof e.yParity<"u"?{yParity:Re(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Re(e.v)}:{}}))}function bt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const lP=2n**256n-1n;function Xm(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?si(e):void 0;if(o&&!Js(o.address))throw new ic({address:o.address});if(i&&!Js(i))throw new ic({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new S6;if(r&&r>lP)throw new qg({maxFeePerGas:r});if(s&&r&&s>r)throw new Vg({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function uP(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return sc(e)}class $6 extends K{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class pE extends K{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class D6 extends K{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${lr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class dP extends K{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const hP={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function fP(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?sc(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?sc(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?hP[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=U6(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function U6(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function L6(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:fP(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Ah(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?Re(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new dP({blockHash:e,blockNumber:n});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||L6)(c)}async function pP(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function M6(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await bt(t,Ah,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Jl(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):bt(t,Ah,"getBlock")({}),bt(t,pP,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new pE;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function eS(t,e){var h,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new $6;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await bt(t,Ah,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new pE;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await M6(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await bt(t,pP,"getGasPrice")({}))}}class B6 extends K{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=bf({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${cE(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${lr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${lr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${lr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function F6(t,{docsPath:e,...n}){const r=(()=>{const s=dE(t,n);return s instanceof Jm?t:s})();return new B6(r,{docsPath:e,...n})}class j6 extends K{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class z6 extends K{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function tS(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function H6(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=tS(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=tS(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function nS(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new z_({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new z_({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function W6(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=Re(e)),n!==void 0&&(o.nonce=Re(n)),r!==void 0&&(o.state=nS(r)),s!==void 0){if(o.state)throw new z6;o.stateDiff=nS(s)}return o}function gP(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Js(n,{strict:!1}))throw new ic({address:n});if(e[n])throw new j6({address:n});e[n]=W6(r)}return e}async function mP(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?Re(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function yP(t,e){var s,i,o;const{account:n=t.account}=e,r=n?si(n):void 0;try{let q=function(I){const{block:L,request:R,rpcStateOverride:O}=I;return t.request({method:"eth_estimateGas",params:O?[R,L??"latest",O]:L?[R,L]:[R]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:v,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:w,value:b,stateOverride:E,...S}=await mE(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),T=(typeof d=="bigint"?Re(d):void 0)||h,x=gP(E),k=await(async()=>{if(S.to)return S.to;if(c&&c.length>0)return await iP({authorization:c[0]}).catch(()=>{throw new K("`to` is required. Could not infer from `authorizationList`")})})();Xm(e);const $=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,F=($||fE)({...hE(S,{format:$}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:v,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:w,to:k,value:b});let A=BigInt(await q({block:T,request:F,rpcStateOverride:x}));if(c){const I=await mP(t,{address:F.from}),L=await Promise.all(c.map(async R=>{const{address:O}=R,D=await q({block:T,request:{authorizationList:void 0,data:f,from:r==null?void 0:r.address,to:O,value:Re(I)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(D)}));A+=L.reduce((R,O)=>R+O,0n)}return A}catch(a){throw F6(a,{...e,account:r,chain:t.chain})}}async function q6(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Re(r):n]},{dedupe:!!r});return sc(s)}function wP(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Qs(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>dr(i))}function vP(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Qs(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Qs(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>dr(o))}function V6(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function G6(t,e,n){return t&e^~t&n}function K6(t,e,n){return t&e^t&n^e&n}class Y6 extends HT{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=rw(this.buffer)}update(e){Hg(this),e=Zm(e),oc(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=rw(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Hg(this),jT(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,oh(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;V6(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=rw(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Yi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Z6=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zi=new Uint32Array(64);class Q6 extends Y6{constructor(e=32){super(64,e,8,!1),this.A=Yi[0]|0,this.B=Yi[1]|0,this.C=Yi[2]|0,this.D=Yi[3]|0,this.E=Yi[4]|0,this.F=Yi[5]|0,this.G=Yi[6]|0,this.H=Yi[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Zi[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Zi[d-15],f=Zi[d-2],p=Ns(h,7)^Ns(h,18)^h>>>3,g=Ns(f,17)^Ns(f,19)^f>>>10;Zi[d]=g+Zi[d-7]+p+Zi[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ns(a,6)^Ns(a,11)^Ns(a,25),f=u+h+G6(a,c,l)+Z6[d]+Zi[d]|0,g=(Ns(r,2)^Ns(r,13)^Ns(r,22))+K6(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){oh(Zi)}destroy(){this.set(0,0,0,0,0,0,0,0),oh(this.buffer)}}const J6=WT(()=>new Q6),X6=J6;function eU(t,e){return X6(ra(t,{strict:!1})?Wm(t):t)}function tU(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=eU(e);return s.set([n],0),r==="bytes"?s:dr(s)}function nU(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(tU({commitment:i,to:r,version:n}));return s}const rS=6,bP=32,gE=4096,EP=bP*gE,sS=EP*rS-1-1*gE*rS;class rU extends K{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class sU extends K{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function iU(t){const e=typeof t.data=="string"?Qs(t.data):t.data,n=Wt(e);if(!n)throw new sU;if(n>sS)throw new rU({maxSize:sS,size:n});const r=[];let s=!0,i=0;for(;s;){const o=aE(new Uint8Array(EP));let a=0;for(;a<gE;){const c=e.slice(i,i+(bP-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>dr(o.bytes))}function oU(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??iU({data:e}),i=t.commitments??wP({blobs:s,kzg:n,to:r}),o=t.proofs??vP({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function aU(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new A6({transaction:t})}const CP=["blobVersionedHashes","chainId","fees","gas","nonce","type"],iS=new Map;async function mE(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=CP,type:u}=e,d=n&&si(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function p(){return f||(f=await bt(t,Ah,"getBlock")({blockTag:"latest"}),f)}let g;async function v(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await bt(t,uP,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const m=await v();h.nonce=await c.consume({address:d.address,chainId:m,client:t})}else h.nonce=await bt(t,q6,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const m=wP({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const y=nU({commitments:m,to:"hex"});h.blobVersionedHashes=y}if(l.includes("sidecars")){const y=vP({blobs:r,commitments:m,kzg:o}),w=oU({blobs:r,commitments:m,proofs:y,to:"hex"});h.sidecars=w}}if(l.includes("chainId")&&(h.chainId=await v()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=aU(h)}catch{let m=iS.get(t.uid);if(typeof m>"u"){const y=await p();m=typeof(y==null?void 0:y.baseFeePerGas)=="bigint",iS.set(t.uid,m)}h.type=m?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const m=await p(),{maxFeePerGas:y,maxPriorityFeePerGas:w}=await eS(t,{block:m,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<w)throw new D6({maxPriorityFeePerGas:w});h.maxPriorityFeePerGas=w,h.maxFeePerGas=y}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new pE;if(typeof e.gasPrice>"u"){const m=await p(),{gasPrice:y}=await eS(t,{block:m,chain:s,request:h,type:"legacy"});h.gasPrice=y}}return l.includes("gas")&&typeof i>"u"&&(h.gas=await bt(t,yP,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),Xm(h),delete h.parameters,h}async function cU(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const cw=new Ym(128);async function _P(t,e){var y,w,b,E;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:g,...v}=e;if(typeof n>"u")throw new oE({docsPath:"/docs/actions/wallet/sendTransaction"});const m=n?si(n):null;try{Xm(e);const S=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await iP({authorization:i[0]}).catch(()=>{throw new K("`to` is required. Could not infer from `authorizationList`.")})})();if((m==null?void 0:m.type)==="json-rpc"||m===null){let _;r!==null&&(_=await bt(t,uP,"getChainId")({}),b6({currentChainId:_,chain:r}));const T=(b=(w=(y=t.chain)==null?void 0:y.formatters)==null?void 0:w.transactionRequest)==null?void 0:b.format,k=(T||fE)({...hE(v,{format:T}),accessList:s,authorizationList:i,blobs:o,chainId:_,data:a,from:m==null?void 0:m.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:S,type:p,value:g}),$=cw.get(t.uid),M=$?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:M,params:[k]},{retryCount:0})}catch(F){if($===!1)throw F;const q=F;if(q.name==="InvalidInputRpcError"||q.name==="InvalidParamsRpcError"||q.name==="MethodNotFoundRpcError"||q.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(A=>(cw.set(t.uid,!0),A)).catch(A=>{const I=A;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(cw.set(t.uid,!1),q):I});throw q}}if((m==null?void 0:m.type)==="local"){const _=await bt(t,mE,"prepareTransactionRequest")({account:m,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:m.nonceManager,parameters:[...CP,"sidecars"],type:p,value:g,...v,to:S}),T=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,x=await m.signTransaction(_,{serializer:T});return await bt(t,cU,"sendRawTransaction")({serializedTransaction:x})}throw(m==null?void 0:m.type)==="smart"?new aw({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new aw({docsPath:"/docs/actions/wallet/sendTransaction",type:m==null?void 0:m.type})}catch(S){throw S instanceof aw?S:O6(S,{...e,account:m,chain:e.chain||void 0})}}const Nv=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],fce=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],oS=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function lU(t,e={}){typeof e.size<"u"&&As(t,{size:e.size});const n=dr(t,e);return Jl(n,e)}function uU(t,e={}){let n=t;if(typeof e.size<"u"&&(As(n,{size:e.size}),n=yf(n)),n.length>1||n[0]>1)throw new X5(n);return!!n[0]}function Oi(t,e={}){typeof e.size<"u"&&As(t,{size:e.size});const n=dr(t,e);return sc(n,e)}function dU(t,e={}){let n=t;return typeof e.size<"u"&&(As(n,{size:e.size}),n=yf(n,{dir:"right"})),new TextDecoder().decode(n)}function ey(t,e){const n=typeof e=="string"?Qs(e):e,r=aE(n);if(Wt(n)===0&&t.length>0)throw new Gm;if(Wt(e)&&Wt(e)<32)throw new LT({data:typeof e=="string"?e:dr(e),params:t,size:Wt(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=Al(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function Al(t,e,{staticPosition:n}){const r=iE(e.type);if(r){const[s,i]=r;return fU(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return yU(t,e,{staticPosition:n});if(e.type==="address")return hU(t);if(e.type==="bool")return pU(t);if(e.type.startsWith("bytes"))return gU(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return mU(t,e);if(e.type==="string")return wU(t,{staticPosition:n});throw new m8(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const aS=32,Tv=32;function hU(t){const e=t.readBytes(32);return[Qm(dr(XT(e,-20))),32]}function fU(t,e,{length:n,staticPosition:r}){if(!n){const o=Oi(t.readBytes(Tv)),a=r+o,c=a+aS;t.setPosition(a);const l=Oi(t.readBytes(aS)),u=Ih(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,g]=Al(t,e,{staticPosition:c});d+=g,h.push(p)}return t.setPosition(r+32),[h,32]}if(Ih(e)){const o=Oi(t.readBytes(Tv)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=Al(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Al(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function pU(t){return[uU(t.readBytes(32),{size:32}),32]}function gU(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=Oi(t.readBytes(32));t.setPosition(n+o);const a=Oi(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[dr(c),32]}return[dr(t.readBytes(Number.parseInt(s),32)),32]}function mU(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?lU(s,{signed:n}):Oi(s,{signed:n}),32]}function yU(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Ih(e)){const o=Oi(t.readBytes(Tv)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=Al(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=Al(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function wU(t,{staticPosition:e}){const n=Oi(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Oi(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=dU(yf(i));return t.setPosition(e+32),[o,32]}function Ih(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Ih);const n=iE(t.type);return!!(n&&Ih({...t,type:n[1]}))}const vU=t=>vf(Wm(t));function bU(t){return vU(t)}const EU="1.0.8";let Zr=class Pv extends Error{constructor(e,n={}){var o;const r=n.cause instanceof Pv?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Pv&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${EU}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function qi(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const SP=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,AP=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,IP=/^\(.+?\).*?$/,cS=/^tuple(?<array>(\[(\d*)\])*)$/;function Ov(t){let e=t.type;if(cS.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=Ov(i),s<n-1&&(e+=", ")}const r=qi(cS,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,Ov({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Mu(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=Ov(s),r!==n-1&&(e+=", ")}return e}function CU(t){var e;return t.type==="function"?`function ${t.name}(${Mu(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Mu(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Mu(t.inputs)})`:t.type==="error"?`error ${t.name}(${Mu(t.inputs)})`:t.type==="constructor"?`constructor(${Mu(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const xP=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _U(t){return xP.test(t)}function SU(t){return qi(xP,t)}const NP=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function AU(t){return NP.test(t)}function IU(t){return qi(NP,t)}const TP=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function xU(t){return TP.test(t)}function NU(t){return qi(TP,t)}const PP=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function OP(t){return PP.test(t)}function TU(t){return qi(PP,t)}const RP=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function PU(t){return RP.test(t)}function OU(t){return qi(RP,t)}const kP=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function RU(t){return kP.test(t)}function kU(t){return qi(kP,t)}const $U=/^receive\(\) external payable$/;function DU(t){return $U.test(t)}const UU=new Set(["indexed"]),Rv=new Set(["calldata","memory","storage"]);class LU extends Zr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class MU extends Zr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class BU extends Zr{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class FU extends Zr{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class jU extends Zr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class zU extends Zr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class HU extends Zr{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class mu extends Zr{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class WU extends Zr{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class qU extends Zr{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class VU extends Zr{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class GU extends Zr{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function KU(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const lw=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function YU(t,e={}){if(xU(t))return ZU(t,e);if(AU(t))return QU(t,e);if(_U(t))return JU(t,e);if(PU(t))return XU(t,e);if(RU(t))return e4(t);if(DU(t))return{type:"receive",stateMutability:"payable"};throw new WU({signature:t})}function ZU(t,e={}){const n=NU(t);if(!n)throw new mu({signature:t,type:"function"});const r=ps(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(cc(r[a],{modifiers:Rv,structs:e,type:"function"}));const o=[];if(n.returns){const a=ps(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(cc(a[l],{modifiers:Rv,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function QU(t,e={}){const n=IU(t);if(!n)throw new mu({signature:t,type:"event"});const r=ps(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(cc(r[o],{modifiers:UU,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function JU(t,e={}){const n=SU(t);if(!n)throw new mu({signature:t,type:"error"});const r=ps(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(cc(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function XU(t,e={}){const n=OU(t);if(!n)throw new mu({signature:t,type:"constructor"});const r=ps(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(cc(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function e4(t){const e=kU(t);if(!e)throw new mu({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const t4=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,n4=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,r4=/^u?int$/;function cc(t,e){var d,h;const n=KU(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(lw.has(n))return lw.get(n);const r=IP.test(t),s=qi(r?n4:t4,t);if(!s)throw new BU({param:t});if(s.name&&i4(s.name))throw new FU({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=ps(s.type),p=[],g=f.length;for(let v=0;v<g;v++)p.push(cc(f[v],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(r4.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!$P(c))throw new MU({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new jU({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(Rv.has(s.modifier)&&!o4(c,!!s.array))throw new zU({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return lw.set(n,u),u}function ps(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?ps(a,[...e,n.trim()]):ps(a,e,`${n}${o}`,r);case"(":return ps(a,e,`${n}${o}`,r+1);case")":return ps(a,e,`${n}${o}`,r-1);default:return ps(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new GU({current:n,depth:r});return e.push(n.trim()),e}function $P(t){return t==="address"||t==="bool"||t==="function"||t==="string"||SP.test(t)||AP.test(t)}const s4=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function i4(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||SP.test(t)||AP.test(t)||s4.test(t)}function o4(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function a4(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!OP(a))continue;const c=TU(a);if(!c)throw new mu({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const g=cc(p,{type:"struct"});u.push(g)}if(!u.length)throw new qU({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=DP(c,e)}return r}const c4=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function DP(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(IP.test(o.type))r.push(o);else{const c=qi(c4,o.type);if(!(c!=null&&c.type))throw new HU({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new VU({type:u});r.push({...o,type:`tuple${l??""}`,components:DP(e[u]??[],e,new Set([...n,u]))})}else if($P(u))r.push(o);else throw new LU({type:u})}}return r}function UP(t){const e=a4(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];OP(i)||n.push(YU(i,e))}return n}function l4(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new K("Unable to normalize signature.");return s}const u4=t=>{const e=typeof t=="string"?t:CU(t);return l4(e)};function LP(t){return bU(u4(t))}const yE=LP,wE=t=>Wg(LP(t),0,4);function vE(t){const{abi:e,args:n=[],name:r}=t,s=ra(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?wE(a)===r:a.type==="event"?yE(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?kv(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=MP(a.inputs,o.inputs,n);if(l)throw new p8({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function kv(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Js(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>kv(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>kv(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function MP(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return MP(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Js(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Js(n[r],{strict:!1}):!1)return o}}const uw="/docs/contract/decodeFunctionResult";function bE(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=vE({abi:e,args:n,name:r});if(!a)throw new jg(r,{docsPath:uw});i=a}if(i.type!=="function")throw new jg(void 0,{docsPath:uw});if(!i.outputs)throw new f8(i.name,{docsPath:uw});const o=ey(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const lS="/docs/contract/encodeFunctionData";function d4(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=vE({abi:e,args:n,name:r});if(!i)throw new jg(r,{docsPath:lS});s=i}if(s.type!=="function")throw new jg(void 0,{docsPath:lS});return{abi:[s],functionName:wE(sa(s))}}function ty(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:d4(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?eP(s.inputs,e??[]):void 0;return Km([i,o??"0x"])}function BP({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new vv({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new vv({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const h4={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},f4={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},p4={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function g4(t){const{abi:e,data:n}=t,r=Wg(n,0,4);if(r==="0x")throw new Gm;const i=[...e||[],f4,p4].find(o=>o.type==="error"&&r===wE(sa(o)));if(!i)throw new MT(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?ey(i.inputs,Wg(n,4)):void 0,errorName:i.name}}function FP({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?qr(e[i]):e[i]}`).join(", ")})`}class m4 extends K{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var v;const p=n?si(n):void 0;let g=bf({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${cE(h)} ${((v=s==null?void 0:s.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${lr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${lr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${lr(l)} gwei`,nonce:u});f&&(g+=`
${H6(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class jP extends K{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=vE({abi:n,args:r,name:o}),l=c?FP({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?sa(c,{includeName:!0}):void 0,d=bf({address:s&&N6(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class y4 extends K{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=g4({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=h4[f]}else{const f=u?sa(u,{includeName:!0}):void 0,p=u&&h?FP({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof MT&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class w4 extends K{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class v4 extends K{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class EE extends K{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const b4=3;function Gg(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof EE?t:t instanceof K?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof Gm?new w4({functionName:i}):[b4,ac.code].includes(c)&&(l||u||d||h)?new y4({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof uE?u:h??d}):t;return new jP(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const E4="0.1.1";function C4(){return E4}let zP=class $v extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof $v){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof $v&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${C4()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return HP(this,e)}};function HP(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?HP(t.cause,e):e?null:t}function _4(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new I4({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Ci(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new A4({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?S4(c,r):c}function S4(t,e){return _4(t,{dir:"left",size:e})}let A4=class extends zP{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},I4=class extends zP{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function x4(t){return{address:t.address,amount:Ci(t.amount),index:Ci(t.index),validatorIndex:Ci(t.validatorIndex)}}function N4(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Ci(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Ci(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Ci(t.gasLimit)},...typeof t.number=="bigint"&&{number:Ci(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Ci(t.prevRandao)},...typeof t.time=="bigint"&&{time:Ci(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(x4)}}}const T4="0x82ad56cb",P4="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",O4="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function R4(t,{docsPath:e,...n}){const r=(()=>{const s=dE(t,n);return s instanceof Jm?t:s})();return new m4(r,{docsPath:e,...n})}function WP(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const dw=new Map;function qP({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>dw.delete(e),a=()=>c().map(({args:u})=>u),c=()=>dw.get(e)||[],l=u=>dw.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=WP();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(i,r),d)}}}async function VP(t,e){var F,q,A,I;const{account:n=t.account,authorizationList:r,batch:s=!!((F=t.batch)!=null&&F.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:g,maxFeePerBlobGas:v,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:w,to:b,value:E,stateOverride:S,..._}=e,T=n?si(n):void 0;if(u&&(h||f))throw new K("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&b)throw new K("Cannot provide both `code` & `to` as parameters.");const x=u&&d,k=h&&f&&b&&d,$=x||k,M=x?D4({code:u,data:d}):k?U4({data:d,factory:h,factoryData:f,to:b}):d;try{Xm(e);const R=(typeof i=="bigint"?Re(i):void 0)||o,O=l?N4(l):void 0,D=gP(S),j=(I=(A=(q=t.chain)==null?void 0:q.formatters)==null?void 0:A.transactionRequest)==null?void 0:I.format,le=(j||fE)({...hE(_,{format:j}),from:T==null?void 0:T.address,accessList:a,authorizationList:r,blobs:c,data:M,gas:p,gasPrice:g,maxFeePerBlobGas:v,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:w,to:$?void 0:b,value:E});if(s&&k4({request:le})&&!D&&!O)try{return await $4(t,{...le,blockNumber:i,blockTag:o})}catch(ve){if(!(ve instanceof oP)&&!(ve instanceof vv))throw ve}const te=(()=>{const ve=[le,R];return D&&O?[...ve,D,O]:D?[...ve,D]:O?[...ve,{},O]:ve})(),pe=await t.request({method:"eth_call",params:te});return pe==="0x"?{data:void 0}:{data:pe}}catch(L){const R=L4(L),{offchainLookup:O,offchainLookupSignature:D}=await In(async()=>{const{offchainLookup:j,offchainLookupSignature:V}=await import("./ccip-0bak05bq.js");return{offchainLookup:j,offchainLookupSignature:V}},__vite__mapDeps([4,2,3]));if(t.ccipRead!==!1&&(R==null?void 0:R.slice(0,10))===D&&b)return{data:await O(t,{data:R,to:b})};throw $&&(R==null?void 0:R.slice(0,10))==="0x101bb98d"?new v4({factory:h}):R4(L,{...e,account:T,chain:t.chain})}}function k4({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(T4)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function $4(t,e){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new oP;l=BP({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?Re(s):void 0)||i,{schedule:h}=qP({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(v){return v.reduce((y,{data:w})=>y+(w.length-2),0)>n*2},fn:async v=>{const m=v.map(b=>({allowFailure:!0,callData:b.data,target:b.to})),y=ty({abi:Nv,args:[m],functionName:"aggregate3"}),w=await t.request({method:"eth_call",params:[{data:y,to:l},d]});return bE({abi:Nv,args:[m],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new EE({data:f});return f==="0x"?{data:void 0}:{data:f}}function D4(t){const{code:e,data:n}=t;return tP({abi:UP(["constructor(bytes, bytes)"]),bytecode:P4,args:[e,n]})}function U4(t){const{data:e,factory:n,factoryData:r,to:s}=t;return tP({abi:UP(["constructor(address, bytes, address, bytes)"]),bytecode:O4,args:[s,e,n,r]})}function L4(t){var n;if(!(t instanceof K))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function GP(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=ty({abi:n,args:s,functionName:i});try{const{data:c}=await bt(t,VP,"call")({...o,data:a,to:r});return bE({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Gg(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}function M4(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function B4(t){const e=M4(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const F4=new Map,j4=new Map;function z4(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,F4),r=e(t,j4);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function H4(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=z4(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const W4=t=>`blockNumber.${t}`;async function q4(t,{cacheTime:e=t.cacheTime}={}){const n=await H4(()=>t.request({method:"eth_blockNumber"}),{cacheKey:W4(t.uid),cacheTime:e});return BigInt(n)}function V4(t,e){if(!Js(t,{strict:!1}))throw new ic({address:t});if(!Js(e,{strict:!1}))throw new ic({address:e});return t.toLowerCase()===e.toLowerCase()}const uS="/docs/contract/decodeEventLog";function G4(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new h8({docsPath:uS});const c=e.find(g=>g.type==="event"&&o===yE(sa(g)));if(!(c&&"name"in c)||c.type!=="event")throw new BT(o,{docsPath:uS});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),h=d?[]:{},f=u.map((g,v)=>[g,v]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<f.length;g++){const[v,m]=f[g],y=a[g];if(!y)throw new FT({abiItem:c,param:v});h[d?m:v.name||m]=K4({param:v,value:y})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=ey(p,n);if(g)if(d)for(let v=0;v<u.length;v++)h[v]=h[v]??g.shift();else for(let v=0;v<p.length;v++)h[p[v].name]=g[v]}catch(g){if(i)throw g instanceof LT||g instanceof nP?new wv({abiItem:c,data:n,params:p,size:Wt(n)}):g}else if(i)throw new wv({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function K4({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(ey([t],e)||[])[0]}function Y4(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===yE(u));if(!c)return null;const l=G4({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!Z4({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof BT)return null;if(c instanceof wv||c instanceof FT){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function Z4(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?V4(o,a):i.type==="string"||i.type==="bytes"?vf(Wm(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function KP(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Q4(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>KP(i));return!("abi"in e)||!e.abi?s:Y4({abi:e.abi,logs:s,strict:n})}async function YP(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,h;const o=r||"latest",a=n!==void 0?Re(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Re(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Re(i)]},{dedupe:!!a}),!c)throw new aP({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||fP)(c)}const J4={"0x0":"reverted","0x1":"success"};function X4(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>KP(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?sc(t.transactionIndex):null,status:t.status?J4[t.status]:null,type:t.type?hP[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function dS(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new cP({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||X4)(n)}async function eL(t,e){var m;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((m=t.batch)==null?void 0:m.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=BP({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let f=0,p=0;for(let y=0;y<l.length;y++){const{abi:w,address:b,args:E,functionName:S}=l[y];try{const _=ty({abi:w,args:E,functionName:S});p+=(_.length-2)/2,u>0&&p>u&&h[f].length>0&&(f++,p=(_.length-2)/2,h[f]=[]),h[f]=[...h[f],{allowFailure:!0,callData:_,target:b}]}catch(_){const T=Gg(_,{abi:w,address:b,args:E,docsPath:"/docs/contract/multicall",functionName:S,sender:n});if(!r)throw T;h[f]=[...h[f],{allowFailure:!0,callData:"0x",target:b}]}}const g=await Promise.allSettled(h.map(y=>bt(t,GP,"readContract")({abi:Nv,account:n,address:d,args:[y],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),v=[];for(let y=0;y<g.length;y++){const w=g[y];if(w.status==="rejected"){if(!r)throw w.reason;for(let E=0;E<h[y].length;E++)v.push({status:"failure",error:w.reason,result:void 0});continue}const b=w.value;for(let E=0;E<b.length;E++){const{returnData:S,success:_}=b[E],{callData:T}=h[y][E],{abi:x,address:k,functionName:$,args:M}=l[v.length];try{if(T==="0x")throw new Gm;if(!_)throw new EE({data:S});const F=bE({abi:x,args:M,data:S,functionName:$});v.push(r?{result:F,status:"success"}:F)}catch(F){const q=Gg(F,{abi:x,address:k,args:M,docsPath:"/docs/contract/multicall",functionName:$});if(!r)throw q;v.push({error:q,result:void 0,status:"failure"})}}}if(v.length!==l.length)throw new K("multicall results mismatch");return v}const up=new Ym(8192);function tL(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(up.get(n))return up.get(n);const r=t().finally(()=>up.delete(n));return up.set(n,r),r}async function Kg(t){return new Promise(e=>setTimeout(e,t))}function Yg(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await Kg(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function nL(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new $a(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new $a(new Error("method not supported"),{method:l});const u=s?qm(`${c}.${qr(n)}`):void 0;return tL(()=>Yg(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case ah.code:throw new ah(f);case ch.code:throw new ch(f);case lh.code:throw new lh(f,{method:n.method});case uh.code:throw new uh(f);case ac.code:throw new ac(f);case dh.code:throw new dh(f);case hh.code:throw new hh(f);case Go.code:throw new Go(f);case tu.code:throw new tu(f);case $a.code:throw new $a(f,{method:n.method});case nu.code:throw new nu(f);case fh.code:throw new fh(f);case Ft.code:throw new Ft(f);case ph.code:throw new ph(f);case gh.code:throw new gh(f);case mh.code:throw new mh(f);case yh.code:throw new yh(f);case Xs.code:throw new Xs(f);case wh.code:throw new wh(f);case vh.code:throw new vh(f);case bh.code:throw new bh(f);case Eh.code:throw new Eh(f);case Ch.code:throw new Ch(f);case _h.code:throw new _h(f);case Sh.code:throw new Sh(f);case 5e3:throw new Ft(f);default:throw h instanceof K?h:new P6(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof Td){const g=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>rL(h)}),{enabled:s,id:u})}}function rL(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===nu.code||t.code===ac.code:t instanceof Td&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function sL(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function ZP(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function iL(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const hS=iL();function oL(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await ZP(async({signal:p})=>{const g={...a,body:Array.isArray(r)?qr(r.map(w=>({jsonrpc:"2.0",id:w.id??hS.take(),...w}))):qr({jsonrpc:"2.0",id:r.id??hS.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},v=new Request(t,g),m=await(s==null?void 0:s(v,g))??{...g,url:t};return await fetch(m.url??t,m)},{errorInstance:new X_({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(p){if(h.ok)throw p;f={error:f}}}if(!h.ok)throw new Td({body:r,details:qr(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof Td||h instanceof X_?h:new Td({body:r,cause:h,url:t})}}}}class aL extends K{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function cL(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new aL({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const hw=new Map,fS=new Map;let lL=0;function Zg(t,e,n){const r=++lL,s=()=>hw.get(t)||[],i=()=>{const u=s();hw.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(h=>h.id===r))return;const d=fS.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(hw.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=s();if(h.length!==0)for(const g of h)(p=(f=g.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&fS.set(t,l),o}function QP(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await Kg(c);const l=async()=>{s&&(await t({unpoll:i}),await Kg(r),l())};l()})(),i}function uL(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const d=qr(["watchBlockNumber",t.uid,e,n,o]);return Zg(d,{onBlockNumber:r,onError:s},h=>QP(async()=>{var f;try{const p=await bt(t,q4,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)h.onBlockNumber(g,c),c=g}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=qr(["watchBlockNumber",t.uid,e,n]);return Zg(d,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const m=t.transport.transports.find(y=>y.config.type==="webSocket");return m?m.value:t.transport}return t.transport})(),{unsubscribe:v}=await g.subscribe({params:["newHeads"],onData(m){var w;if(!f)return;const y=Jl((w=m.result)==null?void 0:w.number);h.onBlockNumber(y,c),c=y},onError(m){var y;(y=h.onError)==null||y.call(h,m)}});p=v,f||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function dL(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function hL(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const l=qr(["watchPendingTransactions",t.uid,e,i]);return Zg(l,{onTransactions:r,onError:n},u=>{let d;const h=QP(async()=>{var f;try{if(!d)try{d=await bt(t,B4,"createPendingTransactionFilter")({});return}catch(g){throw h(),g}const p=await bt(t,Q4,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await bt(t,dL,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function fL(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=qr(["waitForTransactionReceipt",t.uid,n]);let l,u,d,h=!1,f,p;const{promise:g,resolve:v,reject:m}=WP(),y=a?setTimeout(()=>{p(),f(),m(new x6({hash:n}))},a):void 0;return f=Zg(c,{onReplaced:r,resolve:v,reject:m},w=>{p=bt(t,uL,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(b){const E=_=>{clearTimeout(y),p(),_(),f()};let S=b;if(!h)try{if(d){if(e>1&&(!d.blockNumber||S-d.blockNumber+1n<e))return;E(()=>w.resolve(d));return}if(l||(h=!0,await Yg(async()=>{l=await bt(t,YP,"getTransaction")({hash:n}),l.blockNumber&&(S=l.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await bt(t,dS,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||S-d.blockNumber+1n<e))return;E(()=>w.resolve(d))}catch(_){if(_ instanceof aP||_ instanceof cP){if(!l){h=!1;return}try{u=l,h=!0;const T=await Yg(()=>bt(t,Ah,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:$})=>$ instanceof dP});h=!1;const x=T.transactions.find(({from:$,nonce:M})=>$===u.from&&M===u.nonce);if(!x||(d=await bt(t,dS,"getTransactionReceipt")({hash:x.hash}),e>1&&(!d.blockNumber||S-d.blockNumber+1n<e)))return;let k="replaced";x.to===u.to&&x.value===u.value&&x.input===u.input?k="repriced":x.from===x.to&&x.value===0n&&(k="cancelled"),E(()=>{var $;($=w.onReplaced)==null||$.call(w,{reason:k,replacedTransaction:u,transaction:x,transactionReceipt:d}),w.resolve(d)})}catch(T){E(()=>w.reject(T))}}else E(()=>w.reject(_))}}})}),g}async function pL(t,{account:e=t.account,message:n}){if(!e)throw new oE({docsPath:"/docs/actions/wallet/signMessage"});const r=si(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?qm(n):n.raw instanceof Uint8Array?Xl(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function gL(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new oE({docsPath:"/docs/contract/writeContract"});const l=r?si(r):null,u=ty({abi:n,args:i,functionName:a});try{return await bt(t,_P,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw Gg(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function Vr(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const eg="2.17.3",mL=()=>`@wagmi/core@${eg}`;var JP=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Qg,XP;let Vi=class Dv extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return mL()}constructor(e,n={}){var i;super(),Qg.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Dv?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Dv&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return JP(this,Qg,"m",XP).call(this,this,e)}};Qg=new WeakSet,XP=function t(e,n){return n!=null&&n(e)?e:e.cause?JP(this,Qg,"m",t).call(this,e.cause,n):e};class xh extends Vi{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class yL extends Vi{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class wL extends Vi{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class vL extends Vi{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class bL extends Vi{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class EL extends Vi{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function fw(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new yL;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const Uv=256;let dp=Uv,hp;function eO(t=11){if(!hp||dp+t>Uv*2){hp="",dp=0;for(let e=0;e<Uv;e++)hp+=(256+Math.random()*256|0).toString(16).substring(1)}return hp.substring(dp,dp+++t)}function tO(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?si(t.account):void 0,{config:h,request:f,value:p}=t.transport({chain:n,pollingInterval:l}),g={...h,...p},v={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:f,transport:g,type:o,uid:eO()};function m(y){return w=>{const b=w(y);for(const S in v)delete b[S];const E={...y,...b};return Object.assign(E,{extend:m(E)})}}return Object.assign(v,{extend:m(v)})}function CE({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=eO();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:nL(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function CL(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>CE({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function pS(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=_L,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=CE({key:n,name:r,async request({method:g,params:v}){let m;const y=async(w=0)=>{const b=h[w]({...d,chain:c,retryCount:0,timeout:u});try{const E=await b.request({method:g,params:v});return f({method:g,params:v,response:E,transport:b,status:"success"}),E}catch(E){if(f({error:E,method:g,params:v,transport:b,status:"error"}),i(E)||w===h.length-1||(m??(m=h.slice(w+1).some(S=>{const{include:_,exclude:T}=S({chain:c}).config.methods||{};return _?_.includes(g):T?!T.includes(g):!0})),!m))throw E;return y(w+1)}};return y()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};SL({chain:c,interval:g.interval??l,onTransports:v=>h=v,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return p}}function _L(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===tu.code||t.code===Ft.code||ka.nodeMessage.test(t.message)||t.code===5e3))}function SL({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const v=g({chain:t,retryCount:0,timeout:i}),m=Date.now();let y,w;try{await(r?r({transport:v}):v.request({method:"net_listening"})),w=1}catch{w=0}finally{y=Date.now()}return{latency:y-m,success:w}}));u.push(h),u.length>s&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:v})=>v)))),p=o.map((g,v)=>{const m=u.map(S=>S[v].latency),w=1-m.reduce((S,_)=>S+_,0)/m.length/f,b=u.map(S=>S[v].success),E=b.reduce((S,_)=>S+_,0)/b.length;return E===0?[0,v]:[l*w+c*E,v]}).sort((g,v)=>v[0]-g[0]);n(p.map(([,g])=>o[g])),await Kg(e),d()};d()}class AL extends K{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function fp(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},v=e.retryCount??h,m=f??e.timeout??1e4,y=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!y)throw new AL;const w=oL(y,{fetchOptions:r,onRequest:a,onResponse:c,timeout:m});return CE({key:s,methods:i,name:o,async request({method:b,params:E}){const S={method:b,params:E},{schedule:_}=qP({id:y,wait:g,shouldSplitBatch($){return $.length>p},fn:$=>w.request({body:$}),sort:($,M)=>$.id-M.id}),T=async $=>n?_($):[await w.request({body:$})],[{error:x,result:k}]=await T(S);if(u)return{error:x,result:k};if(x)throw new uE({body:S,error:x,url:y});return k},retryCount:v,retryDelay:l,timeout:m,type:"http"},{fetchOptions:r,url:y})}}async function ny(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new EL({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new wL;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new bL({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=si(e.account??n.accounts[0]);if(o&&(o.address=Ra(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new vL({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return tO({account:o,chain:a,name:"Connector Client",transport:l=>CL(c)({...l,retryCount:0})})}async function IL(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function xL(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await ny(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return Vr(o,yP,"estimateGas")({...s,account:i})}function nO(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(_6[t])}function Il(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function NL(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return Vr(o,eL,"multicall")({allowFailure:n,contracts:s,...i})}function _E(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Vr(s,GP,"readContract")(r)}async function TL(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[h,f]of o.entries()){const p=f.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:f,index:h})}const l=()=>Object.entries(c).map(([h,f])=>NL(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(h),contracts:f.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:f})=>f));return u.reduce((h,f,p)=>(h&&(h[d[p]]=f),h),[])}catch(c){if(c instanceof jP)throw c;const l=()=>o.map(u=>_E(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function PL(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await gS(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(h){if(h.name==="ContractFunctionExecutionError"){const f=await gS(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=DT(yf(f.symbol,{dir:"right"}));return{...f,symbol:p}}throw h}const c=t.getClient({chainId:i}),u=await Vr(c,mP,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(h=>h.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:gu(u,nO(a)),symbol:d.nativeCurrency.symbol,value:u}}async function gS(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await TL(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=gu(c??"0",nO(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function mS(t){return t.state.chainId}function Nh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nh(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Nh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let pp=[];function ga(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Nh(pp,e)?pp:(pp=e,e)}async function OL(t,e){const{account:n,chainId:r,...s}=e,i=n??Il(t).address,o=t.getClient({chainId:r});return Vr(o,mE,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let pw=!1;async function Lv(t,e={}){var l,u;if(pw)return[];pw=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(g=>g===h)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const v=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:v}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),pw=!1,a}async function rO(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await ny(t,{account:n??void 0,chainId:r,connector:s}),await Vr(o,_P,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function RL(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await ny(t,{account:n,connector:r}),Vr(i,pL,"signMessage")({...s,...n?{account:n}:{}})}class po extends Vi{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class kL extends Vi{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function yS(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new kL({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new xh;return t.setState(a=>({...a,chainId:r})),i}function sO(t,e){const{onChange:n}=e;return t.subscribe(()=>Il(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return Nh(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function $L(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function DL(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function UL(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=Vr(l,hL,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function LL(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await Vr(i,fL,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await Vr(i,YP,"getTransaction")({hash:a.transactionHash}),d=await Vr(i,VP,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),h=d!=null&&d.data?DT(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}async function iO(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await ny(t,{account:n??void 0,chainId:r,connector:s}),await Vr(o,gL,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function mce(t){return t}ry.type="injected";function ry(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...ML[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:ry.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var f,p,g,v,m,y;const d=await this.getProvider();if(!d)throw new po;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(v=(g=(p=(f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:f.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:v.map(b=>Ra(b)),h.length>0&&(h=await this.getAccounts())}catch(w){const b=w;if(b.code===Ft.code)throw new Ft(b);if(b.code===Go.code)throw b}try{!(h!=null&&h.length)&&!u&&(h=(await d.request({method:"eth_requestAccounts"})).map(E=>Ra(E))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let w=await this.getChainId();if(l&&w!==l){const b=await this.switchChain({chainId:l}).catch(E=>{if(E.code===Ft.code)throw E;return{id:w}});w=(b==null?void 0:b.id)??w}return e&&await((m=c.storage)==null?void 0:m.removeItem(`${this.id}.disconnected`)),t.target||await((y=c.storage)==null?void 0:y.setItem("injected.connected",!0)),{accounts:h,chainId:w}}catch(w){const b=w;throw b.code===Ft.code?new Ft(b):b.code===Go.code?new Go(b):b}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new po;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await ZP(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new po;return(await l.request({method:"eth_accounts"})).map(d=>Ra(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new po;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=tg(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(m=>window.addEventListener("ethereum#initialized",()=>m(p()),{once:!0}))]:[],new Promise(m=>setTimeout(()=>m(p()),g))]))return!0}throw new po}return!!(await Yg(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,v,m;const d=await this.getProvider();if(!d)throw new po;const h=c.chains.find(y=>y.id===u);if(!h)throw new Xs(new xh);const f=new Promise(y=>{const w=b=>{"chainId"in b&&b.chainId===u&&(c.emitter.off("change",w),y())};c.emitter.on("change",w)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:Re(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),f]),h}catch(y){const w=y;if(w.code===4902||((g=(p=w==null?void 0:w.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:b,...E}=h.blockExplorers??{};let S;l!=null&&l.blockExplorerUrls?S=l.blockExplorerUrls:b&&(S=[b.url,...Object.values(E).map(x=>x.url)]);let _;(v=l==null?void 0:l.rpcUrls)!=null&&v.length?_=l.rpcUrls:_=[((m=h.rpcUrls.default)==null?void 0:m.http[0])??""];const T={blockExplorerUrls:S,chainId:Re(u),chainName:(l==null?void 0:l.chainName)??h.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??h.nativeCurrency,rpcUrls:_};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[T]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new Ft(new Error("User rejected switch after adding network."))}),f]),h}catch(b){throw new Ft(b)}throw w.code===Ft.code?new Ft(w):new Xs(w)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>Ra(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const ML={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:tg(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return tg(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:tg(t,"isPhantom")}}};function tg(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function BL(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function FL(){const t=new Set;let e=[];const n=()=>BL(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const jL=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=h=>{const f=o(h);if(!u(d,f)){const p=d;a(d=f,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},zL=jL;function HL(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Mv=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Mv(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Mv(r)(n)}}}},WL=(t,e)=>(n,r,s)=>{let i={storage:HL(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,v)=>{d(g,v),u()};const h=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>h;let f;const p=()=>{var g,v;if(!l)return;o=!1,a.forEach(y=>{var w;return y((w=r())!=null?w:h)});const m=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(g=r())!=null?g:h))||void 0;return Mv(l.getItem.bind(l))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[b,E]=y;if(f=i.merge(E,(w=r())!=null?w:h),n(f,!0),b)return u()}).then(()=>{m==null||m(f,void 0),f=r(),o=!0,c.forEach(y=>y(f))}).catch(y=>{m==null||m(void 0,y)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),f||h},qL=WL,wS=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},gw=t=>t?wS(t):wS;var oO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var g=n?n+l:l;if(!this._events[g])return!1;var v=this._events[g],m=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,f),!0;case 6:return v.fn.call(v.context,u,d,h,f,p),!0}for(w=1,y=new Array(m-1);w<m;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var b=v.length,E;for(w=0;w<b;w++)switch(v[w].once&&this.removeListener(l,v[w].fn,void 0,!0),m){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,h);break;default:if(!y)for(E=1,y=new Array(m-1);E<m;E++)y[E-1]=arguments[E];v[w].fn.apply(v[w].context,y)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,v=[],m=p.length;g<m;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&v.push(p[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(oO);var VL=oO.exports;const GL=xm(VL);class KL{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new GL})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function YL(t){return new KL(t)}function ZL(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function vS(t,e){return t.slice(0,e).join(".")||"."}function bS(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function QL(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=bS(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=bS(s,c);if(u!==0)return r?e.call(this,a,c,vS(i,u)):`[ref=${vS(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function JL(t,e,n,r){return JSON.stringify(t,QL((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function XL(t){const{deserialize:e=ZL,key:n="wagmi",serialize:r=JL,storage:s=aO}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const aO={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function eM(){const t=typeof window<"u"&&window.localStorage?window.localStorage:aO;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const Bv=256;let gp=Bv,mp;function tM(t=11){if(!mp||gp+t>Bv*2){mp="",gp=0;for(let e=0;e<Bv;e++)mp+=(256+Math.random()*256|0).toString(16).substring(1)}return mp.substring(gp,gp+++t)}function nM(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=XL({storage:eM()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?FL():void 0,a=gw(()=>i.chains),c=gw(()=>{const E=[],S=new Set;for(const _ of i.connectors??[]){const T=l(_);if(E.push(T),!s&&T.rdns){const x=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const k of x)S.add(k)}}if(!s&&o){const _=o.getProviders();for(const T of _)S.has(T.info.rdns)||E.push(l(u(T)))}return E});function l(E){var T;const S=YL(tM()),_={...E({emitter:S,chains:a.getState(),storage:n,transports:i.transports}),emitter:S,uid:S.uid};return S.on("connect",w),(T=_.setup)==null||T.call(_),_}function u(E){const{info:S}=E,_=E.provider;return ry({target:{...S,id:S.rdns,provider:_}})}const d=new Map;function h(E={}){const S=E.chainId??v.getState().chainId,_=a.getState().find(x=>x.id===S);if(E.chainId&&!_)throw new xh;{const x=d.get(v.getState().chainId);if(x&&!_)return x;if(!_)throw new xh}{const x=d.get(S);if(x)return x}let T;if(i.client)T=i.client({chain:_});else{const x=_.id,k=a.getState().map(F=>F.id),$={},M=Object.entries(i);for(const[F,q]of M)if(!(F==="chains"||F==="client"||F==="connectors"||F==="transports"))if(typeof q=="object")if(x in q)$[F]=q[x];else{if(k.some(I=>I in q))continue;$[F]=q}else $[F]=q;T=tO({...$,chain:_,batch:$.batch??{multicall:!0},transport:F=>i.transports[x]({...F,connectors:c})})}return d.set(S,T),T}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";eg.startsWith(g)?p=Number.parseInt(eg.replace(g,"")):p=Number.parseInt(eg.split(".")[0]??"0");const v=gw(zL(n?qL(f,{migrate(E,S){if(S===p)return E;const _=f(),T=m(E,_.chainId);return{..._,chainId:T}},name:"store",partialize(E){return{connections:{__type:"Map",value:Array.from(E.connections.entries()).map(([S,_])=>{const{id:T,name:x,type:k,uid:$}=_.connector;return[S,{..._,connector:{id:T,name:x,type:k,uid:$}}]})},chainId:E.chainId,current:E.current}},merge(E,S){typeof E=="object"&&E&&"status"in E&&delete E.status;const _=m(E,S.chainId);return{...S,...E,chainId:_}},skipHydration:s,storage:n,version:p}):f));v.setState(f());function m(E,S){return E&&typeof E=="object"&&"chainId"in E&&typeof E.chainId=="number"&&a.getState().some(_=>_.id===E.chainId)?E.chainId:S}r&&v.subscribe(({connections:E,current:S})=>{var _;return S?(_=E.get(S))==null?void 0:_.chainId:void 0},E=>{if(a.getState().some(_=>_.id===E))return v.setState(_=>({..._,chainId:E??_.chainId}))}),o==null||o.subscribe(E=>{const S=new Set,_=new Set;for(const x of c.getState())if(S.add(x.id),x.rdns){const k=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const $ of k)_.add($)}const T=[];for(const x of E){if(_.has(x.info.rdns))continue;const k=l(u(x));S.has(k.id)||T.push(k)}n&&!v.persist.hasHydrated()||c.setState(x=>[...x,...T],!0)});function y(E){v.setState(S=>{const _=S.connections.get(E.uid);return _?{...S,connections:new Map(S.connections).set(E.uid,{accounts:E.accounts??_.accounts,chainId:E.chainId??_.chainId,connector:_.connector})}:S})}function w(E){v.getState().status==="connecting"||v.getState().status==="reconnecting"||v.setState(S=>{const _=c.getState().find(T=>T.uid===E.uid);return _?(_.emitter.listenerCount("connect")&&_.emitter.off("connect",y),_.emitter.listenerCount("change")||_.emitter.on("change",y),_.emitter.listenerCount("disconnect")||_.emitter.on("disconnect",b),{...S,connections:new Map(S.connections).set(E.uid,{accounts:E.accounts,chainId:E.chainId,connector:_}),current:E.uid,status:"connected"}):S})}function b(E){v.setState(S=>{const _=S.connections.get(E.uid);if(_){const x=_.connector;x.emitter.listenerCount("change")&&_.connector.emitter.off("change",y),x.emitter.listenerCount("disconnect")&&_.connector.emitter.off("disconnect",b),x.emitter.listenerCount("connect")||_.connector.emitter.on("connect",w)}if(S.connections.delete(E.uid),S.connections.size===0)return{...S,connections:new Map,current:null,status:"disconnected"};const T=S.connections.values().next().value;return{...S,connections:new Map(S.connections),current:T.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return v.getState()},setState(E){let S;typeof E=="function"?S=E(v.getState()):S=E;const _=f();typeof S!="object"&&(S=_),Object.keys(_).some(x=>!(x in S))&&(S=_),v.setState(S,!0)},subscribe(E,S,_){return v.subscribe(E,S,_?{..._,fireImmediately:_.emitImmediately}:void 0)},_internal:{mipd:o,store:v,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(E){const S=typeof E=="function"?E(a.getState()):E;if(S.length!==0)return a.setState(S,!0)},subscribe(E){return a.subscribe(E)}},connectors:{providerDetailToConnector:u,setup:l,setState(E){return c.setState(typeof E=="function"?E(c.getState()):E,!0)},subscribe(E){return c.subscribe(E)}},events:{change:y,connect:w,disconnect:b}}}}function rM(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?Lv(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function sM(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=rM(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=B.useRef(!0);return B.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const cO=B.createContext(void 0);function lO(t){const{children:e,config:n}=t,r={value:n};return B.createElement(sM,t,B.createElement(cO.Provider,r,e))}const iM="2.15.6",oM=()=>`wagmi@${iM}`;let aM=class extends Vi{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return oM()}};class cM extends aM{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function sy(t={}){const e=t.config??B.useContext(cO);if(!e)throw new cM;return e}var uO={exports:{}},dO={},hO={exports:{}},fO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=B;function lM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uM=typeof Object.is=="function"?Object.is:lM,dM=ru.useState,hM=ru.useEffect,fM=ru.useLayoutEffect,pM=ru.useDebugValue;function gM(t,e){var n=e(),r=dM({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return fM(function(){s.value=n,s.getSnapshot=e,mw(s)&&i({inst:s})},[t,n,e]),hM(function(){return mw(s)&&i({inst:s}),t(function(){mw(s)&&i({inst:s})})},[t]),pM(n),n}function mw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uM(t,n)}catch{return!0}}function mM(t,e){return e()}var yM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mM:gM;fO.useSyncExternalStore=ru.useSyncExternalStore!==void 0?ru.useSyncExternalStore:yM;hO.exports=fO;var wM=hO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=B,vM=wM;function bM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var EM=typeof Object.is=="function"?Object.is:bM,CM=vM.useSyncExternalStore,_M=iy.useRef,SM=iy.useEffect,AM=iy.useMemo,IM=iy.useDebugValue;dO.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=_M(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=AM(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return d=p}return d=f}if(p=d,EM(u,f))return p;var g=r(f);return s!==void 0&&s(p,g)?(u=f,p):(u=f,d=g)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=CM(t,i[0],i[1]);return SM(function(){o.hasValue=!0,o.value=a},[a]),IM(a),a};uO.exports=dO;var xM=uO.exports;const yw=t=>typeof t=="object"&&!Array.isArray(t);function NM(t,e,n=e,r=Nh){const s=B.useRef([]),i=xM.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(yw(o)&&yw(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return B.useMemo(()=>{if(yw(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function TM(t={}){const e=sy(t);return NM(n=>sO(e,{onChange:n}),()=>Il(e))}var Ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lc=typeof window>"u"||"Deno"in globalThis;function er(){}function PM(t,e){return typeof t=="function"?t(e):t}function Fv(t){return typeof t=="number"&&t>=0&&t!==1/0}function pO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ko(t,e){return typeof t=="function"?t(e):t}function hs(t,e){return typeof t=="function"?t(e):t}function ES(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==SE(o,e.options))return!1}else if(!Ph(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function CS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Th(e.options.mutationKey)!==Th(i))return!1}else if(!Ph(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function SE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Th)(t)}function Th(t){return JSON.stringify(t,(e,n)=>zv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ph(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ph(t[n],e[n])):!1}function AE(t,e){if(t===e)return t;const n=_S(t)&&_S(e);if(n||zv(t)&&zv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=AE(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function jv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function _S(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zv(t){if(!SS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!SS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function SS(t){return Object.prototype.toString.call(t)==="[object Object]"}function OM(t){return new Promise(e=>{setTimeout(e,t)})}function Hv(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AE(t,e):e}function RM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function kM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var IE=Symbol();function gO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===IE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $M(t,e){return typeof t=="function"?t(...e):!!t}var Ba,Ao,Rl,o2,DM=(o2=class extends Ef{constructor(){super();_e(this,Ba);_e(this,Ao);_e(this,Rl);he(this,Rl,e=>{if(!lc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ao)||this.setEventListener(U(this,Rl))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ao))==null||e.call(this),he(this,Ao,void 0))}setEventListener(e){var n;he(this,Rl,e),(n=U(this,Ao))==null||n.call(this),he(this,Ao,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ba)!==e&&(he(this,Ba,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ba)=="boolean"?U(this,Ba):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ba=new WeakMap,Ao=new WeakMap,Rl=new WeakMap,o2),xE=new DM,kl,Io,$l,a2,UM=(a2=class extends Ef{constructor(){super();_e(this,kl,!0);_e(this,Io);_e(this,$l);he(this,$l,e=>{if(!lc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Io)||this.setEventListener(U(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Io))==null||e.call(this),he(this,Io,void 0))}setEventListener(e){var n;he(this,$l,e),(n=U(this,Io))==null||n.call(this),he(this,Io,e(this.setOnline.bind(this)))}setOnline(e){U(this,kl)!==e&&(he(this,kl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,kl)}},kl=new WeakMap,Io=new WeakMap,$l=new WeakMap,a2),Jg=new UM;function Wv(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function LM(t){return Math.min(1e3*2**t,3e4)}function mO(t){return(t??"online")==="online"?Jg.isOnline():!0}var yO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ww(t){return t instanceof yO}function wO(t){let e=!1,n=0,r=!1,s;const i=Wv(),o=g=>{var v;r||(h(new yO(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>xE.isFocused()&&(t.networkMode==="always"||Jg.isOnline())&&t.canRun(),u=()=>mO(t.networkMode)&&t.canRun(),d=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var v;s=m=>{(r||l())&&g(m)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(m){g=Promise.reject(m)}Promise.resolve(g).then(d).catch(m=>{var S;if(r)return;const y=t.retry??(lc?0:3),w=t.retryDelay??LM,b=typeof w=="function"?w(n,m):w,E=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,m);if(e||!E){h(m);return}n++,(S=t.onFail)==null||S.call(t,n,m),OM(b).then(()=>l()?void 0:f()).then(()=>{e?h(m):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var MM=t=>setTimeout(t,0);function BM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=MM;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ln=BM(),Fa,c2,vO=(c2=class{constructor(){_e(this,Fa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fv(this.gcTime)&&he(this,Fa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lc?1/0:5*60*1e3))}clearGcTimeout(){U(this,Fa)&&(clearTimeout(U(this,Fa)),he(this,Fa,void 0))}},Fa=new WeakMap,c2),Dl,Ul,Mr,ja,An,cf,za,cs,yi,l2,FM=(l2=class extends vO{constructor(e){super();_e(this,cs);_e(this,Dl);_e(this,Ul);_e(this,Mr);_e(this,ja);_e(this,An);_e(this,cf);_e(this,za);he(this,za,!1),he(this,cf,e.defaultOptions),this.setOptions(e.options),this.observers=[],he(this,ja,e.client),he(this,Mr,U(this,ja).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,he(this,Dl,jM(this.options)),this.state=e.state??U(this,Dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,An))==null?void 0:e.promise}setOptions(e){this.options={...U(this,cf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Mr).remove(this)}setData(e,n){const r=Hv(this.state.data,e,this.options);return De(this,cs,yi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){De(this,cs,yi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=U(this,An))==null?void 0:r.promise;return(s=U(this,An))==null||s.cancel(e),n?n.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Dl))}isActive(){return this.observers.some(e=>hs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===IE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ko(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!pO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=U(this,An))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=U(this,An))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,Mr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(U(this,An)&&(U(this,za)?U(this,An).cancel({revert:!0}):U(this,An).cancelRetry()),this.scheduleGc()),U(this,Mr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,cs,yi).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,An))return U(this,An).continueRetry(),U(this,An).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(he(this,za,!0),r.signal)})},i=()=>{const h=gO(this.options,n),p=(()=>{const g={client:U(this,ja),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return he(this,za,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:U(this,ja),state:this.state,fetchFn:i};return s(h),h})();(l=this.options.behavior)==null||l.onFetch(a,this),he(this,Ul,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&De(this,cs,yi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,g,v;ww(h)&&h.silent||De(this,cs,yi).call(this,{type:"error",error:h}),ww(h)||((p=(f=U(this,Mr).config).onError)==null||p.call(f,h,this),(v=(g=U(this,Mr).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return he(this,An,wO({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(m){c(m);return}(p=(f=U(this,Mr).config).onSuccess)==null||p.call(f,h,this),(v=(g=U(this,Mr).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{De(this,cs,yi).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{De(this,cs,yi).call(this,{type:"pause"})},onContinue:()=>{De(this,cs,yi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,An).start()}},Dl=new WeakMap,Ul=new WeakMap,Mr=new WeakMap,ja=new WeakMap,An=new WeakMap,cf=new WeakMap,za=new WeakMap,cs=new WeakSet,yi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bO(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ww(s)&&s.revert&&U(this,Ul)?{...U(this,Ul),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ln.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,Mr).notify({query:this,type:"updated",action:e})})},l2);function bO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ls,u2,zM=(u2=class extends Ef{constructor(e={}){super();_e(this,Ls);this.config=e,he(this,Ls,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??SE(s,n);let o=this.get(i);return o||(o=new FM({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Ls).has(e.queryHash)||(U(this,Ls).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Ls).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Ls).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Ls).get(e)}getAll(){return[...U(this,Ls).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ES(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ES(e,r)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ls=new WeakMap,u2),Ms,Rn,Ha,Bs,uo,d2,HM=(d2=class extends vO{constructor(e){super();_e(this,Bs);_e(this,Ms);_e(this,Rn);_e(this,Ha);this.mutationId=e.mutationId,he(this,Rn,e.mutationCache),he(this,Ms,[]),this.state=e.state||WM(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,Ms).includes(e)||(U(this,Ms).push(e),this.clearGcTimeout(),U(this,Rn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){he(this,Ms,U(this,Ms).filter(n=>n!==e)),this.scheduleGc(),U(this,Rn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,Ms).length||(this.state.status==="pending"?this.scheduleGc():U(this,Rn).remove(this))}continue(){var e;return((e=U(this,Ha))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,h,f,p,g,v,m,y,w,b,E,S,_,T;const n=()=>{De(this,Bs,uo).call(this,{type:"continue"})};he(this,Ha,wO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(x,k)=>{De(this,Bs,uo).call(this,{type:"failed",failureCount:x,error:k})},onPause:()=>{De(this,Bs,uo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Rn).canRun(this)}));const r=this.state.status==="pending",s=!U(this,Ha).canStart();try{if(r)n();else{De(this,Bs,uo).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=U(this,Rn).config).onMutate)==null?void 0:o.call(i,e,this));const k=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));k!==this.state.context&&De(this,Bs,uo).call(this,{type:"pending",context:k,variables:e,isPaused:s})}const x=await U(this,Ha).start();return await((u=(l=U(this,Rn).config).onSuccess)==null?void 0:u.call(l,x,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,x,e,this.state.context)),await((p=(f=U(this,Rn).config).onSettled)==null?void 0:p.call(f,x,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,x,null,e,this.state.context)),De(this,Bs,uo).call(this,{type:"success",data:x}),x}catch(x){try{throw await((y=(m=U(this,Rn).config).onError)==null?void 0:y.call(m,x,e,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,x,e,this.state.context)),await((S=(E=U(this,Rn).config).onSettled)==null?void 0:S.call(E,void 0,x,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,x,e,this.state.context)),x}finally{De(this,Bs,uo).call(this,{type:"error",error:x})}}finally{U(this,Rn).runNext(this)}}},Ms=new WeakMap,Rn=new WeakMap,Ha=new WeakMap,Bs=new WeakSet,uo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ln.batch(()=>{U(this,Ms).forEach(r=>{r.onMutationUpdate(e)}),U(this,Rn).notify({mutation:this,type:"updated",action:e})})},d2);function WM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Si,ls,lf,h2,qM=(h2=class extends Ef{constructor(e={}){super();_e(this,Si);_e(this,ls);_e(this,lf);this.config=e,he(this,Si,new Set),he(this,ls,new Map),he(this,lf,0)}build(e,n,r){const s=new HM({mutationCache:this,mutationId:++qf(this,lf)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Si).add(e);const n=yp(e);if(typeof n=="string"){const r=U(this,ls).get(n);r?r.push(e):U(this,ls).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Si).delete(e)){const n=yp(e);if(typeof n=="string"){const r=U(this,ls).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,ls).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yp(e);if(typeof n=="string"){const r=U(this,ls).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=yp(e);if(typeof n=="string"){const s=(r=U(this,ls).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ln.batch(()=>{U(this,Si).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Si).clear(),U(this,ls).clear()})}getAll(){return Array.from(U(this,Si))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>CS(n,r))}findAll(e={}){return this.getAll().filter(n=>CS(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(er))))}},Si=new WeakMap,ls=new WeakMap,lf=new WeakMap,h2);function yp(t){var e;return(e=t.options.scope)==null?void 0:e.id}function AS(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},m=gO(e.options,e.fetchOptions),y=async(w,b,E)=>{if(g)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:b,direction:E?"backward":"forward",meta:e.options.meta};return v($),$})(),T=await m(_),{maxPages:x}=e.options,k=E?kM:RM;return{pages:k(w.pages,T,x),pageParams:k(w.pageParams,b,x)}};if(s&&i.length){const w=s==="backward",b=w?VM:IS,E={pages:i,pageParams:o},S=b(r,E);a=await y(E,S,w)}else{const w=t??i.length;do{const b=c===0?o[0]??r.initialPageParam:IS(r,a);if(c>0&&b==null)break;a=await y(a,b),c++}while(c<w)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function IS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function VM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nt,xo,No,Ll,Ml,To,Bl,Fl,f2,EO=(f2=class{constructor(t={}){_e(this,Nt);_e(this,xo);_e(this,No);_e(this,Ll);_e(this,Ml);_e(this,To);_e(this,Bl);_e(this,Fl);he(this,Nt,t.queryCache||new zM),he(this,xo,t.mutationCache||new qM),he(this,No,t.defaultOptions||{}),he(this,Ll,new Map),he(this,Ml,new Map),he(this,To,0)}mount(){qf(this,To)._++,U(this,To)===1&&(he(this,Bl,xE.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Nt).onFocus())})),he(this,Fl,Jg.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Nt).onOnline())})))}unmount(){var t,e;qf(this,To)._--,U(this,To)===0&&((t=U(this,Bl))==null||t.call(this),he(this,Bl,void 0),(e=U(this,Fl))==null||e.call(this),he(this,Fl,void 0))}isFetching(t){return U(this,Nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,xo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Nt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ko(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=PM(e,i);if(o!==void 0)return U(this,Nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>U(this,Nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Nt);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Nt);return ln.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ln.batch(()=>U(this,Nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(t,e={}){return ln.batch(()=>(U(this,Nt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ln.batch(()=>U(this,Nt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(er)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Nt).build(this,e);return n.isStaleByTime(Ko(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=AS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=AS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jg.isOnline()?U(this,xo).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Nt)}getMutationCache(){return U(this,xo)}getDefaultOptions(){return U(this,No)}setDefaultOptions(t){he(this,No,t)}setQueryDefaults(t,e){U(this,Ll).set(Th(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Ll).values()],n={};return e.forEach(r=>{Ph(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Ml).set(Th(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Ml).values()],n={};return e.forEach(r=>{Ph(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,No).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=SE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===IE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,No).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Nt).clear(),U(this,xo).clear()}},Nt=new WeakMap,xo=new WeakMap,No=new WeakMap,Ll=new WeakMap,Ml=new WeakMap,To=new WeakMap,Bl=new WeakMap,Fl=new WeakMap,f2),Qn,Me,uf,kn,Wa,jl,Po,Oo,df,zl,Hl,qa,Va,Ro,Wl,Qe,ud,qv,Vv,Gv,Kv,Yv,Zv,Qv,CO,p2,GM=(p2=class extends Ef{constructor(e,n){super();_e(this,Qe);_e(this,Qn);_e(this,Me);_e(this,uf);_e(this,kn);_e(this,Wa);_e(this,jl);_e(this,Po);_e(this,Oo);_e(this,df);_e(this,zl);_e(this,Hl);_e(this,qa);_e(this,Va);_e(this,Ro);_e(this,Wl,new Set);this.options=n,he(this,Qn,e),he(this,Oo,null),he(this,Po,Wv()),this.options.experimental_prefetchInRender||U(this,Po).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,Me).addObserver(this),xS(U(this,Me),this.options)?De(this,Qe,ud).call(this):this.updateResult(),De(this,Qe,Kv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jv(U(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jv(U(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,Qe,Yv).call(this),De(this,Qe,Zv).call(this),U(this,Me).removeObserver(this)}setOptions(e){const n=this.options,r=U(this,Me);if(this.options=U(this,Qn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,U(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,Qe,Qv).call(this),U(this,Me).setOptions(this.options),n._defaulted&&!jv(this.options,n)&&U(this,Qn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,Me),observer:this});const s=this.hasListeners();s&&NS(U(this,Me),r,this.options,n)&&De(this,Qe,ud).call(this),this.updateResult(),s&&(U(this,Me)!==r||hs(this.options.enabled,U(this,Me))!==hs(n.enabled,U(this,Me))||Ko(this.options.staleTime,U(this,Me))!==Ko(n.staleTime,U(this,Me)))&&De(this,Qe,qv).call(this);const i=De(this,Qe,Vv).call(this);s&&(U(this,Me)!==r||hs(this.options.enabled,U(this,Me))!==hs(n.enabled,U(this,Me))||i!==U(this,Ro))&&De(this,Qe,Gv).call(this,i)}getOptimisticResult(e){const n=U(this,Qn).getQueryCache().build(U(this,Qn),e),r=this.createResult(n,e);return YM(this,r)&&(he(this,kn,r),he(this,jl,this.options),he(this,Wa,U(this,Me).state)),r}getCurrentResult(){return U(this,kn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){U(this,Wl).add(e)}getCurrentQuery(){return U(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=U(this,Qn).defaultQueryOptions(e),r=U(this,Qn).getQueryCache().build(U(this,Qn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return De(this,Qe,ud).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,kn)))}createResult(e,n){var x;const r=U(this,Me),s=this.options,i=U(this,kn),o=U(this,Wa),a=U(this,jl),l=e!==r?e.state:U(this,uf),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const k=this.hasListeners(),$=!k&&xS(e,n),M=k&&NS(e,r,n,s);($||M)&&(d={...d,...bO(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=d;f=d.data;let m=!1;if(n.placeholderData!==void 0&&f===void 0&&v==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(k=i.data,m=!0):k=typeof n.placeholderData=="function"?n.placeholderData((x=U(this,Hl))==null?void 0:x.state.data,U(this,Hl)):n.placeholderData,k!==void 0&&(v="success",f=Hv(i==null?void 0:i.data,k,n),h=!0)}if(n.select&&f!==void 0&&!m)if(i&&f===(o==null?void 0:o.data)&&n.select===U(this,df))f=U(this,zl);else try{he(this,df,n.select),f=n.select(f),f=Hv(i==null?void 0:i.data,f,n),he(this,zl,f),he(this,Oo,null)}catch(k){he(this,Oo,k)}U(this,Oo)&&(p=U(this,Oo),f=U(this,zl),g=Date.now(),v="error");const y=d.fetchStatus==="fetching",w=v==="pending",b=v==="error",E=w&&y,S=f!==void 0,T={status:v,fetchStatus:d.fetchStatus,isPending:w,isSuccess:v==="success",isError:b,isInitialLoading:E,isLoading:E,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:b&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:NE(e,n),refetch:this.refetch,promise:U(this,Po)};if(this.options.experimental_prefetchInRender){const k=F=>{T.status==="error"?F.reject(T.error):T.data!==void 0&&F.resolve(T.data)},$=()=>{const F=he(this,Po,T.promise=Wv());k(F)},M=U(this,Po);switch(M.status){case"pending":e.queryHash===r.queryHash&&k(M);break;case"fulfilled":(T.status==="error"||T.data!==M.value)&&$();break;case"rejected":(T.status!=="error"||T.error!==M.reason)&&$();break}}return T}updateResult(){const e=U(this,kn),n=this.createResult(U(this,Me),this.options);if(he(this,Wa,U(this,Me).state),he(this,jl,this.options),U(this,Wa).data!==void 0&&he(this,Hl,U(this,Me)),jv(n,e))return;he(this,kn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!U(this,Wl).size)return!0;const o=new Set(i??U(this,Wl));return this.options.throwOnError&&o.add("error"),Object.keys(U(this,kn)).some(a=>{const c=a;return U(this,kn)[c]!==e[c]&&o.has(c)})};De(this,Qe,CO).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,Qe,Kv).call(this)}},Qn=new WeakMap,Me=new WeakMap,uf=new WeakMap,kn=new WeakMap,Wa=new WeakMap,jl=new WeakMap,Po=new WeakMap,Oo=new WeakMap,df=new WeakMap,zl=new WeakMap,Hl=new WeakMap,qa=new WeakMap,Va=new WeakMap,Ro=new WeakMap,Wl=new WeakMap,Qe=new WeakSet,ud=function(e){De(this,Qe,Qv).call(this);let n=U(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(er)),n},qv=function(){De(this,Qe,Yv).call(this);const e=Ko(this.options.staleTime,U(this,Me));if(lc||U(this,kn).isStale||!Fv(e))return;const r=pO(U(this,kn).dataUpdatedAt,e)+1;he(this,qa,setTimeout(()=>{U(this,kn).isStale||this.updateResult()},r))},Vv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,Me)):this.options.refetchInterval)??!1},Gv=function(e){De(this,Qe,Zv).call(this),he(this,Ro,e),!(lc||hs(this.options.enabled,U(this,Me))===!1||!Fv(U(this,Ro))||U(this,Ro)===0)&&he(this,Va,setInterval(()=>{(this.options.refetchIntervalInBackground||xE.isFocused())&&De(this,Qe,ud).call(this)},U(this,Ro)))},Kv=function(){De(this,Qe,qv).call(this),De(this,Qe,Gv).call(this,De(this,Qe,Vv).call(this))},Yv=function(){U(this,qa)&&(clearTimeout(U(this,qa)),he(this,qa,void 0))},Zv=function(){U(this,Va)&&(clearInterval(U(this,Va)),he(this,Va,void 0))},Qv=function(){const e=U(this,Qn).getQueryCache().build(U(this,Qn),this.options);if(e===U(this,Me))return;const n=U(this,Me);he(this,Me,e),he(this,uf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},CO=function(e){ln.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(U(this,kn))}),U(this,Qn).getQueryCache().notify({query:U(this,Me),type:"observerResultsUpdated"})})},p2);function KM(t,e){return hs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xS(t,e){return KM(t,e)||t.state.data!==void 0&&Jv(t,e,e.refetchOnMount)}function Jv(t,e,n){if(hs(e.enabled,t)!==!1&&Ko(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&NE(t,e)}return!1}function NS(t,e,n,r){return(t!==e||hs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&NE(t,n)}function NE(t,e){return hs(e.enabled,t)!==!1&&t.isStaleByTime(Ko(e.staleTime,t))}function YM(t,e){return!jv(t.getCurrentResult(),e)}function ZM(t,e){return AE(t,e)}function QM(t){return JSON.stringify(t,(e,n)=>JM(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function JM(t){if(!TS(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!TS(n)||!n.hasOwnProperty("isPrototypeOf"))}function TS(t){return Object.prototype.toString.call(t)==="[object Object]"}function XM(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:l,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:g,getPreviousPageParam:v,getNextPageParam:m,initialPageParam:y,_optimisticResults:w,enabled:b,notifyOnChangeProps:E,placeholderData:S,refetchInterval:_,refetchIntervalInBackground:T,refetchOnMount:x,refetchOnReconnect:k,refetchOnWindowFocus:$,retryOnMount:M,select:F,staleTime:q,suspense:A,throwOnError:I,config:L,connector:R,query:O,...D}=t;return D}function eB(t,e={}){return{async queryFn({queryKey:n}){const r=e.abi;if(!r)throw new Error("abi is required");const{functionName:s,scopeKey:i,...o}=n[1],a=(()=>{const c=n[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!s)throw new Error("functionName is required");return _E(t,{abi:r,functionName:s,args:o.args,...a,...o})},queryKey:tB(e)}}function tB(t={}){const{abi:e,...n}=t;return["readContract",XM(n)]}var _O=B.createContext(void 0),nB=t=>{const e=B.useContext(_O);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SO=({client:t,children:e})=>(B.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),P.jsx(_O.Provider,{value:t,children:e})),AO=B.createContext(!1),rB=()=>B.useContext(AO);AO.Provider;function sB(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var iB=B.createContext(sB()),oB=()=>B.useContext(iB),aB=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},cB=t=>{B.useEffect(()=>{t.clearReset()},[t])},lB=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||$M(n,[t.error,r])),uB=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},dB=(t,e)=>t.isLoading&&t.isFetching&&!e,hB=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,PS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function fB(t,e,n){var d,h,f,p,g;const r=rB(),s=oB(),i=nB(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",uB(o),aB(o,s),cB(s);const a=!i.getQueryCache().get(o.queryHash),[c]=B.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(B.useSyncExternalStore(B.useCallback(v=>{const m=u?c.subscribe(ln.batchCalls(v)):er;return c.updateResult(),m},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),B.useEffect(()=>{c.setOptions(o)},[o,c]),hB(o,l))throw PS(o,c,s);if(lB({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,l),o.experimental_prefetchInRender&&!lc&&dB(l,r)){const v=a?PS(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(er).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function pB(t,e){return fB(t,GM)}function gB(t){const e=pB({...t,queryKeyHashFn:QM});return e.queryKey=t.queryKey,e}function mB(t={}){const e=sy(t);return B.useSyncExternalStore(n=>$L(e,{onChange:n}),()=>mS(e),()=>mS(e))}function OS(t={}){const{abi:e,address:n,functionName:r,query:s={}}=t,i=t.code,o=sy(t),a=mB({config:o}),c=eB(o,{...t,chainId:t.chainId??a}),l=!!((n||i)&&e&&r&&(s.enabled??!0));return gB({...s,...c,enabled:l,structuralSharing:s.structuralSharing??ZM})}const yB=Symbol(),RS=Object.getPrototypeOf,Xv=new WeakMap,wB=t=>t&&(Xv.has(t)?Xv.get(t):RS(t)===Object.prototype||RS(t)===Array.prototype),vB=t=>wB(t)&&t[yB]||null,kS=(t,e=!0)=>{Xv.set(t,e)},Xg={},vw=t=>typeof t=="object"&&t!==null,go=new WeakMap,dd=new WeakSet,bB=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>vw(l)&&!dd.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,d=r)=>{const h=s.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return kS(f,!0),s.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const g=Reflect.get(l,p),{enumerable:v}=Reflect.getOwnPropertyDescriptor(l,p),m={value:g,enumerable:v,configurable:!0};if(dd.has(g))kS(g,!1);else if(g instanceof Promise)delete m.value,m.get=()=>d(g);else if(go.has(g)){const[y,w]=go.get(g);m.value=i(y,w(),d)}Object.defineProperty(f,p,m)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!vw(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(x,k=++a[0])=>{d!==k&&(d=k,h.forEach($=>$(x,k)))};let p=a[1];const g=(x=++a[1])=>(p!==x&&!h.size&&(p=x,m.forEach(([k])=>{const $=k[1](x);$>d&&(d=$)})),d),v=x=>(k,$)=>{const M=[...k];M[1]=[x,...M[1]],f(M,$)},m=new Map,y=(x,k)=>{if((Xg?"production":void 0)!=="production"&&m.has(x))throw new Error("prop listener already exists");if(h.size){const $=k[3](v(x));m.set(x,[k,$])}else m.set(x,[k])},w=x=>{var k;const $=m.get(x);$&&(m.delete(x),(k=$[1])==null||k.call($))},b=x=>(h.add(x),h.size===1&&m.forEach(([$,M],F)=>{if((Xg?"production":void 0)!=="production"&&M)throw new Error("remove already exists");const q=$[3](v(F));m.set(F,[$,q])}),()=>{h.delete(x),h.size===0&&m.forEach(([$,M],F)=>{M&&(M(),m.set(F,[$]))})}),E=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),_=e(E,{deleteProperty(x,k){const $=Reflect.get(x,k);w(k);const M=Reflect.deleteProperty(x,k);return M&&f(["delete",[k],$]),M},set(x,k,$,M){const F=Reflect.has(x,k),q=Reflect.get(x,k,M);if(F&&(t(q,$)||o.has($)&&t(q,o.get($))))return!0;w(k),vw($)&&($=vB($)||$);let A=$;if($ instanceof Promise)$.then(I=>{$.status="fulfilled",$.value=I,f(["resolve",[k],I])}).catch(I=>{$.status="rejected",$.reason=I,f(["reject",[k],I])});else{!go.has($)&&n($)&&(A=c($));const I=!dd.has(A)&&go.get(A);I&&y(k,I)}return Reflect.set(x,k,A,M),f(["set",[k],$,q]),!0}});o.set(l,_);const T=[E,g,i,b];return go.set(_,T),Reflect.ownKeys(l).forEach(x=>{const k=Object.getOwnPropertyDescriptor(l,x);"value"in k&&(_[x]=l[x],delete k.value,delete k.writable),Object.defineProperty(E,x,k)}),_})=>[c,go,dd,t,e,n,r,s,i,o,a],[EB]=bB();function ft(t={}){return EB(t)}function hn(t,e,n){const r=go.get(t);(Xg?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Oh(t,e){const n=go.get(t);(Xg?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,i]=n;return i(r,s(),e)}function uc(t){return dd.add(t),t}function fn(t,e,n,r){let s=t[e];return hn(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}function CB(t){const e=ft({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(i=>i[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var $S={};const z={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof $S<"u"?$S.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},Rh={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=z.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var _B=20,SB=1,dc=1e6,DS=1e6,AB=-7,IB=21,xB=!1,Cf="[big.js] ",_c=Cf+"Invalid ",oy=_c+"decimal places",NB=_c+"rounding mode",IO=Cf+"Division by zero",nt={},Gs=void 0,TB=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function xO(){function t(e){var n=this;if(!(n instanceof t))return e===Gs?xO():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(_c+"value");e=e===0&&1/e<0?"-0":String(e)}PB(n,e)}n.constructor=t}return t.prototype=nt,t.DP=_B,t.RM=SB,t.NE=AB,t.PE=IB,t.strict=xB,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function PB(t,e){var n,r,s;if(!TB.test(e))throw Error(_c+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function Sc(t,e,n,r){var s=t.c;if(n===Gs&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(NB);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Gs))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Gs||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function Ac(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}nt.abs=function(){var t=new this.constructor(this);return t.s=1,t};nt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};nt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>dc)throw Error(oy);if(!s[0])throw Error(IO);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,h=s.slice(),f=a=s.length,p=r.length,g=r.slice(0,a),v=g.length,m=t,y=m.c=[],w=0,b=o+(m.e=e.e-t.e)+1;for(m.s=i,i=b<0?0:b,h.unshift(0);v++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(v=g.length))u=a>v?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=v==a?s:h;v;){if(g[--v]<c[v]){for(d=v;d&&!g[--d];)g[d]=9;--g[d],g[v]+=10}g[v]-=c[v]}for(;!g[0];)g.shift()}else break}y[w++]=u?l:++l,g[0]&&u?g[v]=r[f]||0:g=[r[f]]}while((f++<p||g[0]!==Gs)&&i--);return!y[0]&&w!=1&&(y.shift(),m.e--,b--),w>b&&Sc(m,b,n.RM,g[0]!==Gs),m};nt.eq=function(t){return this.cmp(t)===0};nt.gt=function(t){return this.cmp(t)>0};nt.gte=function(t){return this.cmp(t)>-1};nt.lt=function(t){return this.cmp(t)<0};nt.lte=function(t){return this.cmp(t)<1};nt.minus=nt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-h){for((s=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};nt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(IO);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};nt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};nt.plus=nt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};nt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-DS||t>DS)throw Error(_c+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};nt.prec=function(t,e){if(t!==~~t||t<1||t>dc)throw Error(_c+"precision");return Sc(new this.constructor(this),t,e)};nt.round=function(t,e){if(t===Gs)t=0;else if(t!==~~t||t<-dc||t>dc)throw Error(oy);return Sc(new this.constructor(this),t+this.e+1,e)};nt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Cf+"No square root");i=Math.sqrt(+Ac(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Sc(t,(s.DP-=4)+t.e+1,s.RM)};nt.times=nt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};nt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Gs){if(t!==~~t||t<0||t>dc)throw Error(oy);for(n=Sc(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Ac(n,!0,!!r)};nt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Gs){if(t!==~~t||t<0||t>dc)throw Error(oy);for(n=Sc(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Ac(n,!1,!!r)};nt[Symbol.for("nodejs.util.inspect.custom")]=nt.toJSON=nt.toString=function(){var t=this,e=t.constructor;return Ac(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};nt.toNumber=function(){var t=+Ac(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Cf+"Imprecise conversion");return t};nt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Gs){if(t!==~~t||t<1||t>dc)throw Error(_c+"precision");for(n=Sc(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Ac(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};nt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Cf+"valueOf disallowed");return Ac(t,t.e<=e.NE||t.e>=e.PE,!0)};var Bu=xO();const OB={bigNumber(t){return t?new Bu(t):new Bu(0)},multiply(t,e){if(t===void 0||e===void 0)return new Bu(0);const n=new Bu(t),r=new Bu(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},RB=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],kB=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],$B=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],DB={getERC20Abi:t=>z.USDT_CONTRACT_ADDRESSES.includes(t)?$B:RB,getSwapAbi:()=>kB},vr={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Se={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function bw(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Ee={setItem(t,e){hd()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(hd())return localStorage.getItem(t)||void 0},removeItem(t){hd()&&localStorage.removeItem(t)},clear(){hd()&&localStorage.clear()}};function hd(){return typeof window<"u"&&typeof localStorage<"u"}function Ti(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var US={};const Ew=(typeof process<"u"&&typeof US<"u"?US.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",NO=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]},{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]}],UB="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Xe={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:Ew,SECURE_SITE_DASHBOARD:`${Ew}/dashboard`,SECURE_SITE_FAVICON:`${Ew}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld","coinbase"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},J={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=J.getActiveNamespace(),e=J.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Ee.setItem(Se.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Ee.getItem(Se.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ee.removeItem(Se.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Ee.setItem(Se.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Ee.setItem(Se.ACTIVE_CAIP_NETWORK_ID,t),J.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ee.getItem(Se.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ee.removeItem(Se.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=bw(t);Ee.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=J.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Ee.setItem(Se.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Ee.getItem(Se.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=bw(t);Ee.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ee.getItem(Se.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=bw(t);return Ee.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Ee.setItem(Se.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ee.getItem(Se.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ee.removeItem(Se.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ee.getItem(Se.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Ee.getItem(Se.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Ee.setItem(Se.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ee.getItem(Se.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Ee.getItem(Se.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Ee.setItem(Se.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=J.getConnectedNamespaces();e.includes(t)||(e.push(t),J.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=J.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),J.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ee.getItem(Se.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Ee.setItem(Se.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ee.removeItem(Se.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Ee.getItem(Se.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=J.getBalanceCache();Ee.setItem(Se.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=J.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;J.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=J.getBalanceCache();e[t.caipAddress]=t,Ee.setItem(Se.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Ee.getItem(Se.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=J.getBalanceCache();Ee.setItem(Se.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=J.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),J.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=J.getNativeBalanceCache();e[t.caipAddress]=t,Ee.setItem(Se.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Ee.getItem(Se.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=J.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;J.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=J.getEnsCache();e[t.address]=t,Ee.setItem(Se.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=J.getEnsCache();Ee.setItem(Se.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Ee.getItem(Se.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=J.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;J.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=J.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Ee.setItem(Se.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=J.getIdentityCache();Ee.setItem(Se.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Ee.removeItem(Se.PORTFOLIO_CACHE),Ee.removeItem(Se.NATIVE_BALANCE_CACHE),Ee.removeItem(Se.ENS_CACHE),Ee.removeItem(Se.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Ee.setItem(Se.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Ee.getItem(Se.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=J.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===z.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};Ee.setItem(Se.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Ee.getItem(Se.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=J.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Ee.setItem(Se.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Ee.getItem(Se.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=J.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),Ee.setItem(Se.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=J.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),Ee.setItem(Se.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(J.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1}},fe={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return fe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Xe.TEN_SEC_MS:!0},isAllowedRetry(t,e=Xe.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(fe.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Xe.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(fe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!fe.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?J.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,fe.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return z.W3M_API_URL},getBlockchainApiUrl(){return z.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return z.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?Xe.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in z.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function Fu(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class _f{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await Fu(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Fu(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Fu(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Fu(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Fu(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const LB={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?Xe.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(fe.isTelegram()){if(fe.isIos())return t.filter(e=>e!=="google");if(fe.isMac())return t.filter(e=>e!=="x");if(fe.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},ye=ft({features:Xe.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Xe.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),W={state:ye,subscribeKey(t,e){return fn(ye,t,e)},setOptions(t){Object.assign(ye,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...ye.remoteFeatures,...t};ye.remoteFeatures=e,(n=ye.remoteFeatures)!=null&&n.socials&&(ye.remoteFeatures.socials=LB.filterSocialsByPlatform(ye.remoteFeatures.socials))},setFeatures(t){if(!t)return;ye.features||(ye.features=Xe.DEFAULT_FEATURES);const e={...ye.features,...t};ye.features=e},setProjectId(t){ye.projectId=t},setCustomRpcUrls(t){ye.customRpcUrls=t},setAllWallets(t){ye.allWallets=t},setIncludeWalletIds(t){ye.includeWalletIds=t},setExcludeWalletIds(t){ye.excludeWalletIds=t},setFeaturedWalletIds(t){ye.featuredWalletIds=t},setTokens(t){ye.tokens=t},setTermsConditionsUrl(t){ye.termsConditionsUrl=t},setPrivacyPolicyUrl(t){ye.privacyPolicyUrl=t},setCustomWallets(t){ye.customWallets=t},setIsSiweEnabled(t){ye.isSiweEnabled=t},setIsUniversalProvider(t){ye.isUniversalProvider=t},setSdkVersion(t){ye.sdkVersion=t},setMetadata(t){ye.metadata=t},setDisableAppend(t){ye.disableAppend=t},setEIP6963Enabled(t){ye.enableEIP6963=t},setDebug(t){ye.debug=t},setEnableWalletConnect(t){ye.enableWalletConnect=t},setEnableWalletGuide(t){ye.enableWalletGuide=t},setEnableAuthLogger(t){ye.enableAuthLogger=t},setEnableWallets(t){ye.enableWallets=t},setPreferUniversalLinks(t){ye.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){ye.hasMultipleAddresses=t},setSIWX(t){ye.siwx=t},setConnectMethodsOrder(t){ye.features={...ye.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){ye.features={...ye.features,walletFeaturesOrder:t}},setSocialsOrder(t){ye.remoteFeatures={...ye.remoteFeatures,socials:t}},setCollapseWallets(t){ye.features={...ye.features,collapseWallets:t}},setEnableEmbedded(t){ye.enableEmbedded=t},setAllowUnsupportedChain(t){ye.allowUnsupportedChain=t},setManualWCControl(t){ye.manualWCControl=t},setEnableNetworkSwitch(t){ye.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(ye.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){ye.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return ye.universalProviderConfigOverride},getSnapshot(){return Oh(ye)}},MB=Object.freeze({enabled:!0,events:[]}),BB=new _f({baseUrl:fe.getAnalyticsUrl(),clientId:null}),FB=5,jB=60*1e3,Qi=ft({...MB}),zB={state:Qi,subscribeKey(t,e){return fn(Qi,t,e)},async sendError(t,e){if(!Qi.enabled)return;const n=Date.now();if(Qi.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<jB}).length>=FB)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Qi.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=W.state;await BB.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:fe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Qi.enabled=!0},disable(){Qi.enabled=!1},clearEvents(){Qi.events=[]}};class su extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,su.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,su):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function LS(t,e){const n=t instanceof su?t:new su(t instanceof Error?t.message:String(t),e,t);throw zB.sendError(n,n.category),n}function Pr(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return LS(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return LS(a,e)}},n[r]=i}else n[r]=s}),n}const js={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},HB={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===js.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${js.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===js.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${js.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===z.CHAIN.SOLANA&&t===js.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${js.COINBASE.url}/dapp?cb_url=${r}`)}},gr=ft({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),WB={state:gr,subscribeNetworkImages(t){return hn(gr.networkImages,()=>t(gr.networkImages))},subscribeKey(t,e){return fn(gr,t,e)},subscribe(t){return hn(gr,()=>t(gr))},setWalletImage(t,e){gr.walletImages[t]=e},setNetworkImage(t,e){gr.networkImages[t]=e},setChainImage(t,e){gr.chainImages[t]=e},setConnectorImage(t,e){gr.connectorImages={...gr.connectorImages,[t]:e}},setTokenImage(t,e){gr.tokenImages[t]=e},setCurrencyImage(t,e){gr.currencyImages[t]=e}},fs=Pr(WB),qB={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},Cw=ft({networkImagePromises:{}}),TO={async fetchWalletImage(t){if(t)return await ge._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Cw.networkImagePromises[t]||(Cw.networkImagePromises[t]=ge._fetchNetworkImage(t)),await Cw.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return fs.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return fs.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return fs.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return fs.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return fs.state.connectorImages[t.imageId]},getChainImage(t){return fs.state.networkImages[qB[t]]}},Ji=ft({message:"",variant:"info",open:!1}),VB={state:Ji,subscribeKey(t,e){return fn(Ji,t,e)},open(t,e){const{debug:n}=W.state,{shortMessage:r,longMessage:s}=t;n&&(Ji.message=r,Ji.variant=e,Ji.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){Ji.open=!1,Ji.message="",Ji.variant="info"}},kt=Pr(VB),GB=fe.getAnalyticsUrl(),KB=new _f({baseUrl:GB,clientId:null}),YB=["MODAL_CREATED"],li=ft({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),et={state:li,subscribe(t){return hn(li,()=>t(li))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=W.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=X.state.address;if(YB.includes(t.data.event)||typeof window>"u")return;await KB.post({path:"/e",params:et.getSdkProperties(),body:{eventId:fe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),li.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===z.HTTP_STATUS_CODES.FORBIDDEN&&!li.reportedErrors.FORBIDDEN&&(kt.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${hd()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),li.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;li.timestamp=Date.now(),li.data=t,(e=W.state.features)!=null&&e.analytics&&et._sendAnalyticsEvent(li)}},ZB=fe.getApiUrl(),zn=new _f({baseUrl:ZB,clientId:null}),QB=40,MS=4,JB=20,Ie=ft({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ge={state:Ie,subscribeKey(t,e){return fn(Ie,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=W.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return W.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${zn.baseUrl}/getWalletImage/${t}`,n=await zn.getBlob({path:e,params:ge._getSdkProperties()});fs.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${zn.baseUrl}/public/getAssetImage/${t}`,n=await zn.getBlob({path:e,params:ge._getSdkProperties()});fs.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${zn.baseUrl}/public/getAssetImage/${t}`,n=await zn.getBlob({path:e,params:ge._getSdkProperties()});fs.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${zn.baseUrl}/public/getCurrencyImage/${t}`,n=await zn.getBlob({path:e,params:ge._getSdkProperties()});fs.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${zn.baseUrl}/public/getTokenImage/${t}`,n=await zn.getBlob({path:e,params:ge._getSdkProperties()});fs.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return fe.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===js.COINBASE.id?!0:N.state.activeChain==="solana"&&(n.id===js.SOLFLARE.id||n.id===js.PHANTOM.id)):t},async fetchProjectConfig(){return(await zn.get({path:"/appkit/v1/config",params:ge._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await zn.get({path:"/projects/v1/origins",params:ge._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===z.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=z.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=N.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!TO.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>ge._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=ee.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>ge._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>ge._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>ge._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];ge._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(js).map(o=>o.id));const r=await zn.get({path:"/getWallets",params:{...ge._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:ge._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=W.state;if(t!=null&&t.length){const e={...ge._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??MS,include:t},{data:n}=await ge.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>ge._fetchWalletImage(i))),Ie.featured=r,Ie.allFeatured=r}},async fetchRecommendedWallets(){try{Ie.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=W.state,r=[...e??[],...n??[]].filter(Boolean),s=N.getRequestedCaipNetworkIds().join(","),i={page:1,entries:MS,include:t,exclude:r,chains:s},{data:o,count:a}=await ge.fetchWallets(i),c=J.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>ge._fetchWalletImage(d))),Ie.recommended=o,Ie.allRecommended=o,Ie.count=a??0}catch{}finally{Ie.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=W.state,s=N.getRequestedCaipNetworkIds().join(","),i=[...Ie.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:QB,include:e,exclude:i,chains:s},{data:a,count:c}=await ge.fetchWallets(o),l=a.slice(0,JB).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>ge._fetchWalletImage(u))),Ie.wallets=fe.uniqueBy([...Ie.wallets,...ge._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>s.includes(h))}),Ie.count=c>Ie.count?c:Ie.count,Ie.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await ge.fetchWallets(e);n&&n.forEach(r=>{Ie.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=W.state,s=N.getRequestedCaipNetworkIds().join(",");Ie.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await ge.fetchWallets(i);et.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>ge._fetchWalletImage(c)),fe.wait(300)]),Ie.search=ge._filterOutExtensions(o)},initPromise(t,e){const n=Ie.promises[t];return n||(Ie.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&ge.initPromise("connectorImages",ge.fetchConnectorImages),e&&ge.initPromise("featuredWallets",ge.fetchFeaturedWallets),n&&ge.initPromise("recommendedWallets",ge.fetchRecommendedWallets),r&&ge.initPromise("networkImages",ge.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=W.state.features)!=null&&t.analytics&&ge.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await zn.get({path:"/getAnalyticsConfig",params:ge._getSdkProperties()});W.setFeatures({analytics:t})}catch{W.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Ie.featured=Ie.allFeatured,Ie.recommended=Ie.allRecommended;return}const e=N.getRequestedCaipNetworkIds().join(",");Ie.featured=Ie.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ie.recommended=Ie.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ie.filteredWallets=Ie.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Ie.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ie.featured=Ie.allFeatured,Ie.recommended=Ie.allRecommended;return}const e=N.getRequestedCaipNetworkIds().join(",");Ie.featured=Ie.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ie.recommended=Ie.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ie.filteredWallets=Ie.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},st=ft({view:"Connect",history:["Connect"],transactionStack:[]}),XB={state:st,subscribeKey(t,e){return fn(st,t,e)},pushTransactionStack(t){st.transactionStack.push(t)},popTransactionStack(t){const e=st.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),be.goBack();break;case"cancel":s==null||s(),be.goBack();break}},push(t,e){t!==st.view&&(st.view=t,st.history.push(t),st.data=e)},reset(t,e){st.view=t,st.history=[t],st.data=e},replace(t,e){st.history.at(-1)===t||(st.view=t,st.history[st.history.length-1]=t,st.data=e)},goBack(){var r;const t=N.state.activeCaipAddress,e=be.state.view==="ConnectingFarcaster",n=!t&&e;if(st.history.length>1){st.history.pop();const[s]=st.history.slice(-1);s&&(t&&s==="Connect"?st.view="Account":st.view=s)}else Ze.close();(r=st.data)!=null&&r.wallet&&(st.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){X.setFarcasterUrl(void 0,N.state.activeChain);const a=ee.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=Oh(W.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(st.history.length>1){st.history=st.history.slice(0,t+1);const[e]=st.history.slice(-1);e&&(st.view=e)}},goBackOrCloseModal(){be.state.history.length>1?be.goBack():Ze.close()}},be=Pr(XB),ui=ft({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),eb={state:ui,subscribe(t){return hn(ui,()=>t(ui))},setThemeMode(t){ui.themeMode=t;try{const e=ee.getAuthConnector();if(e){const n=eb.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Ti(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){ui.themeVariables={...ui.themeVariables,...t};try{const e=ee.getAuthConnector();if(e){const n=eb.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Ti(ui.themeVariables,ui.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Oh(ui)}},Jn=Pr(eb),PO={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},ze=ft({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...PO},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),eF={state:ze,subscribe(t){return hn(ze,()=>{t(ze)})},subscribeKey(t,e){return fn(ze,t,e)},initialize(t){t.forEach(e=>{const n=J.getConnectedConnectorId(e);n&&ee.setConnectorId(n,e)})},setActiveConnector(t){t&&(ze.activeConnector=uc(t))},setConnectors(t){t.filter(s=>!ze.allConnectors.some(i=>i.id===s.id&&ee.getConnectorName(i.name)===ee.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&ze.allConnectors.push(uc(s))});const n=ee.getEnabledNamespaces(),r=ee.getEnabledConnectors(n);ze.connectors=ee.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(ze.filterByNamespaceMap).forEach(e=>{ze.filterByNamespaceMap[e]=!1}),t.forEach(e=>{ze.filterByNamespaceMap[e]=!0}),ee.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){ze.filterByNamespaceMap[t]=e,ee.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=ee.getEnabledNamespaces(),e=ee.getEnabledConnectors(t),n=ee.areAllNamespacesEnabled();ze.connectors=ee.mergeMultiChainConnectors(e),n?ge.clearFilterByNamespaces():ge.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(ze.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return ze.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(ze.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=ee.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===z.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=ee.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===z.CONNECTOR_ID.AUTH){const s=t,i=Oh(W.state),o=Jn.getSnapshot().themeMode,a=Jn.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Ti(a,o)}),ee.setConnectors([t])}else ee.setConnectors([t])},getAuthConnector(t){var r;const e=t||N.state.activeChain,n=ze.connectors.find(s=>s.id===z.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return ze.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return ze.allConnectors.find(e=>e.id===t)},getConnector(t,e){return ze.allConnectors.filter(r=>r.chain===N.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=Oh(W.state),r=Jn.getSnapshot().themeMode,s=Jn.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Ti(s,r)})},getConnectorsByNamespace(t){const e=ze.allConnectors.filter(n=>n.chain===t);return ee.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ee.getConnector(t.id,t.rdns),n=N.state.activeChain;HB.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?be.push("ConnectingExternal",{connector:e}):be.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?ee.getConnectorsByNamespace(t):ee.mergeMultiChainConnectors(ze.allConnectors)},setFilterByNamespace(t){ze.filterByNamespace=t,ze.connectors=ee.getConnectors(t),ge.setFilterByNamespace(t)},setConnectorId(t,e){t&&(ze.activeConnectorIds={...ze.activeConnectorIds,[e]:t},J.setConnectedConnectorId(e,t))},removeConnectorId(t){ze.activeConnectorIds={...ze.activeConnectorIds,[t]:void 0},J.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return ze.activeConnectorIds[t]},isConnected(t){return t?!!ze.activeConnectorIds[t]:Object.values(ze.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){ze.activeConnectorIds={...PO}}},ee=Pr(eF),kh={getConnectionStatus(t,e){const n=ee.state.activeConnectorIds[e],r=ae.state.connections.get(e)??[];return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},validateAccountSwitch({namespace:t,connection:e,address:n}){if(t===z.CHAIN.BITCOIN){if(!n)throw new Error("Address parameter is required for switching bip122 connection");const{type:s}=e.accounts.find(i=>i.address.toLowerCase()===n.toLowerCase())??{};if(typeof s=="string"&&s!=="payment")throw new Error(`Switching to non-payment accounts is not allowed for ${t}`)}},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},filterConnectionsByAccountType(t,e){return t.map(n=>{const r=n.accounts.filter(s=>typeof s.type=="string"?s.type.toLowerCase()===e.toLowerCase():!0);return{...n,accounts:r}})},getConnectionsData(t){const e=ae.state.connections.get(t)??[],n=e.filter(a=>!a.recent),r=ee.state.activeConnectorIds[t],i=e.filter(a=>a.recent).filter(a=>ee.getConnectorById(a.connectorId)),o=kh.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],i);return{connections:n,recentConnections:o}}};var iu={};const tF="https://secure.walletconnect.org/sdk",nF=(typeof process<"u"&&typeof iu<"u"?iu.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||tF,rF=(typeof process<"u"&&typeof iu<"u"?iu.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",sF=(typeof process<"u"&&typeof iu<"u"?iu.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",ue={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},en={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},iF=1e3,Ai={checkNamespaceConnectorId(t,e){return ee.getConnectorId(t)===e},isSocialProvider(t){return Xe.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&ee.setActiveConnector(e),s==null||s(fe.isMobile()&&t),r){const l=Ze.subscribeKey("open",u=>{u||(be.state.view!==r&&be.replace(r),l(),a(new Error("Modal closed")))})}const c=N.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&Ze.close(),c(),o(vr.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=N.subscribeKey("activeCaipAddress",s=>{s&&(Ze.close(),r(),e(vr.parseCaipAddress(s)))});ae.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,closeModalOnConnect:e=!0,onOpenFarcaster:n,onConnect:r}){let s=X.state.socialWindow,i=X.state.socialProvider,o=!1,a=null;const c=N.subscribeKey("activeCaipAddress",l=>{l&&(e&&Ze.close(),c())});return new Promise((l,u)=>{async function d(f){var p;if((p=f.data)!=null&&p.resultUri)if(f.origin===z.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",d,!1);try{const g=ee.getAuthConnector();if(g&&!o){s&&(s.close(),X.setSocialWindow(void 0,N.state.activeChain),s=X.state.socialWindow),o=!0;const v=f.data.resultUri;if(i&&et.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),await g.provider.connectSocial(v),i){J.setConnectedSocialProvider(i),await ae.connectExternal({id:g.id,type:g.type,socialUri:v},g.chain);const m=N.state.activeCaipAddress;if(!m){u(new Error("Failed to connect"));return}l(vr.parseCaipAddress(m)),et.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&et.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),u(new Error("Failed to connect"))}}else i&&et.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function h(){if(t&&(X.setSocialProvider(t,N.state.activeChain),i=X.state.socialProvider,et.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){n==null||n();const f=Ze.subscribeKey("open",g=>{!g&&t==="farcaster"&&(u(new Error("Popup closed")),r==null||r(),f())}),p=ee.getAuthConnector();if(p&&!X.state.farcasterUrl)try{const{url:g}=await p.provider.getFarcasterUri();X.setFarcasterUrl(g,N.state.activeChain)}catch{u(new Error("Failed to connect to farcaster"))}}else{const f=ee.getAuthConnector();a=fe.returnOpenHref(`${z.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f&&i){const{uri:p}=await f.provider.getSocialRedirectUri({provider:i});if(a&&p){X.setSocialWindow(a,N.state.activeChain),s=X.state.socialWindow,a.location.href=p;const g=setInterval(()=>{s!=null&&s.closed&&!o&&(u(new Error("Popup closed")),clearInterval(g))},1e3);window.addEventListener("message",d,!1)}else a==null||a.close(),u(new Error("Failed to initiate social connection"))}}catch{u(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=Ze.subscribeKey("open",c=>{c||(be.state.view!==e&&be.replace(e),a(),i(new Error("Modal closed")))})}const o=N.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&Ze.close(),o(),s(vr.parseCaipAddress(a)))})})},async updateEmail(){const t=J.getConnectedConnectorId(N.state.activeChain),e=ee.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==z.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return be.push("UpdateEmailWallet",{email:n,redirectView:void 0}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(Ze.close(),clearInterval(i),o(),r({email:a}))},iF),o=Ze.subscribeKey("open",a=>{a||(be.state.view!=="Connect"&&be.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){var n;return N.checkIfSmartAccountEnabled()&&((n=X.state.preferredAccountTypes)==null?void 0:n[t])===en.ACCOUNT_TYPES.EOA}},Sa=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Lt=ft({...Sa}),oF={state:Lt,subscribeKey(t,e){return fn(Lt,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=fe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Lt.message=Sa.message,Lt.variant=Sa.variant,Lt.svg=Sa.svg,Lt.open=Sa.open,Lt.autoClose=Sa.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Sa.autoClose}){Lt.open?(Lt.open=!1,setTimeout(()=>{Lt.message=t,Lt.variant=n,Lt.svg=e,Lt.open=!0,Lt.autoClose=r},150)):(Lt.message=t,Lt.variant=n,Lt.svg=e,Lt.open=!0,Lt.autoClose=r)}},gs=oF,lt=ft({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),aF={state:lt,subscribe(t){return hn(lt,()=>t(lt))},setLastNetworkInView(t){lt.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");lt.loading=!0;try{const s=await we.fetchTransactions({account:t,cursor:lt.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=fd.filterSpamTransactions(s.data),o=fd.filterByConnectedChain(i),a=[...lt.transactions,...o];lt.loading=!1,e==="coinbase"?lt.coinbaseTransactions=fd.groupTransactionsByYearAndMonth(lt.coinbaseTransactions,s.data):(lt.transactions=a,lt.transactionsByYear=fd.groupTransactionsByYearAndMonth(lt.transactionsByYear,o)),lt.empty=a.length===0,lt.next=s.next?s.next:void 0}catch{const i=N.state.activeChain;et.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:W.state.projectId,cursor:lt.next,isSmartAccount:((r=X.state.preferredAccountTypes)==null?void 0:r[i])===en.ACCOUNT_TYPES.SMART_ACCOUNT}}),gs.showError("Failed to fetch transactions"),lt.loading=!1,lt.empty=!0,lt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=N.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){lt.next=void 0},resetTransactions(){lt.transactions=[],lt.transactionsByYear={},lt.lastNetworkInView=void 0,lt.loading=!1,lt.empty=!1,lt.next=void 0}},fd=Pr(aF,"API_ERROR"),Be=ft({connections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let ma;const cF={state:Be,subscribe(t){return hn(Be,()=>t(Be))},subscribeKey(t,e){return fn(Be,t,e)},_getClient(){return Be._client},setClient(t){Be._client=uc(t)},initialize(t){const e=J.getConnections();for(const n of t){const r=n.namespace;if(r){const s=Be.connections.get(r)??[],i=e[r]??[],o=[...s,...i];Be.connections.set(r,o)}}},async connectWalletConnect(){var t,e,n,r;if(fe.isTelegram()||fe.isSafari()&&fe.isIos()){if(ma){await ma,ma=void 0;return}if(!fe.isPairingExpired(Be==null?void 0:Be.wcPairingExpiry)){const s=Be.wcUri;Be.wcUri=s;return}ma=(e=(t=ae._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),ae.state.status="connecting",await ma,ma=void 0,Be.wcPairingExpiry=void 0,ae.state.status="connected"}else await((r=(n=ae._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=ae._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&N.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=ae._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||N.state.activeChain;e&&ee.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;Ze.setLoading(!0,N.state.activeChain);const n=ee.getAuthConnector();n&&(X.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),J.setPreferredAccountTypes(X.state.preferredAccountTypes??{[e]:t}),await ae.reconnectExternal(n),Ze.setLoading(!1,N.state.activeChain),et.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=N.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=ae._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=ae._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=ae._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=ae._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=ae._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=ae._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=ae._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=ae._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=ae._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=ae._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=ae._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=ae._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){Be.wcUri=void 0,Be.wcPairingExpiry=void 0,Be.wcLinking=void 0,Be.recentWallet=void 0,Be.status="disconnected",fd.resetTransactions(),J.deleteWalletConnectDeepLink()},resetUri(){Be.wcUri=void 0,Be.wcPairingExpiry=void 0,ma=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=ae.state;t&&J.setWalletConnectDeepLink(t),e&&J.setAppKitRecent(e),et.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=be.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){Be.wcBasic=t},setUri(t){Be.wcUri=t,Be.wcPairingExpiry=fe.getPairingExpiry()},setWcLinking(t){Be.wcLinking=t},setWcError(t){Be.wcError=t,Be.buffering=!1},setRecentWallet(t){Be.recentWallet=t},setBuffering(t){Be.buffering=t},setStatus(t){Be.status=t},setIsSwitchingConnection(t){Be.isSwitchingConnection=t},async disconnect({id:t,namespace:e}={}){var n;try{await((n=ae._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e}))}catch(r){throw new su("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){Be.connections=new Map(Be.connections.set(e,t))},async handleAuthAccountSwitch({address:t,connection:e,namespace:n}){var o;const r=(o=e.accounts.find(a=>a.type==="smartAccount"))==null?void 0:o.address,i=(r==null?void 0:r.toLowerCase())===t.toLowerCase()&&Ai.canSwitchToSmartAccount(n)?"smartAccount":"eoa";await ae.setPreferredAccountType(i,n)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=ee.getConnectorById(t.connectorId),s=t.connectorId===z.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);const i=await ae.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return s&&n&&await ae.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),i==null?void 0:i.address},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=ee.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===z.CONNECTOR_ID.AUTH,a=t.connectorId===z.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&Ai.isSocialProvider(i)){const{address:d}=await Ai.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){Ze.open({view:"ConnectingFarcaster"})},onConnect(){be.replace("ProfileWallets")}});c=d}else{const{address:d}=await Ai.connectEmail({closeModalOnConnect:r,onOpen(){Ze.open({view:"EmailLogin"})},onConnect(){be.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await Ai.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){Ze.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){be.replace("ProfileWallets")}});c=d}else{const d=await ae.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await ae.handleAuthAccountSwitch({address:n,connection:t,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){kh.validateAccountSwitch({namespace:n,connection:t,address:e});let i;const o=X.getCaipAddress(n);if(o){const{address:c}=vr.parseCaipAddress(o);i=c}const a=kh.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await ae.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await ae.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},ae=Pr(cF),Dc=ft({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ks={state:Dc,subscribe(t){return hn(Dc,()=>t(Dc))},subscribeOpen(t){return fn(Dc,"open",t)},set(t){Object.assign(Dc,{...Dc,...t})}};function lF(t){const e=Array.from(N.state.chains.keys());let n=[];return t?(n.push([t,N.state.chains.get(t)]),Ai.checkNamespaceConnectorId(t,z.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&Ai.checkNamespaceConnectorId(r,z.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,N.state.chains.get(r)])}):Ai.checkNamespaceConnectorId(t,z.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&Ai.checkNamespaceConnectorId(r,z.CONNECTOR_ID.AUTH)&&n.push([r,N.state.chains.get(r)])})):n=Array.from(N.state.chains.entries()),n}function OO(){var r,s;const t=((r=N.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=N.state.activeCaipNetwork)==null?void 0:s.id)||1,n=Xe.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}const uF={async getTokenList(){var r;const t=N.state.activeCaipNetwork,e=await we.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=N.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(ae==null?void 0:ae.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await we.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await we.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=ae.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await TE.getMyTokensWithBalance(t);return X.setTokenBalance(e,N.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:OO(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Je=ft({tokenBalances:[],loading:!1}),dF={state:Je,subscribe(t){return hn(Je,()=>t(Je))},subscribeKey(t,e){return fn(Je,t,e)},setToken(t){t&&(Je.token=uc(t))},setTokenAmount(t){Je.sendTokenAmount=t},setReceiverAddress(t){Je.receiverAddress=t},setReceiverProfileImageUrl(t){Je.receiverProfileImageUrl=t},setReceiverProfileName(t){Je.receiverProfileName=t},setNetworkBalanceInUsd(t){Je.networkBalanceInUSD=t},setLoading(t){Je.loading=t},async sendToken(){var t;try{switch(Ke.setLoading(!0),(t=N.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await Ke.sendEvmToken();return;case"solana":await Ke.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Ke.setLoading(!1)}},async sendEvmToken(){var n,r,s,i;const t=N.state.activeChain,e=(n=X.state.preferredAccountTypes)==null?void 0:n[t];if(!Ke.state.sendTokenAmount||!Ke.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Ke.state.token)throw new Error("A token is required");(r=Ke.state.token)!=null&&r.address?(et.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===en.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ke.state.token.address,amount:Ke.state.sendTokenAmount,network:((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await Ke.sendERC20Token({receiverAddress:Ke.state.receiverAddress,tokenAddress:Ke.state.token.address,sendTokenAmount:Ke.state.sendTokenAmount,decimals:Ke.state.token.quantity.decimals})):(et.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===en.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ke.state.token.symbol||"",amount:Ke.state.sendTokenAmount,network:((i=N.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await Ke.sendNativeToken({receiverAddress:Ke.state.receiverAddress,sendTokenAmount:Ke.state.sendTokenAmount,decimals:Ke.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;Je.loading=!0;const e=(i=N.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=N.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=N.state.activeCaipAddress,s=r?fe.getPlainAddress(r):void 0;if(Je.lastRetry&&!fe.isAllowedRetry(Je.lastRetry,30*Xe.ONE_SEC_MS))return Je.loading=!1,[];try{if(s&&e&&n){const a=await TE.getMyTokensWithBalance();return Je.tokenBalances=a,Je.lastRetry=void 0,a}}catch(a){Je.lastRetry=Date.now(),t==null||t(a),gs.showError("Token Balance Unavailable")}finally{Je.loading=!1}return[]},fetchNetworkBalance(){if(Je.tokenBalances.length===0)return;const t=uF.mapBalancesToSwapTokens(Je.tokenBalances);if(!t)return;const e=t.find(n=>n.address===OO());e&&(Je.networkBalanceInUSD=e?OB.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a,c;be.pushTransactionStack({});const e=t.receiverAddress,n=X.state.address,r=ae.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await ae.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),et.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=X.state.preferredAccountTypes)==null?void 0:i.eip155)===en.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=Ke.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=N.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=ae._getClient())==null||c.updateBalance("eip155"),Ke.resetSend()},async sendERC20Token(t){be.pushTransactionStack({onSuccess(){be.replace("Account")}});const e=ae.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(X.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=fe.getPlainAddress(t.tokenAddress);await ae.writeContract({fromAddress:X.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:DB.getERC20Abi(n),chainNamespace:"eip155"}),Ke.resetSend()}},async sendSolanaToken(){var t;if(!Ke.state.sendTokenAmount||!Ke.state.receiverAddress)throw new Error("An amount and receiver address are required");be.pushTransactionStack({onSuccess(){be.replace("Account")}}),await ae.sendTransaction({chainNamespace:"solana",to:Ke.state.receiverAddress,value:Ke.state.sendTokenAmount}),(t=ae._getClient())==null||t.updateBalance("solana"),Ke.resetSend()},resetSend(){Je.token=void 0,Je.sendTokenAmount=void 0,Je.receiverAddress=void 0,Je.receiverProfileImageUrl=void 0,Je.receiverProfileName=void 0,Je.loading=!1,Je.tokenBalances=[]}},Ke=Pr(dF),_w={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},wp={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},re=ft({chains:CB(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),hF={state:re,subscribe(t){return hn(re,()=>{t(re)})},subscribeKey(t,e){return fn(re,t,e)},subscribeChainProp(t,e,n){let r;return hn(re.chains,()=>{var i;const s=n||re.activeChain;if(s){const o=(i=re.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=J.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=W.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(re.noAdapters=!0),re.noAdapters||(re.activeChain=a==null?void 0:a.namespace,re.activeCaipNetwork=i,N.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),re.activeChain&&Ks.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);N.state.chains.set(u,{namespace:u,networkState:ft({...wp,caipNetwork:d==null?void 0:d[0]}),accountState:ft(_w),caipNetworks:d??[],...n}),N.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(re.activeChain===t){const r=Array.from(re.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&N.setActiveCaipNetwork(s)}}re.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){re.chains.set(t.namespace,{namespace:t.namespace,networkState:{...wp,caipNetwork:r[0]},accountState:_w,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),N.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=re.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),re.chains.set(t.chainNamespace,{...e,caipNetworks:r}),N.setRequestedCaipNetworks(r,t.chainNamespace),ee.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=re.chains.get(t);if(n){const o=((r=re.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&N.setActiveCaipNetwork(n.caipNetworks[0]),re.chains.set(t,{...n,caipNetworks:a}),N.setRequestedCaipNetworks(a||[],t),a.length===0&&ee.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=re.chains.get(t);n&&(n.networkState={...n.networkState||wp,...e},re.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=re.chains.get(t);if(r){const s={...r.accountState||_w,...e};re.chains.set(t,{...r,accountState:s}),(re.chains.size===1||re.activeChain===t)&&(e.caipAddress&&(re.activeCaipAddress=e.caipAddress),X.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=re.chains.get(t);if(n){const r={...n.networkState||wp,...e};re.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){N.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&ee.removeConnectorId(n)},setActiveNamespace(t){var r,s;re.activeChain=t;const e=t?re.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(re.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,re.activeCaipNetwork=n,N.setChainNetworkData(t,{caipNetwork:n}),J.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Ks.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;re.activeChain!==t.chainNamespace&&N.setIsSwitchingNamespace(!0);const e=re.chains.get(t.chainNamespace);re.activeChain=t.chainNamespace,re.activeCaipNetwork=t,N.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?re.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:re.activeCaipAddress=void 0,N.setAccountProp("caipAddress",re.activeCaipAddress,t.chainNamespace),e&&X.replaceState(e.accountState),Ke.resetSend(),Ks.set({activeChain:re.activeChain,selectedNetworkId:(i=re.activeCaipNetwork)==null?void 0:i.caipNetworkId}),J.setActiveCaipNetworkId(t.caipNetworkId),!N.checkIfSupportedNetwork(t.chainNamespace)&&W.state.enableNetworkSwitch&&!W.state.allowUnsupportedChain&&!ae.state.wcBasic&&N.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=re.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==N.state.activeChain,n=(s=N.getNetworkData(t))==null?void 0:s.caipNetwork,r=N.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await N.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=N.state.chains.get(N.state.activeChain),n=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=re.activeCaipNetwork)==null?void 0:o.id)})),r=N.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&Ze.close()}catch{be.goBack()}et.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||re.activeChain,n=re.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||re.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=re.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=re.activeChain;if(e&&(n=e),!n)return;const r=(s=re.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=re.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=re.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return fe.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return re.chains.forEach(e=>{const n=N.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){N.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=N.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));ee.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return re.chains.forEach(e=>{const n=N.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return re.activeCaipNetwork},getActiveCaipAddress(){return re.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=re.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=N.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());N.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||re.activeCaipNetwork,r=N.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!re.activeChain)return!0;const e=N.getRequestedCaipNetworks(re.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){N.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=Rh.caipNetworkIdToNumber((r=re.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=re.activeChain;if(!e||!t)return!1;const n=N.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){Ze.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=re.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Xe.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){N.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");re.activeCaipAddress=void 0,N.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ee.removeConnectorId(e)},setIsSwitchingNamespace(t){re.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(re.chains.forEach(s=>{z.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=re.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=N.state.chains.get(t))==null?void 0:e.accountState:X.state},getNetworkData(t){var n;const e=t||re.activeChain;if(e)return(n=N.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=N.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=ee.state.filterByNamespace;return(t?[re.chains.get(t)]:Array.from(re.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?N.getRequestedCaipNetworks(t):N.getAllRequestedCaipNetworks()}},N=Pr(hF),fF={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},RO=fe.getBlockchainApiUrl(),Hn=ft({clientId:null,api:new _f({baseUrl:RO,clientId:null}),supportedChains:{http:[],ws:[]}}),we={state:Hn,async get(t){const{st:e,sv:n}=we.getSdkProperties(),r=W.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return Hn.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=W.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Hn.supportedChains.http.length||await we.getSupportedNetworks()}catch{return!1}return Hn.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await we.get({path:"v1/supported-chains"});return Hn.supportedChains=t,t}catch{return Hn.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await we.isNetworkSupported(e))return{avatar:"",name:""};const r=J.getIdentityFromCacheForAddress(t);if(r)return r;const s=await we.get({path:`/v1/identity/${t}`,params:{sender:N.state.activeCaipAddress?fe.getPlainAddress(N.state.activeCaipAddress):void 0}});return J.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:i}){var a;return await we.isNetworkSupported((a=N.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?we.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:i},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await we.isNetworkSupported((o=N.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?we.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await we.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?we.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await we.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Hn.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:W.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await we.isNetworkSupported((r=N.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?we.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=we.getSdkProperties();if(!await we.isNetworkSupported((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return we.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await we.isNetworkSupported((o=N.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Hn.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Xe.CONVERT_SLIPPAGE_TOLERANCE},projectId:W.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=we.getSdkProperties();if(!await we.isNetworkSupported((o=N.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return we.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=we.getSdkProperties();if(!await we.isNetworkSupported((l=N.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return gs.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=J.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await we.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return J.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await we.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?we.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await we.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?we.get({path:`/v1/profile/reverse/${t}`,params:{sender:X.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await we.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?we.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await we.isNetworkSupported((i=N.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Hn.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await we.isNetworkSupported((a=N.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Hn.api.post({path:"/v1/generators/onrampurl",params:{projectId:W.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await we.isNetworkSupported((e=N.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await we.get({path:"/v1/onramp/options"})}catch{return fF}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await we.isNetworkSupported((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Hn.api.post({path:"/v1/onramp/quote",params:{projectId:W.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await we.isNetworkSupported((n=N.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?we.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await we.isNetworkSupported((s=N.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Hn.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:W.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Hn.clientId=t,Hn.api=new _f({baseUrl:RO,clientId:t})}},Sw={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return gu(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},TE={async getMyTokensWithBalance(t){const e=X.state.address,n=N.state.activeCaipNetwork,r=ee.getConnectorId("eip155")===z.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=J.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace==="eip155"&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await we.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=Sw.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await ae.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await ae.walletGetAssets({account:t,chainFilter:[s]});if(!Sw.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>Sw.createBalance(l,e.caipNetworkId));return J.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Rr=ft({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),pF={state:Rr,replaceState(t){t&&Object.assign(Rr,uc(t))},subscribe(t){return N.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return N.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){N.setAccountProp("status",t,e)},getCaipAddress(t){return N.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?fe.getPlainAddress(t):void 0;e===N.state.activeChain&&(N.state.activeCaipAddress=t),N.setAccountProp("caipAddress",t,e),N.setAccountProp("address",n,e)},setBalance(t,e,n){N.setAccountProp("balance",t,n),N.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){N.setAccountProp("profileName",t,e)},setProfileImage(t,e){N.setAccountProp("profileImage",t,e)},setUser(t,e){N.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){N.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){N.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){N.setAccountProp("currentTab",t,N.state.activeChain)},setTokenBalance(t,e){t&&N.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){N.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){N.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=N.getAccountProp("addressLabels",n)||new Map;r.set(t,e),N.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=N.getAccountProp("addressLabels",e)||new Map;n.delete(t),N.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){N.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){N.setAccountProp("preferredAccountTypes",{...Rr.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Rr.preferredAccountTypes=t},setSocialProvider(t,e){t&&N.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){N.setAccountProp("socialWindow",t?uc(t):void 0,e)},setFarcasterUrl(t,e){N.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;Rr.balanceLoading=!0;const e=(i=N.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=N.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=N.state.activeCaipAddress,s=r?fe.getPlainAddress(r):void 0;if(Rr.lastRetry&&!fe.isAllowedRetry(Rr.lastRetry,30*Xe.ONE_SEC_MS))return Rr.balanceLoading=!1,[];try{if(s&&e&&n){const a=await TE.getMyTokensWithBalance();return X.setTokenBalance(a,n),Rr.lastRetry=void 0,Rr.balanceLoading=!1,a}}catch(a){Rr.lastRetry=Date.now(),t==null||t(a),gs.showError("Token Balance Unavailable")}finally{Rr.balanceLoading=!1}return[]},resetAccount(t){N.resetAccount(t)}},X=Pr(pF),gF={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=N.state.activeCaipNetwork,r=be.state.data;if(t.id===(n==null?void 0:n.id))return;const i=X.getCaipAddress(N.state.activeChain),o=t.chainNamespace!==N.state.activeChain,a=X.getCaipAddress(t.chainNamespace),l=ee.getConnectorId(N.state.activeChain)===z.CONNECTOR_ID.AUTH,u=z.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?be.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?be.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):be.push("SwitchNetwork",{...r,network:t})}},Wn=ft({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),mF={state:Wn,subscribe(t){return hn(Wn,()=>t(Wn))},subscribeKey(t,e){return fn(Wn,t,e)},async open(t){var o,a;const e=X.state.status==="connected",n=t==null?void 0:t.namespace,r=N.state.activeChain,s=n&&n!==r,i=(o=N.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(ae.state.wcBasic?ge.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await ge.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),ee.setFilterByNamespace(t==null?void 0:t.namespace),Ze.setLoading(!0,n),n&&s){const c=((a=N.getNetworkData(n))==null?void 0:a.caipNetwork)||N.getRequestedCaipNetworks(n)[0];c&&gF.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=N.state.noAdapters;W.state.manualWCControl||c&&!i?fe.isMobile()?be.reset("AllWallets"):be.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?be.reset(t.view,t.data):i?be.reset("Account"):be.reset("Connect")}Wn.open=!0,Ks.set({open:!0}),et.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=W.state.enableEmbedded,e=!!N.state.activeCaipAddress;Wn.open&&et.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Wn.open=!1,be.reset("Connect"),Ze.clearLoading(),t?e?be.replace("Account"):be.push("Connect"):Ks.set({open:!1}),ae.resetUri()},setLoading(t,e){e&&Wn.loadingNamespaceMap.set(e,t),Wn.loading=t,Ks.set({loading:t})},clearLoading(){Wn.loadingNamespaceMap.clear(),Wn.loading=!1},shake(){Wn.shake||(Wn.shake=!0,setTimeout(()=>{Wn.shake=!1},500))}},Ze=Pr(mF),Pd={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},tb={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},yF={providers:NO,selectedProvider:null,error:null,purchaseCurrency:Pd,paymentCurrency:tb,purchaseCurrencies:[Pd],paymentCurrencies:[],quotesLoading:!1},Fe=ft(yF),wF={state:Fe,subscribe(t){return hn(Fe,()=>t(Fe))},subscribeKey(t,e){return fn(Fe,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=N.state.activeChain===z.CHAIN.SOLANA?"SOL":"USDC",n=X.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",UB),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",W.state.projectId),Fe.selectedProvider={...t,url:r.toString()}}else Fe.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=NO.filter(r=>e.includes(r.name));Fe.providers=n}else Fe.providers=[]},setPurchaseCurrency(t){Fe.purchaseCurrency=t},setPaymentCurrency(t){Fe.paymentCurrency=t},setPurchaseAmount(t){nb.state.purchaseAmount=t},setPaymentAmount(t){nb.state.paymentAmount=t},async getAvailableCurrencies(){const t=await we.getOnrampOptions();Fe.purchaseCurrencies=t.purchaseCurrencies,Fe.paymentCurrencies=t.paymentCurrencies,Fe.paymentCurrency=t.paymentCurrencies[0]||tb,Fe.purchaseCurrency=t.purchaseCurrencies[0]||Pd,await ge.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await ge.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Fe.quotesLoading=!0;try{const n=await we.getOnrampQuote({purchaseCurrency:Fe.purchaseCurrency,paymentCurrency:Fe.paymentCurrency,amount:((t=Fe.paymentAmount)==null?void 0:t.toString())||"0",network:(e=Fe.purchaseCurrency)==null?void 0:e.symbol});return Fe.quotesLoading=!1,Fe.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return Fe.error=n.message,Fe.quotesLoading=!1,null}finally{Fe.quotesLoading=!1}},resetState(){Fe.selectedProvider=null,Fe.error=null,Fe.purchaseCurrency=Pd,Fe.paymentCurrency=tb,Fe.purchaseCurrencies=[Pd],Fe.paymentCurrencies=[],Fe.paymentAmount=void 0,Fe.purchaseAmount=void 0,Fe.quotesLoading=!1}},nb=Pr(wF),BS=2147483648,vF={convertEVMChainIdToCoinType(t){if(t>=BS)throw new Error("Invalid chainId");return(BS|t)>>>0}},kr=ft({suggestions:[],loading:!1}),bF={state:kr,subscribe(t){return hn(kr,()=>t(kr))},subscribeKey(t,e){return fn(kr,t,e)},async resolveName(t){var e,n;try{return await we.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await we.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{kr.loading=!0,kr.suggestions=[];const e=await we.getEnsNameSuggestions(t);return kr.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],kr.suggestions}catch(e){const n=Od.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{kr.loading=!1}},async getNamesForAddress(t){try{if(!N.state.activeCaipNetwork)return[];const n=J.getEnsFromCacheForAddress(t);if(n)return n;const r=await we.reverseLookupEnsName({address:t});return J.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=Od.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=N.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=X.state.address,r=ee.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");kr.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});be.pushTransactionStack({onCancel(){be.replace("RegisterAccountName")}});const i=await ae.signMessage(s);kr.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=vF.convertEVMChainIdToCoinType(Number(o));await we.registerEnsName({coinType:a,address:n,signature:i,message:s}),X.setProfileName(t,e.chainNamespace),be.replace("RegisterAccountNameSuccess")}catch(s){const i=Od.parseEnsApiError(s,`Error registering name ${t}`);throw be.replace("RegisterAccountName"),new Error(i)}finally{kr.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},Od=Pr(bF);var PE={exports:{}},xl=typeof Reflect=="object"?Reflect:null,FS=xl&&typeof xl.apply=="function"?xl.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},ng;xl&&typeof xl.ownKeys=="function"?ng=xl.ownKeys:Object.getOwnPropertySymbols?ng=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ng=function(e){return Object.getOwnPropertyNames(e)};function EF(t){console&&console.warn&&console.warn(t)}var kO=Number.isNaN||function(e){return e!==e};function at(){at.init.call(this)}PE.exports=at;PE.exports.once=AF;at.EventEmitter=at;at.prototype._events=void 0;at.prototype._eventsCount=0;at.prototype._maxListeners=void 0;var jS=10;function ay(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(at,"defaultMaxListeners",{enumerable:!0,get:function(){return jS},set:function(t){if(typeof t!="number"||t<0||kO(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");jS=t}});at.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};at.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||kO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function $O(t){return t._maxListeners===void 0?at.defaultMaxListeners:t._maxListeners}at.prototype.getMaxListeners=function(){return $O(this)};at.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")FS(c,this,n);else for(var l=c.length,u=BO(c,l),r=0;r<l;++r)FS(u[r],this,n);return!0};function DO(t,e,n,r){var s,i,o;if(ay(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=$O(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,EF(a)}return t}at.prototype.addListener=function(e,n){return DO(this,e,n,!1)};at.prototype.on=at.prototype.addListener;at.prototype.prependListener=function(e,n){return DO(this,e,n,!0)};function CF(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function UO(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=CF.bind(r);return s.listener=n,r.wrapFn=s,s}at.prototype.once=function(e,n){return ay(n),this.on(e,UO(this,e,n)),this};at.prototype.prependOnceListener=function(e,n){return ay(n),this.prependListener(e,UO(this,e,n)),this};at.prototype.removeListener=function(e,n){var r,s,i,o,a;if(ay(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():_F(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};at.prototype.off=at.prototype.removeListener;at.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function LO(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?SF(s):BO(s,s.length)}at.prototype.listeners=function(e){return LO(this,e,!0)};at.prototype.rawListeners=function(e){return LO(this,e,!1)};at.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):MO.call(t,e)};at.prototype.listenerCount=MO;function MO(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}at.prototype.eventNames=function(){return this._eventsCount>0?ng(this._events):[]};function BO(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function _F(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function SF(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function AF(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}FO(t,e,i,{once:!0}),e!=="error"&&IF(t,s,{once:!0})})}function IF(t,e,n){typeof t.on=="function"&&FO(t,"error",e,n)}function FO(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Qr=PE.exports;const OE=xm(Qr);var Z={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rb=function(t,e){return rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},rb(t,e)};function xF(t,e){rb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var sb=function(){return sb=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sb.apply(this,arguments)};function NF(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function TF(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function PF(t,e){return function(n,r){e(n,r,t)}}function OF(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function RF(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function kF(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function $F(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function DF(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ib(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jO(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function UF(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jO(arguments[e]));return t}function LF(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function $h(t){return this instanceof $h?(this.v=t,this):new $h(t)}function MF(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof $h?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function BF(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:$h(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function FF(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ib=="function"?ib(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function jF(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function zF(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function HF(t){return t&&t.__esModule?t:{default:t}}function WF(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function qF(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const VF=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return sb},__asyncDelegator:BF,__asyncGenerator:MF,__asyncValues:FF,__await:$h,__awaiter:RF,__classPrivateFieldGet:WF,__classPrivateFieldSet:qF,__createBinding:$F,__decorate:TF,__exportStar:DF,__extends:xF,__generator:kF,__importDefault:HF,__importStar:zF,__makeTemplateObject:jF,__metadata:OF,__param:PF,__read:jO,__rest:NF,__spread:UF,__spreadArrays:LF,__values:ib},Symbol.toStringTag,{value:"Module"})),cy=m2(VF);var Aw={},ju={},zS;function GF(){if(zS)return ju;zS=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return ju.delay=t,ju}var ya={},Iw={},wa={},HS;function KF(){return HS||(HS=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.ONE_THOUSAND=wa.ONE_HUNDRED=void 0,wa.ONE_HUNDRED=100,wa.ONE_THOUSAND=1e3),wa}var xw={},WS;function YF(){return WS||(WS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(xw)),xw}var qS;function zO(){return qS||(qS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=cy;e.__exportStar(KF(),t),e.__exportStar(YF(),t)}(Iw)),Iw}var VS;function ZF(){if(VS)return ya;VS=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.fromMiliseconds=ya.toMiliseconds=void 0;const t=zO();function e(r){return r*t.ONE_THOUSAND}ya.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return ya.fromMiliseconds=n,ya}var GS;function QF(){return GS||(GS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=cy;e.__exportStar(GF(),t),e.__exportStar(ZF(),t)}(Aw)),Aw}var Uc={},KS;function JF(){if(KS)return Uc;KS=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Uc.Watch=t,Uc.default=t,Uc}var Nw={},zu={},YS;function XF(){if(YS)return zu;YS=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.IWatch=void 0;class t{}return zu.IWatch=t,zu}var ZS;function ej(){return ZS||(ZS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),cy.__exportStar(XF(),t)}(Nw)),Nw}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=cy;e.__exportStar(QF(),t),e.__exportStar(JF(),t),e.__exportStar(ej(),t),e.__exportStar(zO(),t)})(Z);class Ic{}let tj=class extends Ic{constructor(e){super()}};const QS=Z.FIVE_SECONDS,xc={pulse:"heartbeat_pulse"};let nj=class HO extends tj{constructor(e){super(e),this.events=new Qr.EventEmitter,this.interval=QS,this.interval=(e==null?void 0:e.interval)||QS}static async init(e){const n=new HO(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Z.toMiliseconds(this.interval))}pulse(){this.events.emit(xc.pulse)}};const rj=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,sj=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ij=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function oj(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){aj(t);return}return e}function aj(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function vp(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ij.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(rj.test(t)||sj.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,oj)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function cj(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Gt(t,...e){try{return cj(t(...e))}catch(n){return Promise.reject(n)}}function lj(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function uj(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function rg(t){if(lj(t))return String(t);if(uj(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return rg(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const ob="base64:";function dj(t){return typeof t=="string"?t:ob+pj(t)}function hj(t){return typeof t!="string"||!t.startsWith(ob)?t:fj(t.slice(ob.length))}function fj(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function pj(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Yn(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function gj(...t){return Yn(t.join(":"))}function bp(t){return t=Yn(t),t?t+":":""}function mj(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function yj(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const wj="memory",vj=()=>{const t=new Map;return{name:wj,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function bj(t={}){const e={mounts:{"":t.driver||vj()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=Yn(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await JS(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let g=h.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},h.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",v=Yn(g?p:p.key),m=g?void 0:p.value,y=g||!p.options?u:{...u,...p.options},w=n(v);f(w).items.push({key:v,value:m,relativeKey:w.relativeKey,options:y})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=Yn(l);const{relativeKey:d,driver:h}=n(l);return Gt(h.hasItem,d,u)},getItem(l,u={}){l=Yn(l);const{relativeKey:d,driver:h}=n(l);return Gt(h.getItem,d,u).then(f=>vp(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?Gt(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:gj(d.base,f.key),value:vp(f.value)}))):Promise.all(d.items.map(h=>Gt(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:vp(f)})))))},getItemRaw(l,u={}){l=Yn(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?Gt(h.getItemRaw,d,u):Gt(h.getItem,d,u).then(f=>hj(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Yn(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await Gt(f.setItem,h,rg(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return Gt(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:rg(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>Gt(d.driver.setItem,h.relativeKey,rg(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Yn(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await Gt(f.setItemRaw,h,u,d);else if(f.setItem)await Gt(f.setItem,h,dj(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Yn(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await Gt(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Gt(h.removeItem,d+"$",u),h.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Yn(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await Gt(h.getMeta,d,u)),!u.nativeOnly){const p=await Gt(h.getItem,d+"$",u).then(g=>vp(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var v;l=bp(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const m of d){(v=m.driver.flags)!=null&&v.maxDepth||(p=!1);const y=await Gt(m.driver.getKeys,m.relativeBase,u);for(const w of y){const b=m.mountpoint+Yn(w);h.some(E=>b.startsWith(E))||f.push(b)}h=[m.mountpoint,...h.filter(w=>!w.startsWith(m.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return f.filter(m=>(!g||mj(m,u.maxDepth))&&yj(m,l))},async clear(l,u={}){l=bp(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return Gt(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>XS(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=bp(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(JS(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=bp(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await XS(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Yn(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Yn(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function JS(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function XS(t){typeof t.dispose=="function"&&await Gt(t.dispose)}function Nc(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function WO(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=Nc(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let Tw;function Sf(){return Tw||(Tw=WO("keyval-store","keyval")),Tw}function eA(t,e=Sf()){return e("readonly",n=>Nc(n.get(t)))}function Ej(t,e,n=Sf()){return n("readwrite",r=>(r.put(e,t),Nc(r.transaction)))}function Cj(t,e=Sf()){return e("readwrite",n=>(n.delete(t),Nc(n.transaction)))}function _j(t=Sf()){return t("readwrite",e=>(e.clear(),Nc(e.transaction)))}function Sj(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Nc(t.transaction)}function Aj(t=Sf()){return t("readonly",e=>{if(e.getAllKeys)return Nc(e.getAllKeys());const n=[];return Sj(e,r=>n.push(r.key)).then(()=>n)})}const Ij=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),xj=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function hc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return xj(t)}catch{return t}}function Fi(t){return typeof t=="string"?t:Ij(t)||""}const Nj="idb-keyval";var Tj=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=WO(t.dbName,t.storeName)),{name:Nj,options:t,async hasItem(s){return!(typeof await eA(n(s),r)>"u")},async getItem(s){return await eA(n(s),r)??null},setItem(s,i){return Ej(n(s),i,r)},removeItem(s){return Cj(n(s),r)},getKeys(){return Aj(r)},clear(){return _j(r)}}};const Pj="WALLET_CONNECT_V2_INDEXED_DB",Oj="keyvaluestorage";let Rj=class{constructor(){this.indexedDb=bj({driver:Tj({dbName:Pj,storeName:Oj})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Fi(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sg={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Pw<"u"&&Pw.localStorage?sg.exports=Pw.localStorage:typeof window<"u"&&window.localStorage?sg.exports=window.localStorage:sg.exports=new e})();function kj(t){var e;return[t[0],hc((e=t[1])!=null?e:"")]}let $j=class{constructor(){this.localStorage=sg.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(kj)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return hc(n)}async setItem(e,n){this.localStorage.setItem(e,Fi(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Dj="wc_storage_version",tA=1,Uj=async(t,e,n)=>{const r=Dj,s=await e.getItem(r);if(s&&s>=tA){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,tA),n(e),Lj(t,o)},Lj=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Mj=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new $j;this.storage=e;try{const n=new Rj;Uj(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function Bj(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Fj=jj;function jj(t,e,n){var r=n&&n.stringify||Bj,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=r(t);for(var a=1;a<i;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const nA=Fj;var tl=Ys;const Dh=Qj().console||{},zj={mapHttpRequest:Ep,mapHttpResponse:Ep,wrapRequestSerializer:Ow,wrapResponseSerializer:Ow,wrapErrorSerializer:Ow,req:Ep,res:Ep,err:Gj};function Hj(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Ys(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||Dh;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=Hj(t.browser.serialize,r);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=Uh),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:Kj(t)};c.levels=Ys.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Uh,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=f,e&&(c._logEvent=ab());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Lc(l,c,"error","log"),Lc(l,c,"fatal","error"),Lc(l,c,"warn","error"),Lc(l,c,"info","log"),Lc(l,c,"debug","log"),Lc(l,c,"trace","log")}function f(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const v=g.serializers;if(s&&v){var m=Object.assign({},r,v),y=t.browser.serialize===!0?Object.keys(m):s;delete p.serializers,ly([p],y,m,this._stdErrSerialize)}function w(b){this._childLevel=(b._childLevel|0)+1,this.error=Mc(b,p,"error"),this.fatal=Mc(b,p,"fatal"),this.warn=Mc(b,p,"warn"),this.info=Mc(b,p,"info"),this.debug=Mc(b,p,"debug"),this.trace=Mc(b,p,"trace"),m&&(this.serializers=m,this._serialize=y),e&&(this._logEvent=ab([].concat(b._logEvent.bindings,p)))}return w.prototype=this,new w(this)}return c}Ys.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ys.stdSerializers=zj;Ys.stdTimeFunctions=Object.assign({},{nullTime:qO,epochTime:VO,unixTime:Yj,isoTime:Zj});function Lc(t,e,n,r){const s=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?Uh:s[n]?s[n]:Dh[n]||Dh[r]||Uh,Wj(t,e,n)}function Wj(t,e,n){!t.transmit&&e[n]===Uh||(e[n]=function(r){return function(){const i=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Dh?Dh:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&ly(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,qj(this,n,o,i)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Ys.levels.values[l],d=Ys.levels.values[n];if(d<u)return;Vj(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:Ys.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function qj(t,e,n,r){t._serialize&&ly(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=Ys.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?nA(s.shift(),s):void 0}else typeof i=="string"&&(i=nA(s.shift(),s));return i!==void 0&&(o.msg=i),o}function ly(t,e,n,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=Ys.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in n&&(t[s][i]=n[i](t[s][i]))}function Mc(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[n].apply(this,r)}}function Vj(t,e,n){const r=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;ly(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,r(i,t._logEvent,a),t._logEvent=ab(c)}function ab(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Gj(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Kj(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?qO:VO}function Ep(){return{}}function Ow(t){return t}function Uh(){}function qO(){return!1}function VO(){return Date.now()}function Yj(){return Math.round(Date.now()/1e3)}function Zj(){return new Date(Date.now()).toISOString()}function Qj(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Af=xm(tl),Jj={level:"info"},If="custom_context",RE=1e3*1024;let Xj=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},rA=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Xj(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},GO=class{constructor(e,n=RE){this.level=e??"error",this.levelValue=tl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new rA(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===tl.levels.values.error?console.error(e):n===tl.levels.values.warn?console.warn(e):n===tl.levels.values.debug?console.debug(e):n===tl.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Fi({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new rA(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Fi({extraMetadata:e})),new Blob(n,{type:"application/json"})}},e9=class{constructor(e,n=RE){this.baseChunkLogger=new GO(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},t9=class{constructor(e,n=RE){this.baseChunkLogger=new GO(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var n9=Object.defineProperty,r9=Object.defineProperties,s9=Object.getOwnPropertyDescriptors,sA=Object.getOwnPropertySymbols,i9=Object.prototype.hasOwnProperty,o9=Object.prototype.propertyIsEnumerable,iA=(t,e,n)=>e in t?n9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,em=(t,e)=>{for(var n in e||(e={}))i9.call(e,n)&&iA(t,n,e[n]);if(sA)for(var n of sA(e))o9.call(e,n)&&iA(t,n,e[n]);return t},tm=(t,e)=>r9(t,s9(e));function yu(t){return tm(em({},t),{level:(t==null?void 0:t.level)||Jj.level})}function a9(t,e=If){return t[e]||""}function c9(t,e,n=If){return t[n]=e,t}function fr(t,e=If){let n="";return typeof t.bindings>"u"?n=a9(t,e):n=t.bindings().context||"",n}function l9(t,e,n=If){const r=fr(t,n);return r.trim()?`${r}/${e}`:e}function Pn(t,e,n=If){const r=l9(t,e,n),s=t.child({context:r});return c9(s,r,n)}function u9(t){var e,n;const r=new e9((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Af(tm(em({},t.opts),{level:"trace",browser:tm(em({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function d9(t){var e;const n=new t9((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Af(tm(em({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function kE(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?u9(t):d9(t)}var h9=Object.defineProperty,f9=(t,e,n)=>e in t?h9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oA=(t,e,n)=>f9(t,typeof e!="symbol"?e+"":e,n);let p9=class extends Ic{constructor(e){super(),this.opts=e,oA(this,"protocol","wc"),oA(this,"version",2)}};var g9=Object.defineProperty,m9=(t,e,n)=>e in t?g9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y9=(t,e,n)=>m9(t,e+"",n);let w9=class extends Ic{constructor(e,n){super(),this.core=e,this.logger=n,y9(this,"records",new Map)}},v9=class{constructor(e,n){this.logger=e,this.core=n}},b9=class extends Ic{constructor(e,n){super(),this.relayer=e,this.logger=n}},E9=class extends Ic{constructor(e){super()}},C9=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},_9=class extends Ic{constructor(e,n){super(),this.relayer=e,this.logger=n}},S9=class extends Ic{constructor(e,n){super(),this.core=e,this.logger=n}},A9=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},I9=class{constructor(e,n){this.projectId=e,this.logger=n}},x9=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var N9=Object.defineProperty,T9=(t,e,n)=>e in t?N9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aA=(t,e,n)=>T9(t,typeof e!="symbol"?e+"":e,n);let P9=class{constructor(e){this.opts=e,aA(this,"protocol","wc"),aA(this,"version",2)}},O9=class{constructor(e){this.client=e}};function R9(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function KO(t,...e){if(!R9(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function cA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function k9(t,e){KO(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Bc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rw=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function $9(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function YO(t){return typeof t=="string"&&(t=$9(t)),KO(t),t}let D9=class{clone(){return this._cloneInto()}};function U9(t){const e=r=>t().update(YO(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ZO(t=32){if(Bc&&typeof Bc.getRandomValues=="function")return Bc.getRandomValues(new Uint8Array(t));if(Bc&&typeof Bc.randomBytes=="function")return Bc.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function L9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let M9=class extends D9{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rw(this.buffer)}update(e){cA(this);const{view:n,buffer:r,blockLen:s}=this;e=YO(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Rw(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cA(this),k9(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;L9(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Rw(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const Cp=BigInt(2**32-1),cb=BigInt(32);function QO(t,e=!1){return e?{h:Number(t&Cp),l:Number(t>>cb&Cp)}:{h:Number(t>>cb&Cp)|0,l:Number(t&Cp)|0}}function B9(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=QO(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const F9=(t,e)=>BigInt(t>>>0)<<cb|BigInt(e>>>0),j9=(t,e,n)=>t>>>n,z9=(t,e,n)=>t<<32-n|e>>>n,H9=(t,e,n)=>t>>>n|e<<32-n,W9=(t,e,n)=>t<<32-n|e>>>n,q9=(t,e,n)=>t<<64-n|e>>>n-32,V9=(t,e,n)=>t>>>n-32|e<<64-n,G9=(t,e)=>e,K9=(t,e)=>t,Y9=(t,e,n)=>t<<n|e>>>32-n,Z9=(t,e,n)=>e<<n|t>>>32-n,Q9=(t,e,n)=>e<<n-32|t>>>64-n,J9=(t,e,n)=>t<<n-32|e>>>64-n;function X9(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const e7=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),t7=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,n7=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),r7=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,s7=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),i7=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Te={fromBig:QO,split:B9,toBig:F9,shrSH:j9,shrSL:z9,rotrSH:H9,rotrSL:W9,rotrBH:q9,rotrBL:V9,rotr32H:G9,rotr32L:K9,rotlSH:Y9,rotlSL:Z9,rotlBH:Q9,rotlBL:J9,add:X9,add3L:e7,add3H:t7,add4L:n7,add4H:r7,add5H:i7,add5L:s7},[o7,a7]=Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Xi=new Uint32Array(80),eo=new Uint32Array(80);let c7=class extends M9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:v}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,v]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=v|0}process(e,n){for(let w=0;w<16;w++,n+=4)Xi[w]=e.getUint32(n),eo[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const b=Xi[w-15]|0,E=eo[w-15]|0,S=Te.rotrSH(b,E,1)^Te.rotrSH(b,E,8)^Te.shrSH(b,E,7),_=Te.rotrSL(b,E,1)^Te.rotrSL(b,E,8)^Te.shrSL(b,E,7),T=Xi[w-2]|0,x=eo[w-2]|0,k=Te.rotrSH(T,x,19)^Te.rotrBH(T,x,61)^Te.shrSH(T,x,6),$=Te.rotrSL(T,x,19)^Te.rotrBL(T,x,61)^Te.shrSL(T,x,6),M=Te.add4L(_,$,eo[w-7],eo[w-16]),F=Te.add4H(M,S,k,Xi[w-7],Xi[w-16]);Xi[w]=F|0,eo[w]=M|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:v,Hh:m,Hl:y}=this;for(let w=0;w<80;w++){const b=Te.rotrSH(d,h,14)^Te.rotrSH(d,h,18)^Te.rotrBH(d,h,41),E=Te.rotrSL(d,h,14)^Te.rotrSL(d,h,18)^Te.rotrBL(d,h,41),S=d&f^~d&g,_=h&p^~h&v,T=Te.add5L(y,E,_,a7[w],eo[w]),x=Te.add5H(T,m,b,S,o7[w],Xi[w]),k=T|0,$=Te.rotrSH(r,s,28)^Te.rotrBH(r,s,34)^Te.rotrBH(r,s,39),M=Te.rotrSL(r,s,28)^Te.rotrBL(r,s,34)^Te.rotrBL(r,s,39),F=r&i^r&a^i&a,q=s&o^s&c^o&c;m=g|0,y=v|0,g=f|0,v=p|0,f=d|0,p=h|0,{h:d,l:h}=Te.add(l|0,u|0,x|0,k|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const A=Te.add3L(k,M,q);r=Te.add3H(A,x,$,F),s=A|0}({h:r,l:s}=Te.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Te.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Te.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Te.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Te.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Te.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:v}=Te.add(this.Gh|0,this.Gl|0,g|0,v|0),{h:m,l:y}=Te.add(this.Hh|0,this.Hl|0,m|0,y|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,v,m,y)}roundClean(){Xi.fill(0),eo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const l7=U9(()=>new c7);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $E=BigInt(0),JO=BigInt(1),u7=BigInt(2);function DE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function UE(t){if(!DE(t))throw new Error("Uint8Array expected")}function kw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const d7=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function LE(t){UE(t);let e="";for(let n=0;n<t.length;n++)e+=d7[t[n]];return e}function XO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?$E:BigInt("0x"+t)}const di={_0:48,_9:57,A:65,F:70,a:97,f:102};function lA(t){if(t>=di._0&&t<=di._9)return t-di._0;if(t>=di.A&&t<=di.F)return t-(di.A-10);if(t>=di.a&&t<=di.f)return t-(di.a-10)}function eR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=lA(t.charCodeAt(i)),a=lA(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function h7(t){return XO(LE(t))}function ig(t){return UE(t),XO(LE(Uint8Array.from(t).reverse()))}function tR(t,e){return eR(t.toString(16).padStart(e*2,"0"))}function lb(t,e){return tR(t,e).reverse()}function hi(t,e,n){let r;if(typeof e=="string")try{r=eR(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(DE(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function uA(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];UE(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const $w=t=>typeof t=="bigint"&&$E<=t;function f7(t,e,n){return $w(t)&&$w(e)&&$w(n)&&e<=t&&t<n}function Hu(t,e,n,r){if(!f7(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function p7(t){let e;for(e=0;t>$E;t>>=JO,e+=1);return e}const g7=t=>(u7<<BigInt(t-1))-JO,m7={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||DE(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function ME(t,e,n={}){const r=(s,i,o)=>{const a=m7[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function dA(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Jt=BigInt(0),Ot=BigInt(1),Ia=BigInt(2),y7=BigInt(3),ub=BigInt(4),hA=BigInt(5),fA=BigInt(8);function zt(t,e){const n=t%e;return n>=Jt?n:e+n}function w7(t,e,n){if(e<Jt)throw new Error("invalid exponent, negatives unsupported");if(n<=Jt)throw new Error("invalid modulus");if(n===Ot)return Jt;let r=Ot;for(;e>Jt;)e&Ot&&(r=r*t%n),t=t*t%n,e>>=Ot;return r}function Ts(t,e,n){let r=t;for(;e-- >Jt;)r*=r,r%=n;return r}function pA(t,e){if(t===Jt)throw new Error("invert: expected non-zero number");if(e<=Jt)throw new Error("invert: expected positive modulus, got "+e);let n=zt(t,e),r=e,s=Jt,i=Ot;for(;n!==Jt;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Ot)throw new Error("invert: does not exist");return zt(s,e)}function v7(t){const e=(t-Ot)/Ia;let n,r,s;for(n=t-Ot,r=0;n%Ia===Jt;n/=Ia,r++);for(s=Ia;s<t&&w7(s,e,t)!==t-Ot;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Ot)/ub;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+Ot)/Ia;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,Ot<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function b7(t){if(t%ub===y7){const e=(t+Ot)/ub;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%fA===hA){const e=(t-hA)/fA;return function(n,r){const s=n.mul(r,Ia),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,Ia),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return v7(t)}const E7=(t,e)=>(zt(t,e)&Ot)===Ot,C7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _7(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=C7.reduce((r,s)=>(r[s]="function",r),e);return ME(t,n)}function S7(t,e,n){if(n<Jt)throw new Error("invalid exponent, negatives unsupported");if(n===Jt)return t.ONE;if(n===Ot)return e;let r=t.ONE,s=e;for(;n>Jt;)n&Ot&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Ot;return r}function A7(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function nR(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function rR(t,e,n=!1,r={}){if(t<=Jt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=nR(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:g7(s),ZERO:Jt,ONE:Ot,create:c=>zt(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Jt<=c&&c<t},is0:c=>c===Jt,isOdd:c=>(c&Ot)===Ot,neg:c=>zt(-c,t),eql:(c,l)=>c===l,sqr:c=>zt(c*c,t),add:(c,l)=>zt(c+l,t),sub:(c,l)=>zt(c-l,t),mul:(c,l)=>zt(c*l,t),pow:(c,l)=>S7(a,c,l),div:(c,l)=>zt(c*pA(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>pA(c,t),sqrt:r.sqrt||(c=>(o||(o=b7(t)),o(a,c))),invertBatch:c=>A7(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?lb(c,i):tR(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?ig(c):h7(c)}});return Object.freeze(a)}const gA=BigInt(0),_p=BigInt(1);function Dw(t,e){const n=e.negate();return t?n:e}function sR(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Uw(t,e){sR(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function I7(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function x7(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Lw=new WeakMap,iR=new WeakMap;function Mw(t){return iR.get(t)||1}function N7(t,e){return{constTimeNegate:Dw,hasPrecomputes(n){return Mw(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>gA;)r&_p&&(s=s.add(i)),i=i.double(),r>>=_p;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Uw(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=Uw(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<i;h++){const f=h*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=_p);const g=f,v=f+Math.abs(p)-1,m=h%2!==0,y=p<0;p===0?c=c.add(Dw(m,r[g])):a=a.add(Dw(y,r[v]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=Uw(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(s===gA)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=_p),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=Lw.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Lw.set(r,s(i))),i},wNAFCached(n,r,s){const i=Mw(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Mw(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){sR(r,e),iR.set(n,r),Lw.delete(n)}}}function T7(t,e,n,r){if(I7(n,t),x7(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=p7(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function P7(t){return _7(t.Fp),ME(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nR(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ts=BigInt(0),qn=BigInt(1),Sp=BigInt(2),O7=BigInt(8),R7={zip215:!0};function k7(t){const e=P7(t);return ME(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function $7(t){const e=k7(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=Sp<<BigInt(a*8)-qn,u=n.create,d=rR(e.n,e.nBitLength),h=e.uvRatio||((A,I)=>{try{return{isValid:!0,value:n.sqrt(A*n.inv(I))}}catch{return{isValid:!1,value:ts}}}),f=e.adjustScalarBytes||(A=>A),p=e.domain||((A,I,L)=>{if(kw("phflag",L),I.length||L)throw new Error("Contexts/pre-hash are not supported");return A});function g(A,I){Hu("coordinate "+A,I,ts,l)}function v(A){if(!(A instanceof w))throw new Error("ExtendedPoint expected")}const m=dA((A,I)=>{const{ex:L,ey:R,ez:O}=A,D=A.is0();I==null&&(I=D?O7:n.inv(O));const j=u(L*I),V=u(R*I),le=u(O*I);if(D)return{x:ts,y:qn};if(le!==qn)throw new Error("invZ was invalid");return{x:j,y:V}}),y=dA(A=>{const{a:I,d:L}=e;if(A.is0())throw new Error("bad point: ZERO");const{ex:R,ey:O,ez:D,et:j}=A,V=u(R*R),le=u(O*O),te=u(D*D),pe=u(te*te),ve=u(V*I),Oe=u(te*u(ve+le)),rt=u(pe+u(L*u(V*le)));if(Oe!==rt)throw new Error("bad point: equation left != right (1)");const $e=u(R*O),Ut=u(D*j);if($e!==Ut)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(I,L,R,O){this.ex=I,this.ey=L,this.ez=R,this.et=O,g("x",I),g("y",L),g("z",R),g("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof w)throw new Error("extended point not allowed");const{x:L,y:R}=I||{};return g("x",L),g("y",R),new w(L,R,qn,u(L*R))}static normalizeZ(I){const L=n.invertBatch(I.map(R=>R.ez));return I.map((R,O)=>R.toAffine(L[O])).map(w.fromAffine)}static msm(I,L){return T7(w,d,I,L)}_setWindowSize(I){S.setWindowSize(this,I)}assertValidity(){y(this)}equals(I){v(I);const{ex:L,ey:R,ez:O}=this,{ex:D,ey:j,ez:V}=I,le=u(L*V),te=u(D*O),pe=u(R*V),ve=u(j*O);return le===te&&pe===ve}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:I}=e,{ex:L,ey:R,ez:O}=this,D=u(L*L),j=u(R*R),V=u(Sp*u(O*O)),le=u(I*D),te=L+R,pe=u(u(te*te)-D-j),ve=le+j,Oe=ve-V,rt=le-j,$e=u(pe*Oe),Ut=u(ve*rt),On=u(pe*rt),pr=u(Oe*ve);return new w($e,Ut,pr,On)}add(I){v(I);const{a:L,d:R}=e,{ex:O,ey:D,ez:j,et:V}=this,{ex:le,ey:te,ez:pe,et:ve}=I;if(L===BigInt(-1)){const AC=u((D-O)*(te+le)),IC=u((D+O)*(te-le)),Ty=u(IC-AC);if(Ty===ts)return this.double();const xC=u(j*Sp*ve),NC=u(V*Sp*pe),TC=NC+xC,PC=IC+AC,OC=NC-xC,_$=u(TC*Ty),S$=u(PC*OC),A$=u(TC*OC),I$=u(Ty*PC);return new w(_$,S$,I$,A$)}const Oe=u(O*le),rt=u(D*te),$e=u(V*R*ve),Ut=u(j*pe),On=u((O+D)*(le+te)-Oe-rt),pr=Ut-$e,Or=Ut+$e,jn=u(rt-L*Oe),oi=u(On*pr),Wf=u(Or*jn),E$=u(On*jn),C$=u(pr*Or);return new w(oi,Wf,C$,E$)}subtract(I){return this.add(I.negate())}wNAF(I){return S.wNAFCached(this,I,w.normalizeZ)}multiply(I){const L=I;Hu("scalar",L,qn,r);const{p:R,f:O}=this.wNAF(L);return w.normalizeZ([R,O])[0]}multiplyUnsafe(I,L=w.ZERO){const R=I;return Hu("scalar",R,ts,r),R===ts?E:this.is0()||R===qn?this:S.wNAFCachedUnsafe(this,R,w.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,r).is0()}toAffine(I){return m(this,I)}clearCofactor(){const{h:I}=e;return I===qn?this:this.multiplyUnsafe(I)}static fromHex(I,L=!1){const{d:R,a:O}=e,D=n.BYTES;I=hi("pointHex",I,D),kw("zip215",L);const j=I.slice(),V=I[D-1];j[D-1]=V&-129;const le=ig(j),te=L?l:n.ORDER;Hu("pointHex.y",le,ts,te);const pe=u(le*le),ve=u(pe-qn),Oe=u(R*pe-O);let{isValid:rt,value:$e}=h(ve,Oe);if(!rt)throw new Error("Point.fromHex: invalid y coordinate");const Ut=($e&qn)===qn,On=(V&128)!==0;if(!L&&$e===ts&&On)throw new Error("Point.fromHex: x=0 and x_0=1");return On!==Ut&&($e=u(-$e)),w.fromAffine({x:$e,y:le})}static fromPrivateKey(I){return x(I).point}toRawBytes(){const{x:I,y:L}=this.toAffine(),R=lb(L,n.BYTES);return R[R.length-1]|=I&qn?128:0,R}toHex(){return LE(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,qn,u(e.Gx*e.Gy)),w.ZERO=new w(ts,qn,qn,ts);const{BASE:b,ZERO:E}=w,S=N7(w,a*8);function _(A){return zt(A,r)}function T(A){return _(ig(A))}function x(A){const I=n.BYTES;A=hi("private key",A,I);const L=hi("hashed private key",i(A),2*I),R=f(L.slice(0,I)),O=L.slice(I,2*I),D=T(R),j=b.multiply(D),V=j.toRawBytes();return{head:R,prefix:O,scalar:D,point:j,pointBytes:V}}function k(A){return x(A).pointBytes}function $(A=new Uint8Array,...I){const L=uA(...I);return T(i(p(L,hi("context",A),!!s)))}function M(A,I,L={}){A=hi("message",A),s&&(A=s(A));const{prefix:R,scalar:O,pointBytes:D}=x(I),j=$(L.context,R,A),V=b.multiply(j).toRawBytes(),le=$(L.context,V,D,A),te=_(j+le*O);Hu("signature.s",te,ts,r);const pe=uA(V,lb(te,n.BYTES));return hi("result",pe,n.BYTES*2)}const F=R7;function q(A,I,L,R=F){const{context:O,zip215:D}=R,j=n.BYTES;A=hi("signature",A,2*j),I=hi("message",I),L=hi("publicKey",L,j),D!==void 0&&kw("zip215",D),s&&(I=s(I));const V=ig(A.slice(j,2*j));let le,te,pe;try{le=w.fromHex(L,D),te=w.fromHex(A.slice(0,j),D),pe=b.multiplyUnsafe(V)}catch{return!1}if(!D&&le.isSmallOrder())return!1;const ve=$(O,te.toRawBytes(),le.toRawBytes(),I);return te.add(le.multiplyUnsafe(ve)).subtract(pe).clearCofactor().equals(w.ZERO)}return b._setWindowSize(8),{CURVE:e,getPublicKey:k,sign:M,verify:q,ExtendedPoint:w,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>o(n.BYTES),precompute(A=8,I=w.BASE){return I._setWindowSize(A),I.multiply(BigInt(3)),I}}}}BigInt(0),BigInt(1);const BE=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),mA=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const D7=BigInt(1),yA=BigInt(2);BigInt(3);const U7=BigInt(5),L7=BigInt(8);function M7(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=BE,o=t*t%i*t%i,a=Ts(o,yA,i)*o%i,c=Ts(a,D7,i)*t%i,l=Ts(c,U7,i)*c%i,u=Ts(l,e,i)*l%i,d=Ts(u,n,i)*u%i,h=Ts(d,r,i)*d%i,f=Ts(h,s,i)*h%i,p=Ts(f,s,i)*h%i,g=Ts(p,e,i)*l%i;return{pow_p_5_8:Ts(g,yA,i)*t%i,b2:o}}function B7(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function F7(t,e){const n=BE,r=zt(e*e*e,n),s=zt(r*r*e,n),i=M7(t*s).pow_p_5_8;let o=zt(t*r*i,n);const a=zt(e*o*o,n),c=o,l=zt(o*mA,n),u=a===t,d=a===zt(-t,n),h=a===zt(-t*mA,n);return u&&(o=c),(d||h)&&(o=l),E7(o,n)&&(o=zt(-o,n)),{isValid:u||d,value:o}}const j7=rR(BE,void 0,!0),z7={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:j7,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:L7,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:l7,randomBytes:ZO,adjustScalarBytes:B7,uvRatio:F7},oR=$7(z7),H7="EdDSA",W7="JWT",nm=".",uy="base64url",aR="utf8",cR="utf8",q7=":",V7="did",G7="key",wA="base58btc",K7="z",Y7="K36",Z7=32;function FE(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function lR(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?FE(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function uR(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=lR(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return FE(n)}function Q7(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,v=0,m=0,y=p.length;m!==y&&p[m]===0;)m++,g++;for(var w=(y-m)*u+1>>>0,b=new Uint8Array(w);m!==y;){for(var E=p[m],S=0,_=w-1;(E!==0||S<v)&&_!==-1;_--,S++)E+=256*b[_]>>>0,b[_]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");v=S,m++}for(var T=w-v;T!==w&&b[T]===0;)T++;for(var x=c.repeat(g);T<w;++T)x+=t.charAt(b[T]);return x}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var v=0,m=0;p[g]===c;)v++,g++;for(var y=(p.length-g)*l+1>>>0,w=new Uint8Array(y);p[g];){var b=n[p.charCodeAt(g)];if(b===255)return;for(var E=0,S=y-1;(b!==0||E<m)&&S!==-1;S--,E++)b+=a*w[S]>>>0,w[S]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");m=E,g++}if(p[g]!==" "){for(var _=y-m;_!==y&&w[_]===0;)_++;for(var T=new Uint8Array(v+(y-_)),x=v;_!==y;)T[x++]=w[_++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var J7=Q7,X7=J7;const dR=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ez=t=>new TextEncoder().encode(t),tz=t=>new TextDecoder().decode(t);let nz=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},rz=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return hR(this,e)}},sz=class{constructor(e){this.decoders=e}or(e){return hR(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const hR=(t,e)=>new sz({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let iz=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new nz(e,n,r),this.decoder=new rz(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const dy=({name:t,prefix:e,encode:n,decode:r})=>new iz(t,e,n,r),xf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=X7(n,e);return dy({prefix:t,name:e,encode:r,decode:i=>dR(s(i))})},oz=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},az=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},pn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>dy({prefix:e,name:t,encode(s){return az(s,r,n)},decode(s){return oz(s,r,n,t)}}),cz=dy({prefix:"\0",name:"identity",encode:t=>tz(t),decode:t=>ez(t)});var lz=Object.freeze({__proto__:null,identity:cz});const uz=pn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var dz=Object.freeze({__proto__:null,base2:uz});const hz=pn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var fz=Object.freeze({__proto__:null,base8:hz});const pz=xf({prefix:"9",name:"base10",alphabet:"0123456789"});var gz=Object.freeze({__proto__:null,base10:pz});const mz=pn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yz=pn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var wz=Object.freeze({__proto__:null,base16:mz,base16upper:yz});const vz=pn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bz=pn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ez=pn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Cz=pn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_z=pn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Sz=pn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Az=pn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Iz=pn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),xz=pn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Nz=Object.freeze({__proto__:null,base32:vz,base32upper:bz,base32pad:Ez,base32padupper:Cz,base32hex:_z,base32hexupper:Sz,base32hexpad:Az,base32hexpadupper:Iz,base32z:xz});const Tz=xf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Pz=xf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Oz=Object.freeze({__proto__:null,base36:Tz,base36upper:Pz});const Rz=xf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kz=xf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var $z=Object.freeze({__proto__:null,base58btc:Rz,base58flickr:kz});const Dz=pn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Uz=pn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Lz=pn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Mz=pn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Bz=Object.freeze({__proto__:null,base64:Dz,base64pad:Uz,base64url:Lz,base64urlpad:Mz});const fR=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Fz=fR.reduce((t,e,n)=>(t[n]=e,t),[]),jz=fR.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function zz(t){return t.reduce((e,n)=>(e+=Fz[n],e),"")}function Hz(t){const e=[];for(const n of t){const r=jz[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Wz=dy({prefix:"🚀",name:"base256emoji",encode:zz,decode:Hz});var qz=Object.freeze({__proto__:null,base256emoji:Wz}),Vz=pR,vA=128,Gz=-128,Kz=Math.pow(2,31);function pR(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Kz;)e[n++]=t&255|vA,t/=128;for(;t&Gz;)e[n++]=t&255|vA,t>>>=7;return e[n]=t|0,pR.bytes=n-r+1,e}var Yz=db,Zz=128,bA=127;function db(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw db.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&bA)<<s:(o&bA)*Math.pow(2,s),s+=7}while(o>=Zz);return db.bytes=i-r,n}var Qz=Math.pow(2,7),Jz=Math.pow(2,14),Xz=Math.pow(2,21),eH=Math.pow(2,28),tH=Math.pow(2,35),nH=Math.pow(2,42),rH=Math.pow(2,49),sH=Math.pow(2,56),iH=Math.pow(2,63),oH=function(t){return t<Qz?1:t<Jz?2:t<Xz?3:t<eH?4:t<tH?5:t<nH?6:t<rH?7:t<sH?8:t<iH?9:10},aH={encode:Vz,decode:Yz,encodingLength:oH},gR=aH;const EA=(t,e,n=0)=>(gR.encode(t,e,n),e),CA=t=>gR.encodingLength(t),hb=(t,e)=>{const n=e.byteLength,r=CA(t),s=r+CA(n),i=new Uint8Array(s+n);return EA(t,i,0),EA(n,i,r),i.set(e,s),new cH(t,n,e,i)};let cH=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const mR=({name:t,code:e,encode:n})=>new lH(t,e,n);let lH=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?hb(this.code,n):n.then(r=>hb(this.code,r))}else throw Error("Unknown type, must be binary type")}};const yR=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),uH=mR({name:"sha2-256",code:18,encode:yR("SHA-256")}),dH=mR({name:"sha2-512",code:19,encode:yR("SHA-512")});var hH=Object.freeze({__proto__:null,sha256:uH,sha512:dH});const wR=0,fH="identity",vR=dR,pH=t=>hb(wR,vR(t)),gH={code:wR,name:fH,encode:vR,digest:pH};var mH=Object.freeze({__proto__:null,identity:gH});new TextEncoder,new TextDecoder;const _A={...lz,...dz,...fz,...gz,...wz,...Nz,...Oz,...$z,...Bz,...qz};({...hH,...mH});function bR(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const SA=bR("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Bw=bR("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=lR(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),ER={utf8:SA,"utf-8":SA,hex:_A.base16,latin1:Bw,ascii:Bw,binary:Bw,..._A};function hy(t,e="utf8"){const n=ER[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function wu(t,e="utf8"){const n=ER[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?FE(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function AA(t){return hc(hy(wu(t,uy),aR))}function rm(t){return hy(wu(Fi(t),aR),uy)}function CR(t){const e=wu(Y7,wA),n=K7+hy(uR([e,t]),wA);return[V7,G7,n].join(q7)}function yH(t){return hy(t,uy)}function wH(t){return wu(t,uy)}function vH(t){return wu([rm(t.header),rm(t.payload)].join(nm),cR)}function bH(t){return[rm(t.header),rm(t.payload),yH(t.signature)].join(nm)}function fb(t){const e=t.split(nm),n=AA(e[0]),r=AA(e[1]),s=wH(e[2]),i=wu(e.slice(0,2).join(nm),cR);return{header:n,payload:r,signature:s,data:i}}function IA(t=ZO(Z7)){const e=oR.getPublicKey(t);return{secretKey:uR([t,e]),publicKey:e}}async function EH(t,e,n,r,s=Z.fromMiliseconds(Date.now())){const i={alg:H7,typ:W7},o=CR(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=vH({header:i,payload:c}),u=oR.sign(l,r.secretKey.slice(0,32));return bH({header:i,payload:c,signature:u})}var xA=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},CH=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),_H=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),SH=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),AH=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),IH=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),xH=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,NH=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,NA=3,TH=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",xH]],TA=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function PH(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new IH:typeof navigator<"u"?RH(navigator.userAgent):$H()}function OH(t){return t!==""&&TH.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function RH(t){var e=OH(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new AH;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<NA&&(s=xA(xA([],s,!0),DH(NA-s.length),!0)):s=[];var i=s.join("."),o=kH(t),a=NH.exec(t);return a&&a[1]?new SH(n,i,o,a[1]):new CH(n,i,o)}function kH(t){for(var e=0,n=TA.length;e<n;e++){var r=TA[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function $H(){var t=typeof process<"u"&&process.version;return t?new _H(process.version.slice(1)):null}function DH(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.getLocalStorage=dt.getLocalStorageOrThrow=dt.getCrypto=dt.getCryptoOrThrow=_R=dt.getLocation=dt.getLocationOrThrow=jE=dt.getNavigator=dt.getNavigatorOrThrow=fc=dt.getDocument=dt.getDocumentOrThrow=dt.getFromWindowOrThrow=dt.getFromWindow=void 0;function Tc(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}dt.getFromWindow=Tc;function vu(t){const e=Tc(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}dt.getFromWindowOrThrow=vu;function UH(){return vu("document")}dt.getDocumentOrThrow=UH;function LH(){return Tc("document")}var fc=dt.getDocument=LH;function MH(){return vu("navigator")}dt.getNavigatorOrThrow=MH;function BH(){return Tc("navigator")}var jE=dt.getNavigator=BH;function FH(){return vu("location")}dt.getLocationOrThrow=FH;function jH(){return Tc("location")}var _R=dt.getLocation=jH;function zH(){return vu("crypto")}dt.getCryptoOrThrow=zH;function HH(){return Tc("crypto")}dt.getCrypto=HH;function WH(){return vu("localStorage")}dt.getLocalStorageOrThrow=WH;function qH(){return Tc("localStorage")}dt.getLocalStorage=qH;var zE={};Object.defineProperty(zE,"__esModule",{value:!0});var SR=zE.getWindowMetadata=void 0;const PA=dt;function VH(){let t,e;try{t=PA.getDocumentOrThrow(),e=PA.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const v=p.getAttribute("href");if(v)if(v.toLowerCase().indexOf("https:")===-1&&v.toLowerCase().indexOf("http:")===-1&&v.indexOf("//")!==0){let m=e.protocol+"//"+e.host;if(v.indexOf("/")===0)m+=v;else{const y=e.pathname.split("/");y.pop();const w=y.join("/");m+=w+"/"+v}h.push(m)}else if(v.indexOf("//")===0){const m=e.protocol+v;h.push(m)}else h.push(v)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],g=["itemprop","property","name"].map(v=>p.getAttribute(v)).filter(v=>v?d.includes(v):!1);if(g.length&&g){const v=p.getAttribute("content");if(v)return v}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}SR=zE.getWindowMetadata=VH;function Lh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function pb(t){return Lh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const AR="2.30.6";let Wu={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${AR}`};class pc extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof pc?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof pc&&n.cause.docsPath||n.docsPath,i=(a=Wu.getDocsUrl)==null?void 0:a.call(Wu,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Wu.version?[`Version: ${Wu.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=AR}walk(e){return IR(this,e)}}function IR(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?IR(t.cause,e):e?null:t}class xR extends pc{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function bu(t,{dir:e,size:n=32}={}){return typeof t=="string"?GH(t,{dir:e,size:n}):KH(t,{dir:e,size:n})}function GH(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new xR({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function KH(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new xR({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class YH extends pc{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class ZH extends pc{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Eu(t,{size:e}){if(pb(t)>e)throw new ZH({givenSize:pb(t),maxSize:e})}function gb(t,e={}){const{signed:n}=e;e.size&&Eu(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function QH(t,e={}){return Number(gb(t,e))}const JH=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mb(t,e={}){return typeof t=="number"||typeof t=="bigint"?TR(t,e):typeof t=="string"?tW(t,e):typeof t=="boolean"?XH(t,e):NR(t,e)}function XH(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Eu(n,{size:e.size}),bu(n,{size:e.size})):n}function NR(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=JH[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Eu(r,{size:e.size}),bu(r,{dir:"right",size:e.size})):r}function TR(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new YH({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?bu(a,{size:r}):a}const eW=new TextEncoder;function tW(t,e={}){const n=eW.encode(t);return NR(n,e)}const nW=new TextEncoder;function rW(t,e={}){return typeof t=="number"||typeof t=="bigint"?iW(t,e):typeof t=="boolean"?sW(t,e):Lh(t)?PR(t,e):OR(t,e)}function sW(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Eu(n,{size:e.size}),bu(n,{size:e.size})):n}const fi={zero:48,nine:57,A:65,F:70,a:97,f:102};function OA(t){if(t>=fi.zero&&t<=fi.nine)return t-fi.zero;if(t>=fi.A&&t<=fi.F)return t-(fi.A-10);if(t>=fi.a&&t<=fi.f)return t-(fi.a-10)}function PR(t,e={}){let n=t;e.size&&(Eu(n,{size:e.size}),n=bu(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=OA(r.charCodeAt(a++)),l=OA(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new pc(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function iW(t,e){const n=TR(t,e);return PR(n)}function OR(t,e={}){const n=nW.encode(t);return typeof e.size=="number"?(Eu(n,{size:e.size}),bu(n,{dir:"right",size:e.size})):n}function RR(t,e){const n=e||"hex",r=nE(Lh(t,{strict:!1})?rW(t):t);return n==="bytes"?r:mb(r)}class oW extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Fw=new oW(8192);function aW(t,e){if(Fw.has(`${t}.${e}`))return Fw.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=RR(OR(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Fw.set(`${t}.${e}`,i),i}function cW(t){const e=RR(`0x${t.substring(4)}`).substring(26);return aW(`0x${e}`)}async function lW({hash:t,signature:e}){const n=Lh(t)?t:mb(t),{secp256k1:r}=await In(async()=>{const{secp256k1:o}=await import("./secp256k1-Rt7IZi1h.js");return{secp256k1:o}},__vite__mapDeps([5,1,2,3]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=RA(f);return new r.Signature(gb(l),gb(u)).addRecoveryBit(p)}const o=Lh(e)?e:mb(e);if(pb(o)!==65)throw new Error("invalid signature length");const a=QH(`0x${o.slice(130)}`),c=RA(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function RA(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function uW({hash:t,signature:e}){return cW(await lW({hash:t,signature:e}))}function dW(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*i+1>>>0,g=new Uint8Array(p);for(;h!==f;){let y=l[h],w=0;for(let b=p-1;(y!==0||w<d)&&b!==-1;b--,w++)y+=256*g[b]>>>0,g[b]=y%n>>>0,y=y/n>>>0;if(y!==0)throw new Error("Non-zero carry");d=w,h++}let v=p-d;for(;v!==p&&g[v]===0;)v++;let m=r.repeat(u);for(;v<p;++v)m+=t.charAt(g[v]);return m}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*s+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const y=l.charCodeAt(u);if(y>255)return;let w=e[y];if(w===255)return;let b=0;for(let E=f-1;(w!==0||b<h)&&E!==-1;E--,b++)w+=n*p[E]>>>0,p[E]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");h=b,u++}let g=f-h;for(;g!==f&&p[g]===0;)g++;const v=new Uint8Array(d+(f-g));let m=d;for(;g!==f;)v[m++]=p[g++];return v}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var hW="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Cu=dW(hW);function fW(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function pW(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128):(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128)}else{e[s++]=o;continue}e[s++]=o&63|128}}const gW=new TextEncoder,mW=50;function yW(t,e,n){gW.encodeInto(t,e.subarray(n))}function wW(t,e,n){t.length>mW?yW(t,e,n):pW(t,e,n)}const vW=4096;function kR(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=vW&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const bW=new TextDecoder,EW=200;function CW(t,e,n){const r=t.subarray(e,e+n);return bW.decode(r)}function _W(t,e,n){return n>EW?CW(t,e,n):kR(t,e,n)}class Ap{constructor(e,n){this.type=e,this.data=n}}class br extends Error{constructor(e){super(e);const n=Object.create(br.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:br.name})}}const qu=4294967295;function SW(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function $R(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function DR(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function AW(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const IW=-1,xW=4294967296-1,NW=17179869184-1;function TW({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=NW)if(e===0&&t<=xW){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),$R(r,4,t),n}}function PW(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function OW(t){if(t instanceof Date){const e=PW(t);return TW(e)}else return null}function RW(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=DR(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new br(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function kW(t){const e=RW(t);return new Date(e.sec*1e3+e.nsec/1e6)}const $W={type:IW,encode:OW,decode:kW};class sm{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register($W)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new Ap(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new Ap(o,i)}}}return e instanceof Ap?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new Ap(n,e)}}sm.defaultCodec=new sm;function DW(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function yb(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):DW(t)?new Uint8Array(t):Uint8Array.from(t)}const UW=100,LW=2048;let MW=class UR{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??sm.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??UW,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??LW,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new UR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=fW(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),wW(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=yb(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),SW(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),$R(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function BW(t,e){return new MW(e).encodeSharedRef(t)}function jw(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const FW=16,jW=16;class zW{constructor(e=FW,n=jW){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=kR(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const wb="array",Rd="map_key",LR="map_value",HW=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new br("The type of key must be string or number but "+typeof t)};class WW{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=wb,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Rd,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===wb){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Rd||e.type===LR){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Vu=-1,HE=new DataView(new ArrayBuffer(0)),qW=new Uint8Array(HE.buffer);try{HE.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const kA=new RangeError("Insufficient data"),VW=new zW;let GW=class MR{constructor(e){this.totalPos=0,this.pos=0,this.view=HE,this.bytes=qW,this.headByte=Vu,this.stack=new WW,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??sm.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??qu,this.maxBinLength=(e==null?void 0:e.maxBinLength)??qu,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??qu,this.maxMapLength=(e==null?void 0:e.maxMapLength)??qu,this.maxExtLength=(e==null?void 0:e.maxExtLength)??qu,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:VW,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??HW}clone(){return new MR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Vu,this.stack.reset()}setBuffer(e){const n=yb(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Vu&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=yb(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${jw(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new br(`Unrecognized type byte: ${jw(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===wb)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===Rd){if(n==="__proto__")throw new br("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=LR;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=Rd;continue e}}return n}}readHeadByte(){return this.headByte===Vu&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Vu}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new br(`Unrecognized array type byte: ${jw(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new br(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new br(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new br(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw kA;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=_W(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Rd:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new br(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw kA;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new br(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=AW(this.view,this.pos);return this.pos+=8,e}readI64(){const e=DR(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function KW(t,e){return new GW(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function YW(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function BR(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function im(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function WE(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function vb(t){if(!Array.isArray(t))throw new Error("array expected")}function om(t,e){if(!BR(!0,e))throw new Error(`${t}: array of strings expected`)}function ZW(t,e){if(!BR(!1,e))throw new Error(`${t}: array of numbers expected`)}function QW(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function JW(t){const e=typeof t=="string"?t.split(""):t,n=e.length;om("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(vb(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(vb(s),s.map(i=>{im("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function XW(t=""){return im("join",t),{encode:e=>(om("join.decode",e),e.join(t)),decode:e=>(im("join.decode",e),e.split(t))}}function eq(t,e="="){return WE(t),im("padding",e),{encode(n){for(om("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){om("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const FR=(t,e)=>e===0?t:FR(e,t%e),am=(t,e)=>t+(e-FR(t,e)),zw=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function $A(t,e,n,r){if(vb(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(am(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${am(e,n)}`);let s=0,i=0;const o=zw[e],a=zw[n]-1,c=[];for(const l of t){if(WE(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=zw[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function tq(t,e=!1){if(WE(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(am(8,t)>32||am(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!YW(n))throw new Error("radix2.encode input should be Uint8Array");return $A(Array.from(n),8,t,!e)},decode:n=>(ZW("radix2.decode",n),Uint8Array.from($A(n,t,8,e)))}}const nq=QW(tq(5),JW("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),eq(5),XW(""));function qE(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function jR(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qE(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function kd(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=jR(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return qE(n)}function rq(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,v=0,m=0,y=p.length;m!==y&&p[m]===0;)m++,g++;for(var w=(y-m)*u+1>>>0,b=new Uint8Array(w);m!==y;){for(var E=p[m],S=0,_=w-1;(E!==0||S<v)&&_!==-1;_--,S++)E+=256*b[_]>>>0,b[_]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");v=S,m++}for(var T=w-v;T!==w&&b[T]===0;)T++;for(var x=c.repeat(g);T<w;++T)x+=t.charAt(b[T]);return x}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var v=0,m=0;p[g]===c;)v++,g++;for(var y=(p.length-g)*l+1>>>0,w=new Uint8Array(y);p[g];){var b=n[p.charCodeAt(g)];if(b===255)return;for(var E=0,S=y-1;(b!==0||E<m)&&S!==-1;S--,E++)b+=a*w[S]>>>0,w[S]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");m=E,g++}if(p[g]!==" "){for(var _=y-m;_!==y&&w[_]===0;)_++;for(var T=new Uint8Array(v+(y-_)),x=v;_!==y;)T[x++]=w[_++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var sq=rq,iq=sq;const oq=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},aq=t=>new TextEncoder().encode(t),cq=t=>new TextDecoder().decode(t);class lq{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class uq{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return zR(this,e)}}class dq{constructor(e){this.decoders=e}or(e){return zR(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const zR=(t,e)=>new dq({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class hq{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new lq(e,n,r),this.decoder=new uq(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const fy=({name:t,prefix:e,encode:n,decode:r})=>new hq(t,e,n,r),Nf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=iq(n,e);return fy({prefix:t,name:e,encode:r,decode:i=>oq(s(i))})},fq=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},pq=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},gn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>fy({prefix:e,name:t,encode(s){return pq(s,r,n)},decode(s){return fq(s,r,n,t)}}),gq=fy({prefix:"\0",name:"identity",encode:t=>cq(t),decode:t=>aq(t)}),mq=Object.freeze(Object.defineProperty({__proto__:null,identity:gq},Symbol.toStringTag,{value:"Module"})),yq=gn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wq=Object.freeze(Object.defineProperty({__proto__:null,base2:yq},Symbol.toStringTag,{value:"Module"})),vq=gn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),bq=Object.freeze(Object.defineProperty({__proto__:null,base8:vq},Symbol.toStringTag,{value:"Module"})),Eq=Nf({prefix:"9",name:"base10",alphabet:"0123456789"}),Cq=Object.freeze(Object.defineProperty({__proto__:null,base10:Eq},Symbol.toStringTag,{value:"Module"})),_q=gn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Sq=gn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Aq=Object.freeze(Object.defineProperty({__proto__:null,base16:_q,base16upper:Sq},Symbol.toStringTag,{value:"Module"})),Iq=gn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),xq=gn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Nq=gn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tq=gn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Pq=gn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Oq=gn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Rq=gn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kq=gn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$q=gn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Dq=Object.freeze(Object.defineProperty({__proto__:null,base32:Iq,base32hex:Pq,base32hexpad:Rq,base32hexpadupper:kq,base32hexupper:Oq,base32pad:Nq,base32padupper:Tq,base32upper:xq,base32z:$q},Symbol.toStringTag,{value:"Module"})),Uq=Nf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Lq=Nf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Mq=Object.freeze(Object.defineProperty({__proto__:null,base36:Uq,base36upper:Lq},Symbol.toStringTag,{value:"Module"})),Bq=Nf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Fq=Nf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),jq=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Bq,base58flickr:Fq},Symbol.toStringTag,{value:"Module"})),zq=gn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Hq=gn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wq=gn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qq=gn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Vq=Object.freeze(Object.defineProperty({__proto__:null,base64:zq,base64pad:Hq,base64url:Wq,base64urlpad:qq},Symbol.toStringTag,{value:"Module"})),HR=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Gq=HR.reduce((t,e,n)=>(t[n]=e,t),[]),Kq=HR.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Yq(t){return t.reduce((e,n)=>(e+=Gq[n],e),"")}function Zq(t){const e=[];for(const n of t){const r=Kq[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Qq=fy({prefix:"🚀",name:"base256emoji",encode:Yq,decode:Zq}),Jq=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Qq},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const DA={...mq,...wq,...bq,...Cq,...Aq,...Dq,...Mq,...jq,...Vq,...Jq};function WR(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const UA=WR("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Hw=WR("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=jR(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),qR={utf8:UA,"utf-8":UA,hex:DA.base16,latin1:Hw,ascii:Hw,binary:Hw,...DA};function Hr(t,e="utf8"){const n=qR[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qE(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ur(t,e="utf8"){const n=qR[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Xq={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},eV="Input must be an string, Buffer or Uint8Array";function tV(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(eV);return e}function nV(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Ip(t){return(4294967296+t).toString(16).substring(1)}function rV(t,e,n){let r=`
`+t+" = ";for(let s=0;s<e.length;s+=2){if(n===32)r+=Ip(e[s]).toUpperCase(),r+=" ",r+=Ip(e[s+1]).toUpperCase();else if(n===64)r+=Ip(e[s+1]).toUpperCase(),r+=Ip(e[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(t.length+4).join(" "):s<e.length-2&&(r+=" ")}console.log(r)}function sV(t,e,n){let r=new Date().getTime();const s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=t(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var VR={normalizeInput:tV,toHex:nV,debugPrint:rV,testSpeed:sV};const og=VR;function xp(t,e,n){const r=t[e]+t[n];let s=t[e+1]+t[n+1];r>=4294967296&&s++,t[e]=r,t[e+1]=s}function LA(t,e,n,r){let s=t[e]+n;n<0&&(s+=4294967296);let i=t[e+1]+r;s>=4294967296&&i++,t[e]=s,t[e+1]=i}function GR(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function to(t,e,n,r,s,i){const o=pd[s],a=pd[s+1],c=pd[i],l=pd[i+1];xp(xe,t,e),LA(xe,t,o,a);let u=xe[r]^xe[t],d=xe[r+1]^xe[t+1];xe[r]=d,xe[r+1]=u,xp(xe,n,r),u=xe[e]^xe[n],d=xe[e+1]^xe[n+1],xe[e]=u>>>24^d<<8,xe[e+1]=d>>>24^u<<8,xp(xe,t,e),LA(xe,t,c,l),u=xe[r]^xe[t],d=xe[r+1]^xe[t+1],xe[r]=u>>>16^d<<16,xe[r+1]=d>>>16^u<<16,xp(xe,n,r),u=xe[e]^xe[n],d=xe[e+1]^xe[n+1],xe[e]=d>>>31^u<<1,xe[e+1]=u>>>31^d<<1}const KR=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),iV=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],vn=new Uint8Array(iV.map(function(t){return t*2})),xe=new Uint32Array(32),pd=new Uint32Array(32);function YR(t,e){let n=0;for(n=0;n<16;n++)xe[n]=t.h[n],xe[n+16]=KR[n];for(xe[24]=xe[24]^t.t,xe[25]=xe[25]^t.t/4294967296,e&&(xe[28]=~xe[28],xe[29]=~xe[29]),n=0;n<32;n++)pd[n]=GR(t.b,4*n);for(n=0;n<12;n++)to(0,8,16,24,vn[n*16+0],vn[n*16+1]),to(2,10,18,26,vn[n*16+2],vn[n*16+3]),to(4,12,20,28,vn[n*16+4],vn[n*16+5]),to(6,14,22,30,vn[n*16+6],vn[n*16+7]),to(0,10,20,30,vn[n*16+8],vn[n*16+9]),to(2,12,22,24,vn[n*16+10],vn[n*16+11]),to(4,14,16,26,vn[n*16+12],vn[n*16+13]),to(6,8,18,28,vn[n*16+14],vn[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^xe[n]^xe[n+16]}const no=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function ZR(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};no.fill(0),no[0]=t,e&&(no[1]=e.length),no[2]=1,no[3]=1,n&&no.set(n,32),r&&no.set(r,48);for(let i=0;i<16;i++)s.h[i]=KR[i]^GR(no,i*4);return e&&(VE(s,e),s.c=128),s}function VE(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,YR(t,!1),t.c=0),t.b[t.c++]=e[n]}function QR(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;YR(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function JR(t,e,n,r,s){n=n||64,t=og.normalizeInput(t),r&&(r=og.normalizeInput(r)),s&&(s=og.normalizeInput(s));const i=ZR(n,e,r,s);return VE(i,t),QR(i)}function oV(t,e,n,r,s){const i=JR(t,e,n,r,s);return og.toHex(i)}var aV={blake2b:JR,blake2bHex:oV,blake2bInit:ZR,blake2bUpdate:VE,blake2bFinal:QR};const XR=VR;function cV(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ro(t,e,n,r,s,i){qe[t]=qe[t]+qe[e]+s,qe[r]=Np(qe[r]^qe[t],16),qe[n]=qe[n]+qe[r],qe[e]=Np(qe[e]^qe[n],12),qe[t]=qe[t]+qe[e]+i,qe[r]=Np(qe[r]^qe[t],8),qe[n]=qe[n]+qe[r],qe[e]=Np(qe[e]^qe[n],7)}function Np(t,e){return t>>>e^t<<32-e}const e3=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),qe=new Uint32Array(16),tn=new Uint32Array(16);function t3(t,e){let n=0;for(n=0;n<8;n++)qe[n]=t.h[n],qe[n+8]=e3[n];for(qe[12]^=t.t,qe[13]^=t.t/4294967296,e&&(qe[14]=~qe[14]),n=0;n<16;n++)tn[n]=cV(t.b,4*n);for(n=0;n<10;n++)ro(0,4,8,12,tn[bn[n*16+0]],tn[bn[n*16+1]]),ro(1,5,9,13,tn[bn[n*16+2]],tn[bn[n*16+3]]),ro(2,6,10,14,tn[bn[n*16+4]],tn[bn[n*16+5]]),ro(3,7,11,15,tn[bn[n*16+6]],tn[bn[n*16+7]]),ro(0,5,10,15,tn[bn[n*16+8]],tn[bn[n*16+9]]),ro(1,6,11,12,tn[bn[n*16+10]],tn[bn[n*16+11]]),ro(2,7,8,13,tn[bn[n*16+12]],tn[bn[n*16+13]]),ro(3,4,9,14,tn[bn[n*16+14]],tn[bn[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=qe[n]^qe[n+8]}function n3(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(e3),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(GE(r,e),r.c=64),r}function GE(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,t3(t,!1),t.c=0),t.b[t.c++]=e[n]}function r3(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;t3(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function s3(t,e,n){n=n||32,t=XR.normalizeInput(t);const r=n3(n,e);return GE(r,t),r3(r)}function lV(t,e,n){const r=s3(t,e,n);return XR.toHex(r)}var uV={blake2s:s3,blake2sHex:lV,blake2sInit:n3,blake2sUpdate:GE,blake2sFinal:r3};const Gu=aV,Ku=uV;var dV={blake2b:Gu.blake2b,blake2bHex:Gu.blake2bHex,blake2bInit:Gu.blake2bInit,blake2bUpdate:Gu.blake2bUpdate,blake2bFinal:Gu.blake2bFinal,blake2s:Ku.blake2s,blake2sHex:Ku.blake2sHex,blake2sInit:Ku.blake2sInit,blake2sUpdate:Ku.blake2sUpdate,blake2sFinal:Ku.blake2sFinal},hV={};const fV=":";function Nl(t){const[e,n]=t.split(fV);return{namespace:e,reference:n}}function i3(t,e){return t.includes(":")?[t]:e.chains||[]}var pV=Object.defineProperty,gV=Object.defineProperties,mV=Object.getOwnPropertyDescriptors,MA=Object.getOwnPropertySymbols,yV=Object.prototype.hasOwnProperty,wV=Object.prototype.propertyIsEnumerable,BA=(t,e,n)=>e in t?pV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FA=(t,e)=>{for(var n in e||(e={}))yV.call(e,n)&&BA(t,n,e[n]);if(MA)for(var n of MA(e))wV.call(e,n)&&BA(t,n,e[n]);return t},vV=(t,e)=>gV(t,mV(e));const bV="ReactNative",_r={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},EV="js";function cm(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function pa(){return!fc()&&!!jE()&&navigator.product===bV}function CV(){return pa()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function _V(){return pa()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function _u(){return!cm()&&!!jE()&&!!fc()}function Tf(){return pa()?_r.reactNative:cm()?_r.node:_u()?_r.browser:_r.unknown}function jA(){var t;try{return pa()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function SV(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function AV(t){var e,n;const r=o3();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),vV(FA(FA({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function o3(){return SR()||{name:"",description:"",url:"",icons:[""]}}function IV(){if(Tf()===_r.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=PH();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function xV(){var t;const e=Tf();return e===_r.browser?[e,((t=_R())==null?void 0:t.host)||"unknown"].join(":"):e}function a3(t,e,n){const r=IV(),s=xV();return[[t,e].join("-"),[EV,n].join("-"),r,s].join("/")}function NV({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=a3(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=SV(l[1]||"",d);return l[0]+"?"+h}function Da(t,e){return t.filter(n=>e.includes(n)).length===t.length}function bb(t){return Object.fromEntries(t.entries())}function Eb(t){return new Map(Object.entries(t))}function Aa(t=Z.FIVE_MINUTES,e){const n=Z.toMiliseconds(t||Z.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function Do(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function c3(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function TV(t){return c3("topic",t)}function PV(t){return c3("id",t)}function l3(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Bt(t,e){return Z.fromMiliseconds(Date.now()+Z.toMiliseconds(t))}function mo(t){return Date.now()>=Z.toMiliseconds(t)}function Ye(t,e){return`${t}${e?`:${e}`:""}`}function Zs(t=[],e=[]){return[...new Set([...t,...e])]}async function OV({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=RV(i,t,e),a=Tf();if(a===_r.browser){if(!((r=fc())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}kV(o)}else a===_r.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function RV(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${LV(r,!0)}`}else s=`${s}/wc?${r}`;return s}function kV(t){let e="_self";UV()?e="_top":(DV()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function $V(t,e){let n="";try{if(_u()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function zA(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function HA(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function KE(){return typeof process<"u"&&hV.IS_VITEST==="true"}function DV(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function UV(){try{return window.self!==window.top}catch{return!1}}function LV(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function u3(t){return Buffer.from(t,"base64").toString("utf-8")}function MV(t){return new Promise(e=>setTimeout(e,t))}const Tp=BigInt(2**32-1),WA=BigInt(32);function d3(t,e=!1){return e?{h:Number(t&Tp),l:Number(t>>WA&Tp)}:{h:Number(t>>WA&Tp)|0,l:Number(t&Tp)|0}}function h3(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=d3(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const qA=(t,e,n)=>t>>>n,VA=(t,e,n)=>t<<32-n|e>>>n,yo=(t,e,n)=>t>>>n|e<<32-n,wo=(t,e,n)=>t<<32-n|e>>>n,gd=(t,e,n)=>t<<64-n|e>>>n-32,md=(t,e,n)=>t>>>n-32|e<<64-n,BV=(t,e)=>e,FV=(t,e)=>t,jV=(t,e,n)=>t<<n|e>>>32-n,zV=(t,e,n)=>e<<n|t>>>32-n,HV=(t,e,n)=>e<<n-32|t>>>64-n,WV=(t,e,n)=>t<<n-32|e>>>64-n;function os(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const YE=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),ZE=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,qV=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),VV=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,GV=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),KV=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Fc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function YV(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ji(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ia(t,...e){if(!YV(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function QE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ji(t.outputLen),ji(t.blockLen)}function oa(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function JE(t,e){ia(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Mh(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Yr(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Ww(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ps(t,e){return t<<32-e|t>>>e}const f3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function p3(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const wi=f3?t=>t:t=>p3(t);function ZV(t){for(let e=0;e<t.length;e++)t[e]=p3(t[e]);return t}const vo=f3?t=>t:ZV;function QV(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function bs(t){return typeof t=="string"&&(t=QV(t)),ia(t),t}function JV(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];ia(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let py=class{};function Pf(t){const e=r=>t().update(bs(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function XV(t){const e=(r,s)=>t(s).update(bs(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Su(t=32){if(Fc&&typeof Fc.getRandomValues=="function")return Fc.getRandomValues(new Uint8Array(t));if(Fc&&typeof Fc.randomBytes=="function")return Uint8Array.from(Fc.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const eG=BigInt(0),Yu=BigInt(1),tG=BigInt(2),nG=BigInt(7),rG=BigInt(256),sG=BigInt(113),g3=[],m3=[],y3=[];for(let t=0,e=Yu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],g3.push(2*(5*r+n)),m3.push((t+1)*(t+2)/2%64);let s=eG;for(let i=0;i<7;i++)e=(e<<Yu^(e>>nG)*sG)%rG,e&tG&&(s^=Yu<<(Yu<<BigInt(i))-Yu);y3.push(s)}const w3=h3(y3,!0),iG=w3[0],oG=w3[1],GA=(t,e,n)=>n>32?HV(t,e,n):jV(t,e,n),KA=(t,e,n)=>n>32?WV(t,e,n):zV(t,e,n);function aG(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=GA(l,u,1)^n[a],h=KA(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=m3[o],c=GA(s,i,a),l=KA(s,i,a),u=g3[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=iG[r],t[1]^=oG[r]}Yr(n)}let cG=class v3 extends py{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,ji(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Mh(this.state)}clone(){return this._cloneInto()}keccak(){vo(this.state32),aG(this.state32,this.rounds),vo(this.state32),this.posOut=0,this.pos=0}update(e){oa(this),e=bs(e),ia(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){oa(this,!1),ia(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ji(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(JE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Yr(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new v3(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const lG=(t,e,n)=>Pf(()=>new cG(e,t,n)),uG=lG(1,136,256/8);function dG(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function hG(t,e,n){return t&e^~t&n}function fG(t,e,n){return t&e^t&n^e&n}let b3=class extends py{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Ww(this.buffer)}update(e){oa(this),e=bs(e),ia(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Ww(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oa(this),JE(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Yr(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;dG(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Ww(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const so=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),En=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Cn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),pG=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),io=new Uint32Array(64);class gG extends b3{constructor(e=32){super(64,e,8,!1),this.A=so[0]|0,this.B=so[1]|0,this.C=so[2]|0,this.D=so[3]|0,this.E=so[4]|0,this.F=so[5]|0,this.G=so[6]|0,this.H=so[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)io[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=io[d-15],f=io[d-2],p=Ps(h,7)^Ps(h,18)^h>>>3,g=Ps(f,17)^Ps(f,19)^f>>>10;io[d]=g+io[d-7]+p+io[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ps(a,6)^Ps(a,11)^Ps(a,25),f=u+h+hG(a,c,l)+pG[d]+io[d]|0,p=(Ps(r,2)^Ps(r,13)^Ps(r,22))+fG(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Yr(io)}destroy(){this.set(0,0,0,0,0,0,0,0),Yr(this.buffer)}}const E3=h3(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),mG=E3[0],yG=E3[1],oo=new Uint32Array(80),ao=new Uint32Array(80);let XE=class extends b3{constructor(e=64){super(128,e,16,!1),this.Ah=Cn[0]|0,this.Al=Cn[1]|0,this.Bh=Cn[2]|0,this.Bl=Cn[3]|0,this.Ch=Cn[4]|0,this.Cl=Cn[5]|0,this.Dh=Cn[6]|0,this.Dl=Cn[7]|0,this.Eh=Cn[8]|0,this.El=Cn[9]|0,this.Fh=Cn[10]|0,this.Fl=Cn[11]|0,this.Gh=Cn[12]|0,this.Gl=Cn[13]|0,this.Hh=Cn[14]|0,this.Hl=Cn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:v}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,v]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=v|0}process(e,n){for(let w=0;w<16;w++,n+=4)oo[w]=e.getUint32(n),ao[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const b=oo[w-15]|0,E=ao[w-15]|0,S=yo(b,E,1)^yo(b,E,8)^qA(b,E,7),_=wo(b,E,1)^wo(b,E,8)^VA(b,E,7),T=oo[w-2]|0,x=ao[w-2]|0,k=yo(T,x,19)^gd(T,x,61)^qA(T,x,6),$=wo(T,x,19)^md(T,x,61)^VA(T,x,6),M=qV(_,$,ao[w-7],ao[w-16]),F=VV(M,S,k,oo[w-7],oo[w-16]);oo[w]=F|0,ao[w]=M|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:v,Hh:m,Hl:y}=this;for(let w=0;w<80;w++){const b=yo(d,h,14)^yo(d,h,18)^gd(d,h,41),E=wo(d,h,14)^wo(d,h,18)^md(d,h,41),S=d&f^~d&g,_=h&p^~h&v,T=GV(y,E,_,yG[w],ao[w]),x=KV(T,m,b,S,mG[w],oo[w]),k=T|0,$=yo(r,s,28)^gd(r,s,34)^gd(r,s,39),M=wo(r,s,28)^md(r,s,34)^md(r,s,39),F=r&i^r&a^i&a,q=s&o^s&c^o&c;m=g|0,y=v|0,g=f|0,v=p|0,f=d|0,p=h|0,{h:d,l:h}=os(l|0,u|0,x|0,k|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const A=YE(k,M,q);r=ZE(A,x,$,F),s=A|0}({h:r,l:s}=os(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=os(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=os(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=os(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=os(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=os(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:v}=os(this.Gh|0,this.Gl|0,g|0,v|0),{h:m,l:y}=os(this.Hh|0,this.Hl|0,m|0,y|0),this.set(r,s,i,o,a,c,l,u,d,h,f,p,g,v,m,y)}roundClean(){Yr(oo,ao)}destroy(){Yr(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class wG extends XE{constructor(){super(48),this.Ah=En[0]|0,this.Al=En[1]|0,this.Bh=En[2]|0,this.Bl=En[3]|0,this.Ch=En[4]|0,this.Cl=En[5]|0,this.Dh=En[6]|0,this.Dl=En[7]|0,this.Eh=En[8]|0,this.El=En[9]|0,this.Fh=En[10]|0,this.Fl=En[11]|0,this.Gh=En[12]|0,this.Gl=En[13]|0,this.Hh=En[14]|0,this.Hl=En[15]|0}}const _n=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class vG extends XE{constructor(){super(32),this.Ah=_n[0]|0,this.Al=_n[1]|0,this.Bh=_n[2]|0,this.Bl=_n[3]|0,this.Ch=_n[4]|0,this.Cl=_n[5]|0,this.Dh=_n[6]|0,this.Dl=_n[7]|0,this.Eh=_n[8]|0,this.El=_n[9]|0,this.Fh=_n[10]|0,this.Fl=_n[11]|0,this.Gh=_n[12]|0,this.Gl=_n[13]|0,this.Hh=_n[14]|0,this.Hl=_n[15]|0}}const gy=Pf(()=>new gG),bG=Pf(()=>new XE),EG=Pf(()=>new wG),CG=Pf(()=>new vG),_G=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Mt=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ne=new Uint32Array(32);function co(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=ne[2*t],l=ne[2*t+1],u=ne[2*e],d=ne[2*e+1],h=ne[2*n],f=ne[2*n+1],p=ne[2*r],g=ne[2*r+1],v=YE(c,u,o);l=ZE(v,l,d,a),c=v|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:BV(g,p),Dl:FV(g)},{h:f,l:h}=os(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:yo(d,u,24),Bl:wo(d,u,24)},ne[2*t]=c,ne[2*t+1]=l,ne[2*e]=u,ne[2*e+1]=d,ne[2*n]=h,ne[2*n+1]=f,ne[2*r]=p,ne[2*r+1]=g}function lo(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=ne[2*t],l=ne[2*t+1],u=ne[2*e],d=ne[2*e+1],h=ne[2*n],f=ne[2*n+1],p=ne[2*r],g=ne[2*r+1],v=YE(c,u,o);l=ZE(v,l,d,a),c=v|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:yo(g,p,16),Dl:wo(g,p,16)},{h:f,l:h}=os(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:gd(d,u,63),Bl:md(d,u,63)},ne[2*t]=c,ne[2*t+1]=l,ne[2*e]=u,ne[2*e+1]=d,ne[2*n]=h,ne[2*n+1]=f,ne[2*r]=p,ne[2*r+1]=g}function SG(t,e={},n,r,s){if(ji(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class AG extends py{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ji(e),ji(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Mh(this.buffer)}update(e){oa(this),e=bs(e),ia(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(vo(s),this.compress(s,0,!1),vo(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));vo(d);for(let h=0;c+n<i;h+=s.length,c+=n)this.length+=n,this.compress(d,h,!1);vo(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){oa(this),JE(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Yr(this.buffer.subarray(n)),vo(r),this.compress(r,0,!0),vo(r);const s=Mh(e);this.get().forEach((i,o)=>s[o]=wi(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class IG extends AG{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Mt[0]|0,this.v0h=Mt[1]|0,this.v1l=Mt[2]|0,this.v1h=Mt[3]|0,this.v2l=Mt[4]|0,this.v2h=Mt[5]|0,this.v3l=Mt[6]|0,this.v3h=Mt[7]|0,this.v4l=Mt[8]|0,this.v4h=Mt[9]|0,this.v5l=Mt[10]|0,this.v5h=Mt[11]|0,this.v6l=Mt[12]|0,this.v6h=Mt[13]|0,this.v7l=Mt[14]|0,this.v7h=Mt[15]|0,SG(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=bs(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=bs(i);const a=Mh(i);this.v4l^=wi(a[0]),this.v4h^=wi(a[1]),this.v5l^=wi(a[2]),this.v5h^=wi(a[3])}if(s!==void 0){s=bs(s);const a=Mh(s);this.v6l^=wi(a[0]),this.v6h^=wi(a[1]),this.v7l^=wi(a[2]),this.v7h^=wi(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:g,v7h:v}=this;return[e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,v]}set(e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,v){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=g|0,this.v7h=v|0}compress(e,n,r){this.get().forEach((c,l)=>ne[l]=c),ne.set(Mt,16);let{h:s,l:i}=d3(BigInt(this.length));ne[24]=Mt[8]^i,ne[25]=Mt[9]^s,r&&(ne[28]=~ne[28],ne[29]=~ne[29]);let o=0;const a=_G;for(let c=0;c<12;c++)co(0,4,8,12,e,n+2*a[o++]),lo(0,4,8,12,e,n+2*a[o++]),co(1,5,9,13,e,n+2*a[o++]),lo(1,5,9,13,e,n+2*a[o++]),co(2,6,10,14,e,n+2*a[o++]),lo(2,6,10,14,e,n+2*a[o++]),co(3,7,11,15,e,n+2*a[o++]),lo(3,7,11,15,e,n+2*a[o++]),co(0,5,10,15,e,n+2*a[o++]),lo(0,5,10,15,e,n+2*a[o++]),co(1,6,11,12,e,n+2*a[o++]),lo(1,6,11,12,e,n+2*a[o++]),co(2,7,8,13,e,n+2*a[o++]),lo(2,7,8,13,e,n+2*a[o++]),co(3,4,9,14,e,n+2*a[o++]),lo(3,4,9,14,e,n+2*a[o++]);this.v0l^=ne[0]^ne[16],this.v0h^=ne[1]^ne[17],this.v1l^=ne[2]^ne[18],this.v1h^=ne[3]^ne[19],this.v2l^=ne[4]^ne[20],this.v2h^=ne[5]^ne[21],this.v3l^=ne[6]^ne[22],this.v3h^=ne[7]^ne[23],this.v4l^=ne[8]^ne[24],this.v4h^=ne[9]^ne[25],this.v5l^=ne[10]^ne[26],this.v5h^=ne[11]^ne[27],this.v6l^=ne[12]^ne[28],this.v6h^=ne[13]^ne[29],this.v7l^=ne[14]^ne[30],this.v7h^=ne[15]^ne[31],Yr(ne)}destroy(){this.destroyed=!0,Yr(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const xG=XV(t=>new IG(t)),NG="https://rpc.walletconnect.org/v1";function C3(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(uG(n)).toString("hex")}async function TG(t,e,n,r,s,i){switch(n.t){case"eip191":return await PG(t,e,n.s);case"eip1271":return await OG(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function PG(t,e,n){return(await uW({hash:C3(e),signature:n})).toLowerCase()===t.toLowerCase()}async function OG(t,e,n,r,s,i){const o=Nl(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),d=C3(e).substring(2),h=a+d+c+l+u,f=await fetch(`${i||NG}/?chainId=${r}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:RG(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function RG(){return Date.now()+Math.floor(Math.random()*1e3)}function kG(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Cu.encode(i)}function $G(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=xG(r,{dkLen:32});return Cu.encode(s)}function YA(t){const e=new Uint8Array(gy(DG(t)));return Cu.encode(e)}function DG(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function ZA(t){const e=Buffer.from(t,"base64"),n=KW(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=BW(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=CG(i);return nq.encode(o).replace(/=+$/,"")}function qw(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function UG(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(qw(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(qw(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(qw(r.length)),s.push(r);const i=Buffer.concat(s),o=gy(i);return Buffer.from(o).toString("hex").toUpperCase()}var LG=Object.defineProperty,MG=Object.defineProperties,BG=Object.getOwnPropertyDescriptors,QA=Object.getOwnPropertySymbols,FG=Object.prototype.hasOwnProperty,jG=Object.prototype.propertyIsEnumerable,JA=(t,e,n)=>e in t?LG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zG=(t,e)=>{for(var n in e||(e={}))FG.call(e,n)&&JA(t,n,e[n]);if(QA)for(var n of QA(e))jG.call(e,n)&&JA(t,n,e[n]);return t},HG=(t,e)=>MG(t,BG(e));const WG="did:pkh:",eC=t=>t==null?void 0:t.split(":"),qG=t=>{const e=t&&eC(t);if(e)return t.includes(WG)?e[3]:e[1]},Cb=t=>{const e=t&&eC(t);if(e)return e[2]+":"+e[3]},lm=t=>{const e=t&&eC(t);if(e)return e.pop()};async function XA(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=_3(s,s.iss),o=lm(s.iss);return await TG(o,i,r,Cb(s.iss),n)}const _3=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=lm(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${qG(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=ag(t.resources);if(p){const g=Bh(p);s=eK(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function VG(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function GG(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function gc(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function KG(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:YG(e,n,r)}}}function YG(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function S3(t){return gc(t),`urn:recap:${VG(t).replace(/=/g,"")}`}function Bh(t){const e=GG(t.replace("urn:recap:",""));return gc(e),e}function ZG(t,e,n){const r=KG(t,e,n);return S3(r)}function QG(t){return t&&t.includes("urn:recap:")}function JG(t,e){const n=Bh(t),r=Bh(e),s=XG(n,r);return S3(s)}function XG(t,e){gc(t),gc(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=HG(zG({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function eK(t="",e){gc(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function eI(t){var e;const n=Bh(t);gc(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function tI(t){const e=Bh(t);gc(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function ag(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return QG(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function A3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _b(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Vw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function tr(t,...e){if(!A3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function nI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tK(t,e){tr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Yo(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ou(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function nK(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const rK=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function sK(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Sb(t){if(typeof t=="string")t=sK(t);else if(A3(t))t=Ab(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function iK(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function oK(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const aK=(t,e)=>{function n(r,...s){if(tr(r),!rK)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?tr(l):tr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&tr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");tr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,tr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(tr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function rI(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!lK(e))throw new Error("invalid output, must be aligned");return e}function sI(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function cK(t,e,n){_b(n);const r=new Uint8Array(16),s=nK(r);return sI(s,0,BigInt(e),n),sI(s,8,BigInt(t),n),r}function lK(t){return t.byteOffset%4===0}function Ab(t){return Uint8Array.from(t)}const I3=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),uK=I3("expand 16-byte k"),dK=I3("expand 32-byte k"),hK=Yo(uK),fK=Yo(dK);function He(t,e){return t<<e|t>>>32-e}function Ib(t){return t.byteOffset%4===0}const Pp=64,pK=16,x3=2**32-1,iI=new Uint32Array;function gK(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(Pp),u=Yo(l),d=Ib(s)&&Ib(i),h=d?Yo(s):iI,f=d?Yo(i):iI;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=x3)throw new Error("arx: counter overflow");const g=Math.min(Pp,c-p);if(d&&g===Pp){const v=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let m=0,y;m<pK;m++)y=v+m,f[y]=h[y]^u[m];p+=Pp;continue}for(let v=0,m;v<g;v++)m=p+v,i[m]=s[m]^l[v];p+=g}}function mK(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=iK({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Vw(s),Vw(o),_b(i),_b(n),(a,c,l,u,d=0)=>{tr(a),tr(c),tr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),tr(u),Vw(d),d<0||d>=x3)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,v;if(p===32)f.push(g=Ab(a)),v=fK;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),v=hK,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);Ib(c)||f.push(c=Ab(c));const m=Yo(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(v,m,Yo(c.subarray(0,16)),m),c=c.subarray(16)}const y=16-s;if(y!==c.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(y!==12){const b=new Uint8Array(12);b.set(c,i?0:12-c.length),c=b,f.push(c)}const w=Yo(c);return gK(t,v,m,w,l,u,d,o),ou(...f),u}}const nn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class yK{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Sb(e),tr(e,32);const n=nn(e,0),r=nn(e,2),s=nn(e,4),i=nn(e,6),o=nn(e,8),a=nn(e,10),c=nn(e,12),l=nn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=nn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],v=o[9],m=nn(e,n+0),y=nn(e,n+2),w=nn(e,n+4),b=nn(e,n+6),E=nn(e,n+8),S=nn(e,n+10),_=nn(e,n+12),T=nn(e,n+14);let x=i[0]+(m&8191),k=i[1]+((m>>>13|y<<3)&8191),$=i[2]+((y>>>10|w<<6)&8191),M=i[3]+((w>>>7|b<<9)&8191),F=i[4]+((b>>>4|E<<12)&8191),q=i[5]+(E>>>1&8191),A=i[6]+((E>>>14|S<<2)&8191),I=i[7]+((S>>>11|_<<5)&8191),L=i[8]+((_>>>8|T<<8)&8191),R=i[9]+(T>>>5|s),O=0,D=O+x*a+k*(5*v)+$*(5*g)+M*(5*p)+F*(5*f);O=D>>>13,D&=8191,D+=q*(5*h)+A*(5*d)+I*(5*u)+L*(5*l)+R*(5*c),O+=D>>>13,D&=8191;let j=O+x*c+k*a+$*(5*v)+M*(5*g)+F*(5*p);O=j>>>13,j&=8191,j+=q*(5*f)+A*(5*h)+I*(5*d)+L*(5*u)+R*(5*l),O+=j>>>13,j&=8191;let V=O+x*l+k*c+$*a+M*(5*v)+F*(5*g);O=V>>>13,V&=8191,V+=q*(5*p)+A*(5*f)+I*(5*h)+L*(5*d)+R*(5*u),O+=V>>>13,V&=8191;let le=O+x*u+k*l+$*c+M*a+F*(5*v);O=le>>>13,le&=8191,le+=q*(5*g)+A*(5*p)+I*(5*f)+L*(5*h)+R*(5*d),O+=le>>>13,le&=8191;let te=O+x*d+k*u+$*l+M*c+F*a;O=te>>>13,te&=8191,te+=q*(5*v)+A*(5*g)+I*(5*p)+L*(5*f)+R*(5*h),O+=te>>>13,te&=8191;let pe=O+x*h+k*d+$*u+M*l+F*c;O=pe>>>13,pe&=8191,pe+=q*a+A*(5*v)+I*(5*g)+L*(5*p)+R*(5*f),O+=pe>>>13,pe&=8191;let ve=O+x*f+k*h+$*d+M*u+F*l;O=ve>>>13,ve&=8191,ve+=q*c+A*a+I*(5*v)+L*(5*g)+R*(5*p),O+=ve>>>13,ve&=8191;let Oe=O+x*p+k*f+$*h+M*d+F*u;O=Oe>>>13,Oe&=8191,Oe+=q*l+A*c+I*a+L*(5*v)+R*(5*g),O+=Oe>>>13,Oe&=8191;let rt=O+x*g+k*p+$*f+M*h+F*d;O=rt>>>13,rt&=8191,rt+=q*u+A*l+I*c+L*a+R*(5*v),O+=rt>>>13,rt&=8191;let $e=O+x*v+k*g+$*p+M*f+F*h;O=$e>>>13,$e&=8191,$e+=q*d+A*u+I*l+L*c+R*a,O+=$e>>>13,$e&=8191,O=(O<<2)+O|0,O=O+D|0,D=O&8191,O=O>>>13,j+=O,i[0]=D,i[1]=j,i[2]=V,i[3]=le,i[4]=te,i[5]=pe,i[6]=ve,i[7]=Oe,i[8]=rt,i[9]=$e}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;ou(r)}update(e){nI(this),e=Sb(e),tr(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){ou(this.h,this.r,this.buffer,this.pad)}digestInto(e){nI(this),tK(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function wK(t){const e=(r,s)=>t(s).update(Sb(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const vK=wK(t=>new yK(t));function bK(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],v=e[6],m=e[7],y=s,w=n[0],b=n[1],E=n[2],S=o,_=a,T=c,x=l,k=u,$=d,M=h,F=f,q=p,A=g,I=v,L=m,R=y,O=w,D=b,j=E;for(let le=0;le<i;le+=2)S=S+k|0,R=He(R^S,16),q=q+R|0,k=He(k^q,12),S=S+k|0,R=He(R^S,8),q=q+R|0,k=He(k^q,7),_=_+$|0,O=He(O^_,16),A=A+O|0,$=He($^A,12),_=_+$|0,O=He(O^_,8),A=A+O|0,$=He($^A,7),T=T+M|0,D=He(D^T,16),I=I+D|0,M=He(M^I,12),T=T+M|0,D=He(D^T,8),I=I+D|0,M=He(M^I,7),x=x+F|0,j=He(j^x,16),L=L+j|0,F=He(F^L,12),x=x+F|0,j=He(j^x,8),L=L+j|0,F=He(F^L,7),S=S+$|0,j=He(j^S,16),I=I+j|0,$=He($^I,12),S=S+$|0,j=He(j^S,8),I=I+j|0,$=He($^I,7),_=_+M|0,R=He(R^_,16),L=L+R|0,M=He(M^L,12),_=_+M|0,R=He(R^_,8),L=L+R|0,M=He(M^L,7),T=T+F|0,O=He(O^T,16),q=q+O|0,F=He(F^q,12),T=T+F|0,O=He(O^T,8),q=q+O|0,F=He(F^q,7),x=x+k|0,D=He(D^x,16),A=A+D|0,k=He(k^A,12),x=x+k|0,D=He(D^x,8),A=A+D|0,k=He(k^A,7);let V=0;r[V++]=o+S|0,r[V++]=a+_|0,r[V++]=c+T|0,r[V++]=l+x|0,r[V++]=u+k|0,r[V++]=d+$|0,r[V++]=h+M|0,r[V++]=f+F|0,r[V++]=p+q|0,r[V++]=g+A|0,r[V++]=v+I|0,r[V++]=m+L|0,r[V++]=y+R|0,r[V++]=w+O|0,r[V++]=b+D|0,r[V++]=E+j|0}const EK=mK(bK,{counterRight:!1,counterLength:4,allowShortKeys:!1}),CK=new Uint8Array(16),oI=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(CK.subarray(n))},_K=new Uint8Array(32);function aI(t,e,n,r,s){const i=t(e,n,_K),o=vK.create(i);s&&oI(o,s),oI(o,r);const a=cK(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return ou(i,a),c}const SK=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=rI(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=aI(t,e,n,a,r);return i.set(c,o),ou(c),i},decrypt(s,i){i=rI(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=aI(t,e,n,o,r);if(!oK(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),ou(c),i}}),N3=aK({blockSize:64,nonceLength:12,tagLength:16},SK(EK));let T3=class extends py{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,QE(e);const r=bs(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Yr(i)}update(e){return oa(this),this.iHash.update(e),this}digestInto(e){oa(this),ia(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const my=(t,e,n)=>new T3(t,e).update(n).digest();my.create=(t,e)=>new T3(t,e);function AK(t,e,n){return QE(t),n===void 0&&(n=new Uint8Array(t.outputLen)),my(t,bs(n),bs(e))}const Gw=Uint8Array.from([0]),cI=Uint8Array.of();function IK(t,e,n,r=32){QE(t),ji(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=cI);const o=new Uint8Array(i*s),a=my.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)Gw[0]=u+1,c.update(u===0?cI:l).update(n).update(Gw).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Yr(l,Gw),o.slice(0,r)}const xK=(t,e,n,r,s)=>IK(t,AK(t,e,n),r,s),yy=gy;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tC=BigInt(0),xb=BigInt(1);function Of(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function nC(t){if(!Of(t))throw new Error("Uint8Array expected")}function Fh(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Op(t){const e=t.toString(16);return e.length&1?"0"+e:e}function P3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?tC:BigInt("0x"+t)}const O3=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",NK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jh(t){if(nC(t),O3)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=NK[t[n]];return e}const pi={_0:48,_9:57,A:65,F:70,a:97,f:102};function lI(t){if(t>=pi._0&&t<=pi._9)return t-pi._0;if(t>=pi.A&&t<=pi.F)return t-(pi.A-10);if(t>=pi.a&&t<=pi.f)return t-(pi.a-10)}function um(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(O3)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=lI(t.charCodeAt(i)),a=lI(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Ya(t){return P3(jh(t))}function dm(t){return nC(t),P3(jh(Uint8Array.from(t).reverse()))}function Rf(t,e){return um(t.toString(16).padStart(e*2,"0"))}function rC(t,e){return Rf(t,e).reverse()}function Xn(t,e,n){let r;if(typeof e=="string")try{r=um(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Of(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function hm(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];nC(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Kw=t=>typeof t=="bigint"&&tC<=t;function sC(t,e,n){return Kw(t)&&Kw(e)&&Kw(n)&&e<=t&&t<n}function Zo(t,e,n,r){if(!sC(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function TK(t){let e;for(e=0;t>tC;t>>=xb,e+=1);return e}const wy=t=>(xb<<BigInt(t))-xb,Yw=t=>new Uint8Array(t),uI=t=>Uint8Array.from(t);function PK(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Yw(t),s=Yw(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...u)=>n(s,r,...u),c=(u=Yw(0))=>{s=a(uI([0]),u),r=a(),u.length!==0&&(s=a(uI([1]),u),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return hm(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const OK={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Of(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function kf(t,e,n={}){const r=(s,i,o)=>{const a=OK[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function dI(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const ir=BigInt(0),Un=BigInt(1),Ua=BigInt(2),RK=BigInt(3),R3=BigInt(4),k3=BigInt(5),$3=BigInt(8);function nr(t,e){const n=t%e;return n>=ir?n:e+n}function is(t,e,n){let r=t;for(;e-- >ir;)r*=r,r%=n;return r}function Nb(t,e){if(t===ir)throw new Error("invert: expected non-zero number");if(e<=ir)throw new Error("invert: expected positive modulus, got "+e);let n=nr(t,e),r=e,s=ir,i=Un;for(;n!==ir;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Un)throw new Error("invert: does not exist");return nr(s,e)}function D3(t,e){const n=(t.ORDER+Un)/R3,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function kK(t,e){const n=(t.ORDER-k3)/$3,r=t.mul(e,Ua),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Ua),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function $K(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Un,n=0;for(;e%Ua===ir;)e/=Ua,n++;let r=Ua;const s=$f(t);for(;hI(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return D3;let i=s.pow(r,e);const o=(e+Un)/Ua;return function(a,c){if(a.is0(c))return c;if(hI(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const g=Un<<BigInt(l-f-1),v=a.pow(u,g);l=f,u=a.sqr(v),d=a.mul(d,u),h=a.mul(h,v)}return h}}function DK(t){return t%R3===RK?D3:t%$3===k3?kK:$K(t)}const UK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=UK.reduce((r,s)=>(r[s]="function",r),e);return kf(t,n)}function MK(t,e,n){if(n<ir)throw new Error("invalid exponent, negatives unsupported");if(n===ir)return t.ONE;if(n===Un)return e;let r=t.ONE,s=e;for(;n>ir;)n&Un&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Un;return r}function U3(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function hI(t,e){const n=(t.ORDER-Un)/Ua,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function L3(t,e){e!==void 0&&ji(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function $f(t,e,n=!1,r={}){if(t<=ir)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=L3(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:wy(s),ZERO:ir,ONE:Un,create:c=>nr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ir<=c&&c<t},is0:c=>c===ir,isOdd:c=>(c&Un)===Un,neg:c=>nr(-c,t),eql:(c,l)=>c===l,sqr:c=>nr(c*c,t),add:(c,l)=>nr(c+l,t),sub:(c,l)=>nr(c-l,t),mul:(c,l)=>nr(c*l,t),pow:(c,l)=>MK(a,c,l),div:(c,l)=>nr(c*Nb(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Nb(c,t),sqrt:r.sqrt||(c=>(o||(o=DK(t)),o(a,c))),toBytes:c=>n?rC(c,i):Rf(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?dm(c):Ya(c)},invertBatch:c=>U3(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function M3(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function B3(t){const e=M3(t);return e+Math.ceil(e/2)}function BK(t,e,n=!1){const r=t.length,s=M3(e),i=B3(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?dm(t):Ya(t),a=nr(o,e-Un)+Un;return n?rC(a,s):Rf(a,s)}const fI=BigInt(0),Tb=BigInt(1);function Zw(t,e){const n=e.negate();return t?n:e}function F3(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Qw(t,e){F3(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=wy(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function pI(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Tb);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function FK(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function jK(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Jw=new WeakMap,j3=new WeakMap;function Xw(t){return j3.get(t)||1}function zK(t,e){return{constTimeNegate:Zw,hasPrecomputes(n){return Xw(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>fI;)r&Tb&&(s=s.add(i)),i=i.double(),r>>=Tb;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Qw(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=Qw(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=pI(s,c,a);s=l,d?o=o.add(Zw(f,r[p])):i=i.add(Zw(h,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=Qw(n,e);for(let a=0;a<o.windows&&s!==fI;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=pI(s,a,o);if(s=c,!u){const h=r[l];i=i.add(d?h.negate():h)}}return i},getPrecomputes(n,r,s){let i=Jw.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Jw.set(r,s(i))),i},wNAFCached(n,r,s){const i=Xw(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Xw(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){F3(r,e),j3.set(n,r),Jw.delete(n)}}}function HK(t,e,n,r){FK(n,t),jK(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=TK(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=wy(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<i;g++){const v=r[g],m=Number(v>>BigInt(f)&l);u[m]=u[m].add(n[g])}let p=o;for(let g=u.length-1,v=o;g>0;g--)v=v.add(u[g]),p=p.add(v);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function z3(t){return LK(t.Fp),kf(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...L3(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Zu=BigInt(0),jc=BigInt(1),Rp=BigInt(2);function WK(t){return kf(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function qK(t){const e=WK(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i}=e,o=r==="x25519";if(!o&&r!=="x448")throw new Error("invalid type");const a=o?255:448,c=o?32:56,l=BigInt(o?9:5),u=BigInt(o?121665:39081),d=o?Rp**BigInt(254):Rp**BigInt(447),h=o?BigInt(8)*Rp**BigInt(251)-jc:BigInt(4)*Rp**BigInt(445)-jc,f=d+h+jc,p=_=>nr(_,n),g=v(l);function v(_){return rC(p(_),c)}function m(_){const T=Xn("u coordinate",_,c);return o&&(T[31]&=127),p(dm(T))}function y(_){return dm(s(Xn("scalar",_,c)))}function w(_,T){const x=S(m(T),y(_));if(x===Zu)throw new Error("invalid private or public key received");return v(x)}function b(_){return w(_,g)}function E(_,T,x){const k=p(_*(T-x));return T=p(T-k),x=p(x+k),{x_2:T,x_3:x}}function S(_,T){Zo("u",_,Zu,n),Zo("scalar",T,d,f);const x=T,k=_;let $=jc,M=Zu,F=_,q=jc,A=Zu;for(let L=BigInt(a-1);L>=Zu;L--){const R=x>>L&jc;A^=R,{x_2:$,x_3:F}=E(A,$,F),{x_2:M,x_3:q}=E(A,M,q),A=R;const O=$+M,D=p(O*O),j=$-M,V=p(j*j),le=D-V,te=F+q,pe=F-q,ve=p(pe*O),Oe=p(te*j),rt=ve+Oe,$e=ve-Oe;F=p(rt*rt),q=p(k*p($e*$e)),$=p(D*V),M=p(le*(D+p(u*le)))}({x_2:$,x_3:F}=E(A,$,F)),{x_2:M,x_3:q}=E(A,M,q);const I=i(M);return p($*I)}return{scalarMult:w,scalarMultBase:b,getSharedSecret:(_,T)=>w(_,T),getPublicKey:_=>b(_),utils:{randomPrivateKey:()=>e.randomBytes(c)},GuBytes:g.slice()}}const Pb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const VK=BigInt(1),gI=BigInt(2),GK=BigInt(3),KK=BigInt(5);BigInt(8);function YK(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Pb,o=t*t%i*t%i,a=is(o,gI,i)*o%i,c=is(a,VK,i)*t%i,l=is(c,KK,i)*c%i,u=is(l,e,i)*l%i,d=is(u,n,i)*u%i,h=is(d,r,i)*d%i,f=is(h,s,i)*h%i,p=is(f,s,i)*h%i,g=is(p,e,i)*l%i;return{pow_p_5_8:is(g,gI,i)*t%i,b2:o}}function ZK(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Ob=qK({P:Pb,type:"x25519",powPminus2:t=>{const e=Pb,{pow_p_5_8:n,b2:r}=YK(t);return nr(is(n,GK,e)*r,e)},adjustScalarBytes:ZK,randomBytes:Su});function mI(t){t.lowS!==void 0&&Fh("lowS",t.lowS),t.prehash!==void 0&&Fh("prehash",t.prehash)}function QK(t){const e=z3(t);kf(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class JK extends Error{constructor(e=""){super(e)}}const _i={Err:JK,_tlv:{encode:(t,e)=>{const{Err:n}=_i;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Op(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Op(s.length/2|128):"";return Op(t)+i+s+e},decode(t,e){const{Err:n}=_i;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=_i;if(t<Ii)throw new e("integer: negative integers are not allowed");let n=Op(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=_i;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ya(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=_i,s=Xn("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=_i,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function e0(t,e){return jh(Rf(t,e))}const Ii=BigInt(0),Kt=BigInt(1);BigInt(2);const t0=BigInt(3),XK=BigInt(4);function eY(t){const e=QK(t),{Fp:n}=e,r=$f(e.n,e.nBitLength),s=e.toBytes||((w,b,E)=>{const S=b.toAffine();return hm(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),i=e.fromBytes||(w=>{const b=w.subarray(1),E=n.fromBytes(b.subarray(0,n.BYTES)),S=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:E,y:S}});function o(w){const{a:b,b:E}=e,S=n.sqr(w),_=n.mul(S,w);return n.add(n.add(_,n.mul(w,b)),E)}function a(w,b){const E=n.sqr(b),S=o(w);return n.eql(E,S)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,t0),XK),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return sC(w,Kt,e.n)}function d(w){const{allowedPrivateKeyLengths:b,nByteLength:E,wrapPrivateKey:S,n:_}=e;if(b&&typeof w!="bigint"){if(Of(w)&&(w=jh(w)),typeof w!="string"||!b.includes(w.length))throw new Error("invalid private key");w=w.padStart(E*2,"0")}let T;try{T=typeof w=="bigint"?w:Ya(Xn("private key",w,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof w)}return S&&(T=nr(T,_)),Zo("private key",T,Kt,_),T}function h(w){if(!(w instanceof g))throw new Error("ProjectivePoint expected")}const f=dI((w,b)=>{const{px:E,py:S,pz:_}=w;if(n.eql(_,n.ONE))return{x:E,y:S};const T=w.is0();b==null&&(b=T?n.ONE:n.inv(_));const x=n.mul(E,b),k=n.mul(S,b),$=n.mul(_,b);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x,y:k}}),p=dI(w=>{if(w.is0()){if(e.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:b,y:E}=w.toAffine();if(!n.isValid(b)||!n.isValid(E))throw new Error("bad point: x or y not FE");if(!a(b,E))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(b,E,S){if(b==null||!n.isValid(b))throw new Error("x required");if(E==null||!n.isValid(E)||n.is0(E))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");this.px=b,this.py=E,this.pz=S,Object.freeze(this)}static fromAffine(b){const{x:E,y:S}=b||{};if(!b||!n.isValid(E)||!n.isValid(S))throw new Error("invalid affine point");if(b instanceof g)throw new Error("projective point not allowed");const _=T=>n.eql(T,n.ZERO);return _(E)&&_(S)?g.ZERO:new g(E,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const E=U3(n,b.map(S=>S.pz));return b.map((S,_)=>S.toAffine(E[_])).map(g.fromAffine)}static fromHex(b){const E=g.fromAffine(i(Xn("pointHex",b)));return E.assertValidity(),E}static fromPrivateKey(b){return g.BASE.multiply(d(b))}static msm(b,E){return HK(g,r,b,E)}_setWindowSize(b){y.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:E,py:S,pz:_}=this,{px:T,py:x,pz:k}=b,$=n.eql(n.mul(E,k),n.mul(T,_)),M=n.eql(n.mul(S,k),n.mul(x,_));return $&&M}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:E}=e,S=n.mul(E,t0),{px:_,py:T,pz:x}=this;let k=n.ZERO,$=n.ZERO,M=n.ZERO,F=n.mul(_,_),q=n.mul(T,T),A=n.mul(x,x),I=n.mul(_,T);return I=n.add(I,I),M=n.mul(_,x),M=n.add(M,M),k=n.mul(b,M),$=n.mul(S,A),$=n.add(k,$),k=n.sub(q,$),$=n.add(q,$),$=n.mul(k,$),k=n.mul(I,k),M=n.mul(S,M),A=n.mul(b,A),I=n.sub(F,A),I=n.mul(b,I),I=n.add(I,M),M=n.add(F,F),F=n.add(M,F),F=n.add(F,A),F=n.mul(F,I),$=n.add($,F),A=n.mul(T,x),A=n.add(A,A),F=n.mul(A,I),k=n.sub(k,F),M=n.mul(A,q),M=n.add(M,M),M=n.add(M,M),new g(k,$,M)}add(b){h(b);const{px:E,py:S,pz:_}=this,{px:T,py:x,pz:k}=b;let $=n.ZERO,M=n.ZERO,F=n.ZERO;const q=e.a,A=n.mul(e.b,t0);let I=n.mul(E,T),L=n.mul(S,x),R=n.mul(_,k),O=n.add(E,S),D=n.add(T,x);O=n.mul(O,D),D=n.add(I,L),O=n.sub(O,D),D=n.add(E,_);let j=n.add(T,k);return D=n.mul(D,j),j=n.add(I,R),D=n.sub(D,j),j=n.add(S,_),$=n.add(x,k),j=n.mul(j,$),$=n.add(L,R),j=n.sub(j,$),F=n.mul(q,D),$=n.mul(A,R),F=n.add($,F),$=n.sub(L,F),F=n.add(L,F),M=n.mul($,F),L=n.add(I,I),L=n.add(L,I),R=n.mul(q,R),D=n.mul(A,D),L=n.add(L,R),R=n.sub(I,R),R=n.mul(q,R),D=n.add(D,R),I=n.mul(L,D),M=n.add(M,I),I=n.mul(j,D),$=n.mul(O,$),$=n.sub($,I),I=n.mul(O,L),F=n.mul(j,F),F=n.add(F,I),new g($,M,F)}subtract(b){return this.add(b.negate())}is0(){return this.equals(g.ZERO)}wNAF(b){return y.wNAFCached(this,b,g.normalizeZ)}multiplyUnsafe(b){const{endo:E,n:S}=e;Zo("scalar",b,Ii,S);const _=g.ZERO;if(b===Ii)return _;if(this.is0()||b===Kt)return this;if(!E||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,b,g.normalizeZ);let{k1neg:T,k1:x,k2neg:k,k2:$}=E.splitScalar(b),M=_,F=_,q=this;for(;x>Ii||$>Ii;)x&Kt&&(M=M.add(q)),$&Kt&&(F=F.add(q)),q=q.double(),x>>=Kt,$>>=Kt;return T&&(M=M.negate()),k&&(F=F.negate()),F=new g(n.mul(F.px,E.beta),F.py,F.pz),M.add(F)}multiply(b){const{endo:E,n:S}=e;Zo("scalar",b,Kt,S);let _,T;if(E){const{k1neg:x,k1:k,k2neg:$,k2:M}=E.splitScalar(b);let{p:F,f:q}=this.wNAF(k),{p:A,f:I}=this.wNAF(M);F=y.constTimeNegate(x,F),A=y.constTimeNegate($,A),A=new g(n.mul(A.px,E.beta),A.py,A.pz),_=F.add(A),T=q.add(I)}else{const{p:x,f:k}=this.wNAF(b);_=x,T=k}return g.normalizeZ([_,T])[0]}multiplyAndAddUnsafe(b,E,S){const _=g.BASE,T=(k,$)=>$===Ii||$===Kt||!k.equals(_)?k.multiplyUnsafe($):k.multiply($),x=T(this,E).add(T(b,S));return x.is0()?void 0:x}toAffine(b){return f(this,b)}isTorsionFree(){const{h:b,isTorsionFree:E}=e;if(b===Kt)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:E}=e;return b===Kt?this:E?E(g,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return Fh("isCompressed",b),this.assertValidity(),s(g,this,b)}toHex(b=!0){return Fh("isCompressed",b),jh(this.toRawBytes(b))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:v,nBitLength:m}=e,y=zK(g,v?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function tY(t){const e=z3(t);return kf(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function nY(t){const e=tY(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(A){return nr(A,r)}function l(A){return Nb(A,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=eY({...e,toBytes(A,I,L){const R=I.toAffine(),O=n.toBytes(R.x),D=hm;return Fh("isCompressed",L),L?D(Uint8Array.from([I.hasEvenY()?2:3]),O):D(Uint8Array.from([4]),O,n.toBytes(R.y))},fromBytes(A){const I=A.length,L=A[0],R=A.subarray(1);if(I===o&&(L===2||L===3)){const O=Ya(R);if(!sC(O,Kt,n.ORDER))throw new Error("Point is not on curve");const D=h(O);let j;try{j=n.sqrt(D)}catch(le){const te=le instanceof Error?": "+le.message:"";throw new Error("Point is not on curve"+te)}const V=(j&Kt)===Kt;return(L&1)===1!==V&&(j=n.neg(j)),{x:O,y:j}}else if(I===a&&L===4){const O=n.fromBytes(R.subarray(0,n.BYTES)),D=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:O,y:D}}else{const O=o,D=a;throw new Error("invalid Point, expected length of "+O+", or uncompressed "+D+", got "+I)}}});function p(A){const I=r>>Kt;return A>I}function g(A){return p(A)?c(-A):A}const v=(A,I,L)=>Ya(A.slice(I,L));class m{constructor(I,L,R){Zo("r",I,Kt,r),Zo("s",L,Kt,r),this.r=I,this.s=L,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(I){const L=s;return I=Xn("compactSignature",I,L*2),new m(v(I,0,L),v(I,L,2*L))}static fromDER(I){const{r:L,s:R}=_i.toSig(Xn("DER",I));return new m(L,R)}assertValidity(){}addRecoveryBit(I){return new m(this.r,this.s,I)}recoverPublicKey(I){const{r:L,s:R,recovery:O}=this,D=_(Xn("msgHash",I));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const j=O===2||O===3?L+e.n:L;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=O&1?"03":"02",le=u.fromHex(V+e0(j,n.BYTES)),te=l(j),pe=c(-D*te),ve=c(R*te),Oe=u.BASE.multiplyAndAddUnsafe(le,pe,ve);if(!Oe)throw new Error("point at infinify");return Oe.assertValidity(),Oe}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return um(this.toDERHex())}toDERHex(){return _i.hexFromSig(this)}toCompactRawBytes(){return um(this.toCompactHex())}toCompactHex(){const I=s;return e0(this.r,I)+e0(this.s,I)}}const y={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=B3(e.n);return BK(e.randomBytes(A),e.n)},precompute(A=8,I=u.BASE){return I._setWindowSize(A),I.multiply(BigInt(3)),I}};function w(A,I=!0){return u.fromPrivateKey(A).toRawBytes(I)}function b(A){if(typeof A=="bigint")return!1;if(A instanceof u)return!0;const I=Xn("key",A).length,L=n.BYTES,R=L+1,O=2*L+1;if(!(e.allowedPrivateKeyLengths||s===R))return I===R||I===O}function E(A,I,L=!0){if(b(A)===!0)throw new Error("first arg must be private key");if(b(I)===!1)throw new Error("second arg must be public key");return u.fromHex(I).multiply(d(A)).toRawBytes(L)}const S=e.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const I=Ya(A),L=A.length*8-i;return L>0?I>>BigInt(L):I},_=e.bits2int_modN||function(A){return c(S(A))},T=wy(i);function x(A){return Zo("num < 2^"+i,A,Ii,T),Rf(A,s)}function k(A,I,L=$){if(["recovered","canonical"].some($e=>$e in L))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:O}=e;let{lowS:D,prehash:j,extraEntropy:V}=L;D==null&&(D=!0),A=Xn("msgHash",A),mI(L),j&&(A=Xn("prehashed msgHash",R(A)));const le=_(A),te=d(I),pe=[x(te),x(le)];if(V!=null&&V!==!1){const $e=V===!0?O(n.BYTES):V;pe.push(Xn("extraEntropy",$e))}const ve=hm(...pe),Oe=le;function rt($e){const Ut=S($e);if(!f(Ut))return;const On=l(Ut),pr=u.BASE.multiply(Ut).toAffine(),Or=c(pr.x);if(Or===Ii)return;const jn=c(On*c(Oe+Or*te));if(jn===Ii)return;let oi=(pr.x===Or?0:2)|Number(pr.y&Kt),Wf=jn;return D&&p(jn)&&(Wf=g(jn),oi^=1),new m(Or,Wf,oi)}return{seed:ve,k2sig:rt}}const $={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function F(A,I,L=$){const{seed:R,k2sig:O}=k(A,I,L),D=e;return PK(D.hash.outputLen,D.nByteLength,D.hmac)(R,O)}u.BASE._setWindowSize(8);function q(A,I,L,R=M){var jn;const O=A;I=Xn("msgHash",I),L=Xn("publicKey",L);const{lowS:D,prehash:j,format:V}=R;if(mI(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const le=typeof O=="string"||Of(O),te=!le&&!V&&typeof O=="object"&&O!==null&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!le&&!te)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let pe,ve;try{if(te&&(pe=new m(O.r,O.s)),le){try{V!=="compact"&&(pe=m.fromDER(O))}catch(oi){if(!(oi instanceof _i.Err))throw oi}!pe&&V!=="der"&&(pe=m.fromCompact(O))}ve=u.fromHex(L)}catch{return!1}if(!pe||D&&pe.hasHighS())return!1;j&&(I=e.hash(I));const{r:Oe,s:rt}=pe,$e=_(I),Ut=l(rt),On=c($e*Ut),pr=c(Oe*Ut),Or=(jn=u.BASE.multiplyAndAddUnsafe(ve,On,pr))==null?void 0:jn.toAffine();return Or?c(Or.x)===Oe:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:E,sign:F,verify:q,ProjectivePoint:u,Signature:m,utils:y}}function rY(t){return{hash:t,hmac:(e,...n)=>my(t,e,JV(...n)),randomBytes:Su}}function iC(t,e){const n=r=>nY({...t,...rY(r)});return{...n(e),create:n}}const H3=$f(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),sY=H3.create(BigInt("-3")),iY=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),oY=iC({a:sY,b:iY,Fp:H3,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},gy),W3=$f(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),aY=W3.create(BigInt("-3")),cY=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef");iC({a:aY,b:cY,Fp:W3,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},EG);const q3=$f(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),lY=q3.create(BigInt("-3")),uY=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00");iC({a:lY,b:uY,Fp:q3,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},bG);const dY=oY,V3="base10",Ln="base16",ms="base64pad",Co="base64url",Df="utf8",G3=0,Ri=1,Uf=2,hY=0,yI=1,$d=12,oC=32;function fY(){const t=Ob.utils.randomPrivateKey(),e=Ob.getPublicKey(t);return{privateKey:ur(t,Ln),publicKey:ur(e,Ln)}}function Rb(){const t=Su(oC);return ur(t,Ln)}function pY(t,e){const n=Ob.getSharedSecret(Hr(t,Ln),Hr(e,Ln)),r=xK(yy,n,void 0,void 0,oC);return ur(r,Ln)}function cg(t){const e=yy(Hr(t,Ln));return ur(e,Ln)}function zs(t){const e=yy(Hr(t,Df));return ur(e,Ln)}function K3(t){return Hr(`${t}`,V3)}function mc(t){return Number(ur(t,V3))}function Y3(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Z3(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function gY(t){const e=K3(typeof t.type<"u"?t.type:G3);if(mc(e)===Ri&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Hr(t.senderPublicKey,Ln):void 0,r=typeof t.iv<"u"?Hr(t.iv,Ln):Su($d),s=Hr(t.symKey,Ln),i=N3(s,r).encrypt(Hr(t.message,Df)),o=Q3({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Co?Y3(o):o}function mY(t){const e=Hr(t.symKey,Ln),{sealed:n,iv:r}=zh({encoded:t.encoded,encoding:t.encoding}),s=N3(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return ur(s,Df)}function yY(t,e){const n=K3(Uf),r=Su($d),s=Hr(t,Df),i=Q3({type:n,sealed:s,iv:r});return e===Co?Y3(i):i}function wY(t,e){const{sealed:n}=zh({encoded:t,encoding:e});return ur(n,Df)}function Q3(t){if(mc(t.type)===Uf)return ur(kd([t.type,t.sealed]),ms);if(mc(t.type)===Ri){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ur(kd([t.type,t.senderPublicKey,t.iv,t.sealed]),ms)}return ur(kd([t.type,t.iv,t.sealed]),ms)}function zh(t){const e=(t.encoding||ms)===Co?Z3(t.encoded):t.encoded,n=Hr(e,ms),r=n.slice(hY,yI),s=yI;if(mc(r)===Ri){const c=s+oC,l=c+$d,u=n.slice(s,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(mc(r)===Uf){const c=n.slice(s),l=Su($d);return{type:r,sealed:c,iv:l}}const i=s+$d,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function vY(t,e){const n=zh({encoded:t,encoding:e==null?void 0:e.encoding});return J3({type:mc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ur(n.senderPublicKey,Ln):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function J3(t){const e=(t==null?void 0:t.type)||G3;if(e===Ri){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function wI(t){return t.type===Ri&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function vI(t){return t.type===Uf}function bY(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return kd([new Uint8Array([4]),e,n])}function EY(t,e){const[n,r,s]=t.split("."),i=Buffer.from(Z3(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=yy(c),u=bY(e);if(!dY.verify(kd([o,a]),l,u))throw new Error("Invalid signature");return fb(t).payload}const CY="irn";function fm(t){return(t==null?void 0:t.relay)||{protocol:CY}}function yd(t){const e=Xq[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function _Y(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function bI(t){if(!t.includes("wc:")){const l=u3(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:SY(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:_Y(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function SY(t){return t.startsWith("//")?t.substring(2):t}function AY(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function EI(t){const e=new URLSearchParams,n=AY(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function kp(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var IY=Object.defineProperty,xY=Object.defineProperties,NY=Object.getOwnPropertyDescriptors,CI=Object.getOwnPropertySymbols,TY=Object.prototype.hasOwnProperty,PY=Object.prototype.propertyIsEnumerable,_I=(t,e,n)=>e in t?IY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OY=(t,e)=>{for(var n in e||(e={}))TY.call(e,n)&&_I(t,n,e[n]);if(CI)for(var n of CI(e))PY.call(e,n)&&_I(t,n,e[n]);return t},RY=(t,e)=>xY(t,NY(e));function Au(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function kY(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Au(n.accounts))}),e}function $Y(t,e){const n=[];return Object.values(t).forEach(r=>{Au(r.accounts).includes(e)&&n.push(...r.methods)}),n}function DY(t,e){const n=[];return Object.values(t).forEach(r=>{Au(r.accounts).includes(e)&&n.push(...r.events)}),n}function vy(t){return t.includes(":")}function yl(t){return vy(t)?t.split(":")[0]:t}function SI(t){var e,n,r;const s={};if(!Qo(t))return s;for(const[i,o]of Object.entries(t)){const a=vy(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=yl(i);s[u]=RY(OY({},s[u]),{chains:Zs(a,(e=s[u])==null?void 0:e.chains),methods:Zs(c,(n=s[u])==null?void 0:n.methods),events:Zs(l,(r=s[u])==null?void 0:r.events)})}return s}function UY(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function AI(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=UY(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Zs(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function LY(t,e){var n,r,s,i,o,a;const c=SI(t),l=SI(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Zs((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:Zs((s=c[h])==null?void 0:s.methods,(i=l[h])==null?void 0:i.methods),events:Zs((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const MY={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},BY={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Q(t,e){const{message:n,code:r}=BY[t];return{message:e?`${n} ${e}`:n,code:r}}function ot(t,e){const{message:n,code:r}=MY[t];return{message:e?`${n} ${e}`:n,code:r}}function ki(t,e){return!!Array.isArray(t)}function Qo(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function cn(t){return typeof t>"u"}function $t(t,e){return e&&cn(t)?!0:typeof t=="string"&&!!t.trim().length}function aC(t,e){return e&&cn(t)?!0:typeof t=="number"&&!isNaN(t)}function FY(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return Da(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Au(a),d=n[o];(!Da(i3(o,d),u)||!Da(d.methods,c)||!Da(d.events,l))&&(i=!1)}),i):!1}function pm(t){return $t(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function jY(t){if($t(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&pm(n)}}return!1}function zY(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if($t(t,!1)){if(e(t))return!0;const n=u3(t);return e(n)}}catch{}return!1}function HY(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function WY(t){return t==null?void 0:t.topic}function qY(t,e){let n=null;return $t(t==null?void 0:t.publicKey,!1)||(n=Q("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function II(t){let e=!0;return ki(t)?t.length&&(e=t.every(n=>$t(n,!1))):e=!1,e}function VY(t,e,n){let r=null;return ki(e)&&e.length?e.forEach(s=>{r||pm(s)||(r=ot("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):pm(t)||(r=ot("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function GY(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=VY(s,i3(s,i),`${e} ${n}`);o&&(r=o)}),r}function KY(t,e){let n=null;return ki(t)?t.forEach(r=>{n||jY(r)||(n=ot("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=ot("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function YY(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=KY(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function ZY(t,e){let n=null;return II(t==null?void 0:t.methods)?II(t==null?void 0:t.events)||(n=ot("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=ot("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function X3(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=ZY(r,`${e}, namespace`);s&&(n=s)}),n}function QY(t,e,n){let r=null;if(t&&Qo(t)){const s=X3(t,e);s&&(r=s);const i=GY(t,e,n);i&&(r=i)}else r=Q("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function n0(t,e){let n=null;if(t&&Qo(t)){const r=X3(t,e);r&&(n=r);const s=YY(t,e);s&&(n=s)}else n=Q("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function ek(t){return $t(t.protocol,!0)}function JY(t,e){let n=!1;return t?t&&ki(t)&&t.length&&t.forEach(r=>{n=ek(r)}):n=!0,n}function XY(t){return typeof t=="number"}function Zn(t){return typeof t<"u"&&typeof t!==null}function eZ(t){return!(!t||typeof t!="object"||!t.code||!aC(t.code,!1)||!t.message||!$t(t.message,!1))}function tZ(t){return!(cn(t)||!$t(t.method,!1))}function nZ(t){return!(cn(t)||cn(t.result)&&cn(t.error)||!aC(t.id,!1)||!$t(t.jsonrpc,!1))}function rZ(t){return!(cn(t)||!$t(t.name,!1))}function xI(t,e){return!(!pm(e)||!kY(t).includes(e))}function sZ(t,e,n){return $t(n,!1)?$Y(t,e).includes(n):!1}function iZ(t,e,n){return $t(n,!1)?DY(t,e).includes(n):!1}function NI(t,e,n){let r=null;const s=oZ(t),i=aZ(e),o=Object.keys(s),a=Object.keys(i),c=TI(Object.keys(t)),l=TI(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Q("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Da(o,a)||(r=Q("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Au(e[d].accounts);h.includes(d)||(r=Q("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(Da(s[d].methods,i[d].methods)?Da(s[d].events,i[d].events)||(r=Q("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Q("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function oZ(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function TI(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function aZ(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Au(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function cZ(t,e){return aC(t,!1)&&t<=e.max&&t>=e.min}function PI(){const t=Tf();return new Promise(e=>{switch(t){case _r.browser:e(lZ());break;case _r.reactNative:e(uZ());break;case _r.node:e(dZ());break;default:e(!0)}})}function lZ(){return _u()&&(navigator==null?void 0:navigator.onLine)}async function uZ(){if(pa()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function dZ(){return!0}function hZ(t){switch(Tf()){case _r.browser:fZ(t);break;case _r.reactNative:pZ(t);break}}function fZ(t){!pa()&&_u()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function pZ(t){pa()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function gZ(){var t;return _u()&&fc()?((t=fc())==null?void 0:t.visibilityState)==="visible":!0}const r0={};class Qu{static get(e){return r0[e]}static set(e,n){r0[e]=n}static delete(e){delete r0[e]}}function mZ(t){const e=Cu.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function yZ({publicKey:t,signature:e,payload:n}){var r;const s=kb(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=bZ(n.address),a=n.era==="00"?new Uint8Array([0]):kb(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${vZ(n.tip)}`),d=CZ(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),f=EZ(h.length+1);return new Uint8Array([...f,i,...h])}function wZ(t){const e=kb(t),n=dV.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function kb(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function vZ(t){return t.startsWith("0x")?t.slice(2):t}function bZ(t){const e=Cu.decode(t)[0];return e===42?0:e===60?2:1}function EZ(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function CZ(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function _Z(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=mZ(t.transaction.address),r=yZ({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return wZ(s)}const SZ="PARSE_ERROR",AZ="INVALID_REQUEST",IZ="METHOD_NOT_FOUND",xZ="INVALID_PARAMS",tk="INTERNAL_ERROR",cC="SERVER_ERROR",NZ=[-32700,-32600,-32601,-32602,-32603],Dd={[SZ]:{code:-32700,message:"Parse error"},[AZ]:{code:-32600,message:"Invalid Request"},[IZ]:{code:-32601,message:"Method not found"},[xZ]:{code:-32602,message:"Invalid params"},[tk]:{code:-32603,message:"Internal error"},[cC]:{code:-32e3,message:"Server error"}},nk=cC;function TZ(t){return NZ.includes(t)}function OI(t){return Object.keys(Dd).includes(t)?Dd[t]:Dd[nk]}function PZ(t){const e=Object.values(Dd).find(n=>n.code===t);return e||Dd[nk]}function rk(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var sk={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $b=function(t,e){return $b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},$b(t,e)};function OZ(t,e){$b(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Db=function(){return Db=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Db.apply(this,arguments)};function RZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kZ(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function $Z(t,e){return function(n,r){e(n,r,t)}}function DZ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function UZ(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function LZ(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function MZ(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function BZ(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ub(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ik(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function FZ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ik(arguments[e]));return t}function jZ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Hh(t){return this instanceof Hh?(this.v=t,this):new Hh(t)}function zZ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(i[0][3],p)}}function c(h){h.value instanceof Hh?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function HZ(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Hh(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function WZ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ub=="function"?Ub(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function qZ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function VZ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function GZ(t){return t&&t.__esModule?t:{default:t}}function KZ(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function YZ(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const ZZ=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Db},__asyncDelegator:HZ,__asyncGenerator:zZ,__asyncValues:WZ,__await:Hh,__awaiter:UZ,__classPrivateFieldGet:KZ,__classPrivateFieldSet:YZ,__createBinding:MZ,__decorate:kZ,__exportStar:BZ,__extends:OZ,__generator:LZ,__importDefault:GZ,__importStar:VZ,__makeTemplateObject:qZ,__metadata:DZ,__param:$Z,__read:ik,__rest:RZ,__spread:FZ,__spreadArrays:jZ,__values:Ub},Symbol.toStringTag,{value:"Module"})),QZ=m2(ZZ);var gi={},RI;function JZ(){if(RI)return gi;RI=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.isBrowserCryptoAvailable=gi.getSubtleCrypto=gi.getBrowerCrypto=void 0;function t(){return(Fs==null?void 0:Fs.crypto)||(Fs==null?void 0:Fs.msCrypto)||{}}gi.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}gi.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return gi.isBrowserCryptoAvailable=n,gi}var mi={},kI;function XZ(){if(kI)return mi;kI=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.isBrowser=mi.isNode=mi.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}mi.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}mi.isNode=e;function n(){return!t()&&!e()}return mi.isBrowser=n,mi}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=QZ;e.__exportStar(JZ(),t),e.__exportStar(XZ(),t)})(sk);function Ds(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function La(t=6){return BigInt(Ds(t))}function Uo(t,e,n){return{id:n||Ds(),jsonrpc:"2.0",method:t,params:e}}function by(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Ey(t,e,n){return{id:t,jsonrpc:"2.0",error:eQ(e)}}function eQ(t,e){return typeof t>"u"?OI(tk):(typeof t=="string"&&(t=Object.assign(Object.assign({},OI(cC)),{message:t})),TZ(t.code)&&(t=PZ(t.code)),t)}let tQ=class{},nQ=class extends tQ{constructor(){super()}},rQ=class extends nQ{constructor(e){super()}};const sQ="^https?:",iQ="^wss?:";function oQ(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function ok(t,e){const n=oQ(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function $I(t){return ok(t,sQ)}function DI(t){return ok(t,iQ)}function aQ(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function ak(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function lC(t){return ak(t)&&"method"in t}function Cy(t){return ak(t)&&(Us(t)||Br(t))}function Us(t){return"result"in t}function Br(t){return"error"in t}let Jr=class extends rQ{constructor(e){super(e),this.events=new Qr.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Uo(e.method,e.params||[],e.id||La().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Br(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Cy(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const cQ=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),lQ=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",UI=t=>t.split("?")[0],LI=10,uQ=cQ();let dQ=class{constructor(e){if(this.url=e,this.events=new Qr.EventEmitter,this.registering=!1,!DI(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Fi(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!DI(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=sk.isReactNative()?void 0:{rejectUnauthorized:!aQ(e)},i=new uQ(e,[],s);lQ()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?hc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Ey(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return rk(e,UI(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>LI&&this.events.setMaxListeners(LI)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${UI(this.url)}`));return this.events.emit("register_error",n),n}};var hQ={};const ck="wc",lk=2,Lb="core",ei=`${ck}@2:${Lb}:`,fQ={logger:"error"},pQ={database:":memory:"},gQ="crypto",MI="client_ed25519_seed",mQ=Z.ONE_DAY,yQ="keychain",wQ="0.3",vQ="messages",bQ="0.3",BI=Z.SIX_HOURS,EQ="publisher",uk="irn",CQ="error",dk="wss://relay.walletconnect.org",_Q="relayer",Zt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},SQ="_subscription",$r={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},AQ=.1,Mb="2.21.2",mt={link_mode:"link_mode",relay:"relay"},lg={inbound:"inbound",outbound:"outbound"},IQ="0.3",xQ="WALLETCONNECT_CLIENT_ID",FI="WALLETCONNECT_LINK_MODE_APPS",yr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},NQ="subscription",TQ="0.3",PQ="pairing",OQ="0.3",Ju={wc_pairingDelete:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Z.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Z.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:0},res:{ttl:Z.ONE_DAY,prompt:!1,tag:0}}},xa={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ns={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},RQ="history",kQ="0.3",$Q="expirer",Lr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},DQ="0.3",UQ="verify-api",LQ="https://verify.walletconnect.com",hk="https://verify.walletconnect.org",Ud=hk,MQ=`${Ud}/v3`,BQ=[LQ,hk],FQ="echo",jQ="https://echo.walletconnect.com",ks={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},vi={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},rs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},va={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},ba={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Xu={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},zQ=.1,HQ="event-client",WQ=86400,qQ="https://pulse.walletconnect.org/batch";function VQ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,v=0,m=0,y=p.length;m!==y&&p[m]===0;)m++,g++;for(var w=(y-m)*u+1>>>0,b=new Uint8Array(w);m!==y;){for(var E=p[m],S=0,_=w-1;(E!==0||S<v)&&_!==-1;_--,S++)E+=256*b[_]>>>0,b[_]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");v=S,m++}for(var T=w-v;T!==w&&b[T]===0;)T++;for(var x=c.repeat(g);T<w;++T)x+=t.charAt(b[T]);return x}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var v=0,m=0;p[g]===c;)v++,g++;for(var y=(p.length-g)*l+1>>>0,w=new Uint8Array(y);p[g];){var b=n[p.charCodeAt(g)];if(b===255)return;for(var E=0,S=y-1;(b!==0||E<m)&&S!==-1;S--,E++)b+=a*w[S]>>>0,w[S]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");m=E,g++}if(p[g]!==" "){for(var _=y-m;_!==y&&w[_]===0;)_++;for(var T=new Uint8Array(v+(y-_)),x=v;_!==y;)T[x++]=w[_++];return T}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var GQ=VQ,KQ=GQ;const fk=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},YQ=t=>new TextEncoder().encode(t),ZQ=t=>new TextDecoder().decode(t);class QQ{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class JQ{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return pk(this,e)}}class XQ{constructor(e){this.decoders=e}or(e){return pk(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const pk=(t,e)=>new XQ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class eJ{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new QQ(e,n,r),this.decoder=new JQ(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _y=({name:t,prefix:e,encode:n,decode:r})=>new eJ(t,e,n,r),Lf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=KQ(n,e);return _y({prefix:t,name:e,encode:r,decode:i=>fk(s(i))})},tJ=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},nJ=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},mn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>_y({prefix:e,name:t,encode(s){return nJ(s,r,n)},decode(s){return tJ(s,r,n,t)}}),rJ=_y({prefix:"\0",name:"identity",encode:t=>ZQ(t),decode:t=>YQ(t)});var sJ=Object.freeze({__proto__:null,identity:rJ});const iJ=mn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var oJ=Object.freeze({__proto__:null,base2:iJ});const aJ=mn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var cJ=Object.freeze({__proto__:null,base8:aJ});const lJ=Lf({prefix:"9",name:"base10",alphabet:"0123456789"});var uJ=Object.freeze({__proto__:null,base10:lJ});const dJ=mn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hJ=mn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var fJ=Object.freeze({__proto__:null,base16:dJ,base16upper:hJ});const pJ=mn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gJ=mn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mJ=mn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yJ=mn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wJ=mn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vJ=mn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bJ=mn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),EJ=mn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),CJ=mn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var _J=Object.freeze({__proto__:null,base32:pJ,base32upper:gJ,base32pad:mJ,base32padupper:yJ,base32hex:wJ,base32hexupper:vJ,base32hexpad:bJ,base32hexpadupper:EJ,base32z:CJ});const SJ=Lf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),AJ=Lf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var IJ=Object.freeze({__proto__:null,base36:SJ,base36upper:AJ});const xJ=Lf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),NJ=Lf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var TJ=Object.freeze({__proto__:null,base58btc:xJ,base58flickr:NJ});const PJ=mn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),OJ=mn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),RJ=mn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kJ=mn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $J=Object.freeze({__proto__:null,base64:PJ,base64pad:OJ,base64url:RJ,base64urlpad:kJ});const gk=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),DJ=gk.reduce((t,e,n)=>(t[n]=e,t),[]),UJ=gk.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function LJ(t){return t.reduce((e,n)=>(e+=DJ[n],e),"")}function MJ(t){const e=[];for(const n of t){const r=UJ[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const BJ=_y({prefix:"🚀",name:"base256emoji",encode:LJ,decode:MJ});var FJ=Object.freeze({__proto__:null,base256emoji:BJ}),jJ=mk,jI=128,zJ=-128,HJ=Math.pow(2,31);function mk(t,e,n){e=e||[],n=n||0;for(var r=n;t>=HJ;)e[n++]=t&255|jI,t/=128;for(;t&zJ;)e[n++]=t&255|jI,t>>>=7;return e[n]=t|0,mk.bytes=n-r+1,e}var WJ=Bb,qJ=128,zI=127;function Bb(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw Bb.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&zI)<<s:(o&zI)*Math.pow(2,s),s+=7}while(o>=qJ);return Bb.bytes=i-r,n}var VJ=Math.pow(2,7),GJ=Math.pow(2,14),KJ=Math.pow(2,21),YJ=Math.pow(2,28),ZJ=Math.pow(2,35),QJ=Math.pow(2,42),JJ=Math.pow(2,49),XJ=Math.pow(2,56),eX=Math.pow(2,63),tX=function(t){return t<VJ?1:t<GJ?2:t<KJ?3:t<YJ?4:t<ZJ?5:t<QJ?6:t<JJ?7:t<XJ?8:t<eX?9:10},nX={encode:jJ,decode:WJ,encodingLength:tX},yk=nX;const HI=(t,e,n=0)=>(yk.encode(t,e,n),e),WI=t=>yk.encodingLength(t),Fb=(t,e)=>{const n=e.byteLength,r=WI(t),s=r+WI(n),i=new Uint8Array(s+n);return HI(t,i,0),HI(n,i,r),i.set(e,s),new rX(t,n,e,i)};class rX{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const wk=({name:t,code:e,encode:n})=>new sX(t,e,n);class sX{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Fb(this.code,n):n.then(r=>Fb(this.code,r))}else throw Error("Unknown type, must be binary type")}}const vk=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),iX=wk({name:"sha2-256",code:18,encode:vk("SHA-256")}),oX=wk({name:"sha2-512",code:19,encode:vk("SHA-512")});var aX=Object.freeze({__proto__:null,sha256:iX,sha512:oX});const bk=0,cX="identity",Ek=fk,lX=t=>Fb(bk,Ek(t)),uX={code:bk,name:cX,encode:Ek,digest:lX};var dX=Object.freeze({__proto__:null,identity:uX});new TextEncoder,new TextDecoder;const qI={...sJ,...oJ,...cJ,...uJ,...fJ,..._J,...IJ,...TJ,...$J,...FJ};({...aX,...dX});function Ck(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function hX(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ck(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function _k(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const VI=_k("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),s0=_k("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=hX(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),fX={utf8:VI,"utf-8":VI,hex:qI.base16,latin1:s0,ascii:s0,binary:s0,...qI};function pX(t,e="utf8"){const n=fX[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ck(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var gX=Object.defineProperty,mX=(t,e,n)=>e in t?gX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Os=(t,e,n)=>mX(t,typeof e!="symbol"?e+"":e,n);class yX{constructor(e,n){this.core=e,this.logger=n,Os(this,"keychain",new Map),Os(this,"name",yQ),Os(this,"version",wQ),Os(this,"initialized",!1),Os(this,"storagePrefix",ei),Os(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Os(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Os(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Os(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=Q("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),Os(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Pn(n,this.name)}get context(){return fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,bb(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Eb(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wX=Object.defineProperty,vX=(t,e,n)=>e in t?wX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rn=(t,e,n)=>vX(t,typeof e!="symbol"?e+"":e,n);class bX{constructor(e,n,r){this.core=e,this.logger=n,rn(this,"name",gQ),rn(this,"keychain"),rn(this,"randomSessionIdentifier",Rb()),rn(this,"initialized",!1),rn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),rn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),rn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=IA(s);return CR(i.publicKey)}),rn(this,"generateKeyPair",()=>{this.isInitialized();const s=fY();return this.setPrivateKey(s.publicKey,s.privateKey)}),rn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=IA(i),a=this.randomSessionIdentifier;return await EH(a,s,mQ,o)}),rn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=pY(a,i);return this.setSymKey(c,o)}),rn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||cg(s);return await this.keychain.set(o,s),o}),rn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),rn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),rn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=J3(o),c=Fi(i);if(vI(a))return yY(c,o==null?void 0:o.encoding);if(wI(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(h,f)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return gY({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),rn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=vY(i,o);if(vI(a)){const c=wY(i,o==null?void 0:o.encoding);return hc(c)}if(wI(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=mY({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return hc(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),rn(this,"getPayloadType",(s,i=ms)=>{const o=zh({encoded:s,encoding:i});return mc(o.type)}),rn(this,"getPayloadSenderPublicKey",(s,i=ms)=>{const o=zh({encoded:s,encoding:i});return o.senderPublicKey?ur(o.senderPublicKey,Ln):void 0}),this.core=e,this.logger=Pn(n,this.name),this.keychain=r||new yX(this.core,this.logger)}get context(){return fr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(MI)}catch{e=Rb(),await this.keychain.set(MI,e)}return pX(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}}var EX=Object.defineProperty,CX=Object.defineProperties,_X=Object.getOwnPropertyDescriptors,GI=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,jb=(t,e,n)=>e in t?EX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IX=(t,e)=>{for(var n in e||(e={}))SX.call(e,n)&&jb(t,n,e[n]);if(GI)for(var n of GI(e))AX.call(e,n)&&jb(t,n,e[n]);return t},xX=(t,e)=>CX(t,_X(e)),mr=(t,e,n)=>jb(t,typeof e!="symbol"?e+"":e,n);class NX extends v9{constructor(e,n){super(e,n),this.logger=e,this.core=n,mr(this,"messages",new Map),mr(this,"messagesWithoutClientAck",new Map),mr(this,"name",vQ),mr(this,"version",bQ),mr(this,"initialized",!1),mr(this,"storagePrefix",ei),mr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),mr(this,"set",async(r,s,i)=>{this.isInitialized();const o=zs(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===lg.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,xX(IX({},c),{[o]:s}))}return await this.persist(),o}),mr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),mr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),mr(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=zs(s);return typeof i[o]<"u"}),mr(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=zs(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),mr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Pn(e,this.name),this.core=n}get context(){return fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,bb(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,bb(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Eb(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Eb(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}}var TX=Object.defineProperty,PX=Object.defineProperties,OX=Object.getOwnPropertyDescriptors,KI=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty,kX=Object.prototype.propertyIsEnumerable,zb=(t,e,n)=>e in t?TX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$p=(t,e)=>{for(var n in e||(e={}))RX.call(e,n)&&zb(t,n,e[n]);if(KI)for(var n of KI(e))kX.call(e,n)&&zb(t,n,e[n]);return t},i0=(t,e)=>PX(t,OX(e)),ss=(t,e,n)=>zb(t,typeof e!="symbol"?e+"":e,n);class $X extends b9{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,ss(this,"events",new Qr.EventEmitter),ss(this,"name",EQ),ss(this,"queue",new Map),ss(this,"publishTimeout",Z.toMiliseconds(Z.ONE_MINUTE)),ss(this,"initialPublishTimeout",Z.toMiliseconds(Z.ONE_SECOND*15)),ss(this,"needsTransportRestart",!1),ss(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||BI,c=fm(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||La().toString(),h={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const v=({id:y})=>{h.opts.id===y&&(this.removeRequestFromQueue(y),this.relayer.events.removeListener(Zt.publish,v),g(h))};this.relayer.events.on(Zt.publish,v);const m=Do(new Promise((y,w)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(y).catch(b=>{this.logger.warn(b,b==null?void 0:b.message),w(b)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await m,this.events.removeListener(Zt.publish,v)}catch(y){this.queue.set(d,i0($p({},h),{attempt:1})),this.logger.warn(y,y==null?void 0:y.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await Do(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),ss(this,"on",(r,s)=>{this.events.on(r,s)}),ss(this,"once",(r,s)=>{this.events.once(r,s)}),ss(this,"off",(r,s)=>{this.events.off(r,s)}),ss(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Pn(n,this.name),this.registerEventListeners()}get context(){return fr(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=BI,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:yd(fm().protocol).publish,params:$p({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};cn((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),cn((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(Zt.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,i0($p({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(i0($p({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(xc.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Zt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Zt.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var DX=Object.defineProperty,UX=(t,e,n)=>e in t?DX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zc=(t,e,n)=>UX(t,typeof e!="symbol"?e+"":e,n);class LX{constructor(){zc(this,"map",new Map),zc(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),zc(this,"get",e=>this.map.get(e)||[]),zc(this,"exists",(e,n)=>this.get(e).includes(n)),zc(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),zc(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var MX=Object.defineProperty,BX=Object.defineProperties,FX=Object.getOwnPropertyDescriptors,YI=Object.getOwnPropertySymbols,jX=Object.prototype.hasOwnProperty,zX=Object.prototype.propertyIsEnumerable,Hb=(t,e,n)=>e in t?MX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ed=(t,e)=>{for(var n in e||(e={}))jX.call(e,n)&&Hb(t,n,e[n]);if(YI)for(var n of YI(e))zX.call(e,n)&&Hb(t,n,e[n]);return t},o0=(t,e)=>BX(t,FX(e)),ct=(t,e,n)=>Hb(t,typeof e!="symbol"?e+"":e,n);class HX extends _9{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,ct(this,"subscriptions",new Map),ct(this,"topicMap",new LX),ct(this,"events",new Qr.EventEmitter),ct(this,"name",NQ),ct(this,"version",TQ),ct(this,"pending",new Map),ct(this,"cached",[]),ct(this,"initialized",!1),ct(this,"storagePrefix",ei),ct(this,"subscribeTimeout",Z.toMiliseconds(Z.ONE_MINUTE)),ct(this,"initialSubscribeTimeout",Z.toMiliseconds(Z.ONE_SECOND*15)),ct(this,"clientId"),ct(this,"batchSubscribeTopicsLimit",500),ct(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ct(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=fm(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),ct(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),ct(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),ct(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),ct(this,"on",(r,s)=>{this.events.on(r,s)}),ct(this,"once",(r,s)=>{this.events.once(r,s)}),ct(this,"off",(r,s)=>{this.events.off(r,s)}),ct(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),ct(this,"start",async()=>{await this.onConnect()}),ct(this,"stop",async()=>{await this.onDisconnect()}),ct(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ct(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),ct(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(xc.pulse,async()=>{await this.checkPending()}),this.events.on(yr.created,async r=>{const s=yr.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(yr.deleted,async r=>{const s=yr.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Pn(n,this.name),this.clientId=""}get context(){return fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=fm(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=ot("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===mt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:yd(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===mt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},Z.toMiliseconds(Z.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(yr.created,d),u(h.id))};this.events.on(yr.created,d);try{const h=await Do(new Promise((f,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(yr.created,d),u(h)}catch{}}),l=await Do(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Zt.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:yd(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Do(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Zt.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:yd(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Do(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Zt.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:yd(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,o0(ed({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,ed({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,ed({},n)),this.topicMap.set(n.topic,e),this.events.emit(yr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Q("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(yr.deleted,o0(ed({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(yr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(yr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Q("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>o0(ed({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await MV(Z.toMiliseconds(Z.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return zs(e+await this.getClientId())}}var WX=Object.defineProperty,ZI=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,VX=Object.prototype.propertyIsEnumerable,Wb=(t,e,n)=>e in t?WX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QI=(t,e)=>{for(var n in e||(e={}))qX.call(e,n)&&Wb(t,n,e[n]);if(ZI)for(var n of ZI(e))VX.call(e,n)&&Wb(t,n,e[n]);return t},We=(t,e,n)=>Wb(t,typeof e!="symbol"?e+"":e,n);class GX extends E9{constructor(e){super(e),We(this,"protocol","wc"),We(this,"version",2),We(this,"core"),We(this,"logger"),We(this,"events",new Qr.EventEmitter),We(this,"provider"),We(this,"messages"),We(this,"subscriber"),We(this,"publisher"),We(this,"name",_Q),We(this,"transportExplicitlyClosed",!1),We(this,"initialized",!1),We(this,"connectionAttemptInProgress",!1),We(this,"relayUrl"),We(this,"projectId"),We(this,"packageName"),We(this,"bundleId"),We(this,"hasExperiencedNetworkDisruption",!1),We(this,"pingTimeout"),We(this,"heartBeatTimeout",Z.toMiliseconds(Z.THIRTY_SECONDS+Z.FIVE_SECONDS)),We(this,"reconnectTimeout"),We(this,"connectPromise"),We(this,"reconnectInProgress",!1),We(this,"requestsInFlight",[]),We(this,"connectTimeout",Z.toMiliseconds(Z.ONE_SECOND*15)),We(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||La().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),We(this,"resetPingTimeout",()=>{cm()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),We(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),We(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Zt.connect)}),We(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),We(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Zt.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),We(this,"registerProviderListeners",()=>{this.provider.on($r.payload,this.onPayloadHandler),this.provider.on($r.connect,this.onConnectHandler),this.provider.on($r.disconnect,this.onDisconnectHandler),this.provider.on($r.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Pn(e.logger,this.name):Af(yu({level:e.logger||CQ})),this.messages=new NX(this.logger,e.core),this.subscriber=new HX(this,this.logger),this.publisher=new $X(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||dk,this.projectId=e.projectId,CV()?this.packageName=jA():_V()&&(this.bundleId=jA()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return fr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:mt.relay},lg.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(yr.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(yr.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,QI({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Do(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await PI())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=Bt(Z.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Zt.message,e),await this.recordMessageEvent(e,lg.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once($r.disconnect,i),await Do(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off($r.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once($r.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off($r.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Z.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(cm())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Jr(new dQ(NV({sdkVersion:Mb,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),lC(e)){if(!e.method.endsWith(SQ))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:mt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(QI({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Cy(e)&&this.events.emit(Zt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,lg.inbound),this.events.emit(Zt.message,e))}async acknowledgePayload(e){const n=by(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off($r.payload,this.onPayloadHandler),this.provider.off($r.connect,this.onConnectHandler),this.provider.off($r.disconnect,this.onDisconnectHandler),this.provider.off($r.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await PI();hZ(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(xc.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&gZ())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Zt.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Z.toMiliseconds(AQ)))))}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function KX(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function JI(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function XI(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const YX="[object RegExp]",ZX="[object String]",QX="[object Number]",JX="[object Boolean]",ex="[object Arguments]",XX="[object Symbol]",eee="[object Date]",tee="[object Map]",nee="[object Set]",ree="[object Array]",see="[object Function]",iee="[object ArrayBuffer]",a0="[object Object]",oee="[object Error]",aee="[object DataView]",cee="[object Uint8Array]",lee="[object Uint8ClampedArray]",uee="[object Uint16Array]",dee="[object Uint32Array]",hee="[object BigUint64Array]",fee="[object Int8Array]",pee="[object Int16Array]",gee="[object Int32Array]",mee="[object BigInt64Array]",yee="[object Float32Array]",wee="[object Float64Array]";function tx(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function vee(t,e,n){return wd(t,e,void 0,void 0,void 0,void 0,n)}function wd(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Ld(t,e,i,o)}return Ld(t,e,i,o)}function Ld(t,e,n,r){if(Object.is(t,e))return!0;let s=XI(t),i=XI(e);if(s===ex&&(s=a0),i===ex&&(i=a0),s!==i)return!1;switch(s){case ZX:return t.toString()===e.toString();case QX:{const c=t.valueOf(),l=e.valueOf();return KX(c,l)}case JX:case eee:case XX:return Object.is(t.valueOf(),e.valueOf());case YX:return t.source===e.source&&t.flags===e.flags;case see:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case tee:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!wd(l,e.get(c),c,t,e,n,r))return!1;return!0}case nee:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>wd(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case ree:case cee:case lee:case uee:case dee:case hee:case fee:case pee:case gee:case mee:case yee:case wee:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!wd(t[c],e[c],c,t,e,n,r))return!1;return!0}case iee:return t.byteLength!==e.byteLength?!1:Ld(new Uint8Array(t),new Uint8Array(e),n,r);case aee:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Ld(new Uint8Array(t),new Uint8Array(e),n,r);case oee:return t.name===e.name&&t.message===e.message;case a0:{if(!(Ld(t.constructor,e.constructor,n,r)||tx(t)&&tx(e)))return!1;const c=[...Object.keys(t),...JI(t)],l=[...Object.keys(e),...JI(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!wd(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function bee(){}function Eee(t,e){return vee(t,e,bee)}var Cee=Object.defineProperty,nx=Object.getOwnPropertySymbols,_ee=Object.prototype.hasOwnProperty,See=Object.prototype.propertyIsEnumerable,qb=(t,e,n)=>e in t?Cee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rx=(t,e)=>{for(var n in e||(e={}))_ee.call(e,n)&&qb(t,n,e[n]);if(nx)for(var n of nx(e))See.call(e,n)&&qb(t,n,e[n]);return t},Vn=(t,e,n)=>qb(t,typeof e!="symbol"?e+"":e,n);class Pc extends C9{constructor(e,n,r,s=ei,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,Vn(this,"map",new Map),Vn(this,"version",IQ),Vn(this,"cached",[]),Vn(this,"initialized",!1),Vn(this,"getKey"),Vn(this,"storagePrefix",ei),Vn(this,"recentlyDeleted",[]),Vn(this,"recentlyDeletedLimit",200),Vn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!cn(o)?this.map.set(this.getKey(o),o):HY(o)?this.map.set(o.id,o):WY(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Vn(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Vn(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Vn(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Eee(a[c],o[c]))):this.values)),Vn(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=rx(rx({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Vn(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Pn(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=Q("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=Q("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Q("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Aee=Object.defineProperty,Iee=(t,e,n)=>e in t?Aee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ue=(t,e,n)=>Iee(t,typeof e!="symbol"?e+"":e,n);class xee{constructor(e,n){this.core=e,this.logger=n,Ue(this,"name",PQ),Ue(this,"version",OQ),Ue(this,"events",new OE),Ue(this,"pairings"),Ue(this,"initialized",!1),Ue(this,"storagePrefix",ei),Ue(this,"ignoredPayloadTypes",[Ri]),Ue(this,"registeredMethods",[]),Ue(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ue(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ue(this,"create",async r=>{this.isInitialized();const s=Rb(),i=await this.core.crypto.setSymKey(s),o=Bt(Z.FIVE_MINUTES),a={protocol:uk},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=EI({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(xa.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),Ue(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[ks.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=bI(r.uri);s.props.properties.topic=i,s.addTrace(ks.pairing_uri_validation_success),s.addTrace(ks.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(ks.existing_pairing),u.active)throw s.setError(vi.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(ks.pairing_not_expired)}const d=c||Bt(Z.FIVE_MINUTES),h={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,h),s.addTrace(ks.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(xa.create,h),s.addTrace(ks.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(ks.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(vi.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(f){throw s.setError(vi.subscribe_pairing_topic_failure),f}return s.addTrace(ks.subscribe_pairing_topic_success),h}),Ue(this,"activate",async({topic:r})=>{this.isInitialized();const s=Bt(Z.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),Ue(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Aa();this.events.once(Ye("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),Ue(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),Ue(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),Ue(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ue(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",ot("USER_DISCONNECTED")),await this.deletePairing(s))}),Ue(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return EI({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),Ue(this,"sendRequest",async(r,s,i)=>{const o=Uo(s,i),a=await this.core.crypto.encode(r,o),c=Ju[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Ue(this,"sendResult",async(r,s,i)=>{const o=by(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Ju[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Ue(this,"sendError",async(r,s,i)=>{const o=Ey(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Ju[c]?Ju[c].res:Ju.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Ue(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,ot("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),Ue(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>mo(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),Ue(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Ue(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),Ue(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(xa.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Ue(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{Us(s)?this.events.emit(Ye("pairing_ping",i),{}):Br(s)&&this.events.emit(Ye("pairing_ping",i),{error:s.error})},500)}),Ue(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(xa.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Ue(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=ot("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),Ue(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(ot("WC_METHOD_UNSUPPORTED",r))}),Ue(this,"isValidPair",(r,s)=>{var i;if(!Zn(r)){const{message:a}=Q("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(vi.malformed_pairing_uri),new Error(a)}if(!zY(r.uri)){const{message:a}=Q("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(vi.malformed_pairing_uri),new Error(a)}const o=bI(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=Q("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(vi.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Q("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(vi.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Z.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(vi.pairing_expired);const{message:a}=Q("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Ue(this,"isValidPing",async r=>{if(!Zn(r)){const{message:i}=Q("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Ue(this,"isValidDisconnect",async r=>{if(!Zn(r)){const{message:i}=Q("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Ue(this,"isValidPairingTopic",async r=>{if(!$t(r,!1)){const{message:s}=Q("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=Q("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(mo(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=Q("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Pn(n,this.name),this.pairings=new Pc(this.core,this.logger,this.name,this.storagePrefix)}get context(){return fr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Zt.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==mt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);lC(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Cy(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Lr.expired,async e=>{const{topic:n}=l3(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(xa.expire,{topic:n}))})}}var Nee=Object.defineProperty,Tee=(t,e,n)=>e in t?Nee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sn=(t,e,n)=>Tee(t,typeof e!="symbol"?e+"":e,n);class Pee extends w9{constructor(e,n){super(e,n),this.core=e,this.logger=n,sn(this,"records",new Map),sn(this,"events",new Qr.EventEmitter),sn(this,"name",RQ),sn(this,"version",kQ),sn(this,"cached",[]),sn(this,"initialized",!1),sn(this,"storagePrefix",ei),sn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),sn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:Bt(Z.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ns.created,o)}),sn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Br(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(ns.updated,s))}),sn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),sn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(ns.deleted,i)}}),this.persist()}),sn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),sn(this,"on",(r,s)=>{this.events.on(r,s)}),sn(this,"once",(r,s)=>{this.events.once(r,s)}),sn(this,"off",(r,s)=>{this.events.off(r,s)}),sn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Pn(n,this.name)}get context(){return fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Uo(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Q("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ns.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Q("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ns.created,e=>{const n=ns.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ns.updated,e=>{const n=ns.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ns.deleted,e=>{const n=ns.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(xc.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Z.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(ns.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Oee=Object.defineProperty,Ree=(t,e,n)=>e in t?Oee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sn=(t,e,n)=>Ree(t,typeof e!="symbol"?e+"":e,n);class kee extends S9{constructor(e,n){super(e,n),this.core=e,this.logger=n,Sn(this,"expirations",new Map),Sn(this,"events",new Qr.EventEmitter),Sn(this,"name",$Q),Sn(this,"version",DQ),Sn(this,"cached",[]),Sn(this,"initialized",!1),Sn(this,"storagePrefix",ei),Sn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Sn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Sn(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Lr.created,{target:i,expiration:o})}),Sn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Sn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Lr.deleted,{target:s,expiration:i})}}),Sn(this,"on",(r,s)=>{this.events.on(r,s)}),Sn(this,"once",(r,s)=>{this.events.once(r,s)}),Sn(this,"off",(r,s)=>{this.events.off(r,s)}),Sn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Pn(n,this.name)}get context(){return fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return TV(e);if(typeof e=="number")return PV(e);const{message:n}=Q("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Lr.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Q("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Q("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Z.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Lr.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(xc.pulse,()=>this.checkExpirations()),this.events.on(Lr.created,e=>{const n=Lr.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Lr.expired,e=>{const n=Lr.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Lr.deleted,e=>{const n=Lr.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}}var $ee=Object.defineProperty,Dee=(t,e,n)=>e in t?$ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rt=(t,e,n)=>Dee(t,typeof e!="symbol"?e+"":e,n);class Uee extends A9{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Rt(this,"name",UQ),Rt(this,"abortController"),Rt(this,"isDevEnv"),Rt(this,"verifyUrlV3",MQ),Rt(this,"storagePrefix",ei),Rt(this,"version",lk),Rt(this,"publicKey"),Rt(this,"fetchPromise"),Rt(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Z.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Rt(this,"register",async s=>{if(!_u()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=fc(),u=this.startAbortTimer(Z.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",v),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const v=m=>{if(m.data&&typeof m.data=="string")try{const y=JSON.parse(m.data);if(y.type==="verify_attestation"){if(fb(y.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",v),h(y.attestation===null?"":y.attestation)}}catch(y){this.logger.warn(y)}};l.body.appendChild(g),window.addEventListener("message",v,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Rt(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(fb(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),Rt(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(Z.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Rt(this,"getVerifyUrl",s=>{let i=s||Ud;return BQ.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Ud}`),i=Ud),i}),Rt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Z.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Rt(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Rt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Rt(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Rt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Rt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Rt(this,"validateAttestation",(s,i)=>{const o=EY(s,i.publicKey),a={hasExpired:Z.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Pn(n,this.name),this.abortController=new AbortController,this.isDevEnv=KE(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return fr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Z.toMiliseconds(e))}}var Lee=Object.defineProperty,Mee=(t,e,n)=>e in t?Lee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sx=(t,e,n)=>Mee(t,typeof e!="symbol"?e+"":e,n);class Bee extends I9{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,sx(this,"context",FQ),sx(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${jQ}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Pn(n,this.context)}}var Fee=Object.defineProperty,ix=Object.getOwnPropertySymbols,jee=Object.prototype.hasOwnProperty,zee=Object.prototype.propertyIsEnumerable,Vb=(t,e,n)=>e in t?Fee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,td=(t,e)=>{for(var n in e||(e={}))jee.call(e,n)&&Vb(t,n,e[n]);if(ix)for(var n of ix(e))zee.call(e,n)&&Vb(t,n,e[n]);return t},qt=(t,e,n)=>Vb(t,typeof e!="symbol"?e+"":e,n);class Hee extends x9{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,qt(this,"context",HQ),qt(this,"storagePrefix",ei),qt(this,"storageVersion",zQ),qt(this,"events",new Map),qt(this,"shouldPersist",!1),qt(this,"init",async()=>{if(!KE())try{const s={eventId:HA(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:a3(this.core.relayer.protocol,this.core.relayer.version,Mb)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),qt(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=HA(),u=this.core.projectId||"",d=Date.now(),h=td({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),qt(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return td(td({},a),this.setMethods(a.eventId))}),qt(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),qt(this,"setEventListeners",()=>{this.core.heartbeat.on(xc.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Z.fromMiliseconds(Date.now())-Z.fromMiliseconds(s.timestamp)>WQ&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),qt(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),qt(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),qt(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),qt(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),qt(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,td(td({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),qt(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),qt(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${qQ}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Mb}${i}`,{method:"POST",body:JSON.stringify(s)})}),qt(this,"getAppDomain",()=>o3().url),this.logger=Pn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Wee=Object.defineProperty,ox=Object.getOwnPropertySymbols,qee=Object.prototype.hasOwnProperty,Vee=Object.prototype.propertyIsEnumerable,Gb=(t,e,n)=>e in t?Wee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ax=(t,e)=>{for(var n in e||(e={}))qee.call(e,n)&&Gb(t,n,e[n]);if(ox)for(var n of ox(e))Vee.call(e,n)&&Gb(t,n,e[n]);return t},ut=(t,e,n)=>Gb(t,typeof e!="symbol"?e+"":e,n);let Gee=class Sk extends p9{constructor(e){var n;super(e),ut(this,"protocol",ck),ut(this,"version",lk),ut(this,"name",Lb),ut(this,"relayUrl"),ut(this,"projectId"),ut(this,"customStoragePrefix"),ut(this,"events",new Qr.EventEmitter),ut(this,"logger"),ut(this,"heartbeat"),ut(this,"relayer"),ut(this,"crypto"),ut(this,"storage"),ut(this,"history"),ut(this,"expirer"),ut(this,"pairing"),ut(this,"verify"),ut(this,"echoClient"),ut(this,"linkModeSupportedApps"),ut(this,"eventClient"),ut(this,"initialized",!1),ut(this,"logChunkController"),ut(this,"on",(a,c)=>this.events.on(a,c)),ut(this,"once",(a,c)=>this.events.once(a,c)),ut(this,"off",(a,c)=>this.events.off(a,c)),ut(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),ut(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:mt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||dk,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=yu({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:fQ.logger,name:Lb}),{logger:i,chunkLoggerController:o}=kE({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Pn(i,this.name),this.heartbeat=new nj,this.crypto=new bX(this,this.logger,e==null?void 0:e.keychain),this.history=new Pee(this,this.logger),this.expirer=new kee(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Mj(ax(ax({},pQ),e==null?void 0:e.storageOptions)),this.relayer=new GX({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new xee(this,this.logger),this.verify=new Uee(this,this.logger,this.storage),this.echoClient=new Bee(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Hee(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Sk(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(xQ,r),n}get context(){return fr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(FI,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(FI)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&hQ.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Kee=Gee,Ak="wc",Ik=2,xk="client",uC=`${Ak}@${Ik}:${xk}:`,c0={name:xk,logger:"error"},cx="WALLETCONNECT_DEEPLINK_CHOICE",Yee="proposal",lx="Proposal expired",Zee="session",Hc=Z.SEVEN_DAYS,Qee="engine",Vt={wc_sessionPropose:{req:{ttl:Z.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Z.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Z.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Z.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Z.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Z.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Z.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Z.FIVE_MINUTES,prompt:!1,tag:1119}}},l0={min:Z.FIVE_MINUTES,max:Z.SEVEN_DAYS},Rs={idle:"IDLE",active:"ACTIVE"},Jee={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Xee="request",ete=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],tte="wc",nte="auth",rte="authKeys",ste="pairingTopics",ite="requests",Sy=`${tte}@${1.5}:${nte}:`,ug=`${Sy}:PUB_KEY`;var ote=Object.defineProperty,ate=Object.defineProperties,cte=Object.getOwnPropertyDescriptors,ux=Object.getOwnPropertySymbols,lte=Object.prototype.hasOwnProperty,ute=Object.prototype.propertyIsEnumerable,Kb=(t,e,n)=>e in t?ote(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pt=(t,e)=>{for(var n in e||(e={}))lte.call(e,n)&&Kb(t,n,e[n]);if(ux)for(var n of ux(e))ute.call(e,n)&&Kb(t,n,e[n]);return t},Gn=(t,e)=>ate(t,cte(e)),H=(t,e,n)=>Kb(t,typeof e!="symbol"?e+"":e,n);class dte extends O9{constructor(e){super(e),H(this,"name",Qee),H(this,"events",new OE),H(this,"initialized",!1),H(this,"requestQueue",{state:Rs.idle,queue:[]}),H(this,"sessionRequestQueue",{state:Rs.idle,queue:[]}),H(this,"requestQueueDelay",Z.ONE_SECOND),H(this,"expectedPairingMethodMap",new Map),H(this,"recentlyDeletedMap",new Map),H(this,"recentlyDeletedLimit",200),H(this,"relayMessageCache",[]),H(this,"pendingSessions",new Map),H(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Vt)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Z.toMiliseconds(this.requestQueueDelay)))}),H(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Gn(pt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=LY(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,h=!1;try{if(u){const S=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=S.active}}catch(S){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),S}if(!u||!h){const{topic:S,uri:_}=await this.client.core.pairing.create();u=S,d=_}if(!u){const{message:S}=Q("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(S)}const f=await this.client.core.crypto.generateKeyPair(),p=Vt.wc_sessionPropose.req.ttl||Z.FIVE_MINUTES,g=Bt(p),v=Gn(pt(pt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:uk}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Ds()}),m=Ye("session_connect",v.id),{reject:y,resolve:w,done:b}=Aa(p,lx),E=({id:S})=>{S===v.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(v.id),this.events.emit(m,{error:{message:lx,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(m,({error:S,session:_})=>{this.client.events.off("proposal_expire",E),S?y(S):_&&w(_)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:v,throwOnFailedPublish:!0,clientRpcId:v.id}),await this.setProposal(v.id,v),{uri:d,approval:b}}),H(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),H(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[rs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(x){throw o.setError(va.no_internet_connection),x}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(x){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(va.proposal_not_found),x}try{await this.isValidApprove(n)}catch(x){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(va.session_approve_namespace_validation_failure),x}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:v,optionalNamespaces:m}=f;let y=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});y||(y=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:rs.session_approve_started,properties:{topic:p,trace:[rs.session_approve_started,rs.session_namespaces_validation_success]}}));const w=await this.client.core.crypto.generateKeyPair(),b=g.publicKey,E=await this.client.core.crypto.generateSharedKey(w,b),S=pt(pt(pt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:w,metadata:this.client.metadata},expiry:Bt(Hc)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),_=mt.relay;y.addTrace(rs.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:_})}catch(x){throw y.setError(va.subscribe_session_topic_failure),x}y.addTrace(rs.subscribe_session_topic_success);const T=Gn(pt({},S),{topic:E,requiredNamespaces:v,optionalNamespaces:m,pairingTopic:p,acknowledged:!1,self:S.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:w,transportType:mt.relay});await this.client.session.set(E,T),y.addTrace(rs.store_session);try{y.addTrace(rs.publishing_session_settle),await this.sendRequest({topic:E,method:"wc_sessionSettle",params:S,throwOnFailedPublish:!0}).catch(x=>{throw y==null||y.setError(va.session_settle_publish_failure),x}),y.addTrace(rs.session_settle_publish_success),y.addTrace(rs.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:w},throwOnFailedPublish:!0}).catch(x=>{throw y==null||y.setError(va.session_approve_publish_failure),x}),y.addTrace(rs.session_approve_publish_success)}catch(x){throw this.client.logger.error(x),this.client.session.delete(E,ot("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(E),x}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.client.proposal.delete(a,ot("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(E,Bt(Hc)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}}),H(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&(await this.sendError({id:r,topic:i,error:s,rpcOpts:Vt.wc_sessionPropose.reject}),await this.client.proposal.delete(r,ot("USER_DISCONNECTED")))}),H(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=Aa(),c=Ds(),l=La().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Ye("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),H(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=Ds(),{done:i,resolve:o,reject:a}=Aa();return this.events.once(Ye("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Bt(Hc)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),H(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(v){throw this.client.logger.error("request() -> isValidRequest() failed"),v}const{chainId:r,request:s,topic:i,expiry:o=Vt.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===mt.relay&&await this.confirmOnlineStateOrThrow();const c=Ds(),l=La().toString(),{done:u,resolve:d,reject:h}=Aa(o,"Request expired. Please try again.");this.events.once(Ye("session_request",c),({error:v,result:m})=>{v?h(v):d(m)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:{request:Gn(pt({},s),{expiryTimestamp:Bt(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(v=>h(v)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:Gn(pt({},s),{expiryTimestamp:Bt(o)}),chainId:r};return await Promise.all([new Promise(async v=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:f,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(m=>h(m)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),v()}),new Promise(async v=>{var m;if(!((m=a.sessionConfig)!=null&&m.disableDeepLink)){const y=await $V(this.client.core.storage,cx);await OV({id:c,topic:i,wcDeepLink:y})}v()}),u()]).then(v=>v[2])}),H(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===mt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Us(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):Br(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),H(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Ds(),i=La().toString(),{done:o,resolve:a,reject:c}=Aa();this.events.once(Ye("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),H(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=La().toString(),a=Ds();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),H(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:ot("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=Q("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),H(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>FY(r,n)))),H(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),H(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?mt.link_mode:mt.relay;o===mt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:v}=n,m=[...n.resources||[]],{topic:y,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:w}});const b=await this.client.core.crypto.generateKeyPair(),E=cg(b);if(await Promise.all([this.client.auth.authKeys.set(ug,{responseTopic:E,publicKey:b}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:y})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${y}`),g.length>0){const{namespace:O}=Nl(a[0]);let D=ZG(O,"request",g);ag(m)&&(D=JG(D,m.pop())),m.push(D)}const S=v&&v>Vt.wc_sessionAuthenticate.req.ttl?v:Vt.wc_sessionAuthenticate.req.ttl,_={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:m},requester:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:Bt(S)},T={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},x={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:Bt(Vt.wc_sessionPropose.req.ttl),id:Ds()},{done:k,resolve:$,reject:M}=Aa(S,"Request expired"),F=Ds(),q=Ye("session_connect",x.id),A=Ye("session_request",F),I=async({error:O,session:D})=>{this.events.off(A,L),O?M(O):D&&$({session:D})},L=async O=>{var D,j,V;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),O.error){const $e=ot("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return O.error.code===$e.code?void 0:(this.events.off(q,I),M(O.error.message))}await this.deleteProposal(x.id),this.events.off(q,I);const{cacaos:le,responder:te}=O.result,pe=[],ve=[];for(const $e of le){await XA({cacao:$e,projectId:this.client.core.projectId})||(this.client.logger.error($e,"Signature verification failed"),M(ot("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ut}=$e,On=ag(Ut.resources),pr=[Cb(Ut.iss)],Or=lm(Ut.iss);if(On){const jn=eI(On),oi=tI(On);pe.push(...jn),pr.push(...oi)}for(const jn of pr)ve.push(`${jn}:${Or}`)}const Oe=await this.client.core.crypto.generateSharedKey(b,te.publicKey);let rt;pe.length>0&&(rt={topic:Oe,acknowledged:!0,self:{publicKey:b,metadata:this.client.metadata},peer:te,controller:te.publicKey,expiry:Bt(Hc),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:AI([...new Set(pe)],[...new Set(ve)]),transportType:o},await this.client.core.relayer.subscribe(Oe,{transportType:o}),await this.client.session.set(Oe,rt),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:te.metadata}),rt=this.client.session.get(Oe)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(j=te.metadata.redirect)!=null&&j.linkMode&&(V=te.metadata.redirect)!=null&&V.universal&&r&&(this.client.core.addLinkModeSupportedApp(te.metadata.redirect.universal),this.client.session.update(Oe,{transportType:mt.link_mode})),$({auths:le,session:rt})};this.events.once(q,I),this.events.once(A,L);let R;try{if(i){const O=Uo("wc_sessionAuthenticate",_,F);this.client.core.history.set(y,O);const D=await this.client.core.crypto.encode("",O,{type:Uf,encoding:Co});R=kp(r,y,D)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:_,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:x,expiry:Vt.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(O){throw this.events.off(q,I),this.events.off(A,L),O}return await this.setProposal(x.id,x),await this.setAuthRequest(F,{request:Gn(pt({},_),{verifyContext:{}}),pairingTopic:y,transportType:o}),{uri:R??w,response:k}}),H(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[ba.authenticated_session_approve_started]}});try{this.isInitialized()}catch(v){throw i.setError(Xu.no_internet_connection),v}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(Xu.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||mt.relay;a===mt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=cg(c),d={type:Ri,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const v of s){if(!await XA({cacao:v,projectId:this.client.core.projectId})){i.setError(Xu.invalid_cacao);const E=ot("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:E,encodeOpts:d}),new Error(E.message)}i.addTrace(ba.cacaos_verified);const{p:m}=v,y=ag(m.resources),w=[Cb(m.iss)],b=lm(m.iss);if(y){const E=eI(y),S=tI(y);h.push(...E),w.push(...S)}for(const E of w)f.push(`${E}:${b}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(ba.create_authenticated_session_topic);let g;if((h==null?void 0:h.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Bt(Hc),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:AI([...new Set(h)],[...new Set(f)]),transportType:a},i.addTrace(ba.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(v){throw i.setError(Xu.subscribe_authenticated_session_topic_failure),v}i.addTrace(ba.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(ba.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(ba.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(v){throw i.setError(Xu.authenticated_session_approve_publish_failure),v}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),H(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===mt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=cg(o),l={type:Ri,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:Vt.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,ot("USER_DISCONNECTED"))}),H(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return _3(r,s)}),H(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),H(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),H(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,ot("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(cx).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,ot("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Rs.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),H(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(va.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,ot("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),H(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=Rs.idle,this.client.events.emit("session_request_expire",{id:n}))}),H(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),H(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),H(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Bt(Vt.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),H(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=mt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),H(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||Bt(Vt.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),H(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Uo(s,i,c);let f;const p=!!u;try{const m=p?Co:ms;f=await this.client.core.crypto.encode(r,h,{encoding:m})}catch(m){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),m}let g;if(ete.includes(s)){const m=zs(JSON.stringify(h)),y=zs(f);g=await this.client.core.verify.register({id:y,decryptedId:m})}const v=Vt[s].req;if(v.attestation=g,o&&(v.ttl=o),a&&(v.id=a),this.client.core.history.set(r,h),p){const m=kp(u,r,f);await global.Linking.openURL(m,this.client.name)}else{const m=Vt[s].req;o&&(m.ttl=o),a&&(m.id=a),m.tvf=Gn(pt({},d),{correlationId:h.id}),l?(m.internal=Gn(pt({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,m)):this.client.core.relayer.publish(r,f,m).catch(y=>this.client.logger.error(y))}return h.id}),H(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=by(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?Co:ms;u=await this.client.core.crypto.encode(s,l,Gn(pt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let h,f;try{h=await this.client.core.history.get(s,r);const p=h.request;try{f=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn("sendResult() -> getTVFParams() failed",g)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=kp(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=Vt[p].res;g.tvf=Gn(pt({},f),{correlationId:r}),o?(g.internal=Gn(pt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(v=>this.client.logger.error(v))}await this.client.core.history.resolve(l)}),H(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Ey(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?Co:ms;u=await this.client.core.crypto.encode(s,l,Gn(pt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let h;try{h=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(d){const f=kp(c,s,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Vt[f].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),H(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;mo(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{mo(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),H(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),H(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),H(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Rs.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Rs.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Rs.idle}),H(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),H(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),H(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=Q("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),H(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),H(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(vi.proposal_listener_not_found)),this.isValidConnect(pt({},s.params));const u=a.expiryTimestamp||Bt(Vt.wc_sessionPropose.req.ttl),d=pt({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:i,hash:zs(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(ks.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Vt.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),H(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(Us(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Br(r)){await this.client.proposal.delete(i,ot("USER_DISCONNECTED"));const o=Ye("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),H(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(v=>v.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),g=Gn(pt(pt(pt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:mt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Ye("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),H(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Us(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Ye("session_approve",s),{})):Br(r)&&(await this.client.session.delete(n,ot("USER_DISCONNECTED")),this.events.emit(Ye("session_approve",s),{error:r.error}))}),H(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=Qu.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:ot("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(pt({topic:n},s));try{Qu.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw Qu.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),H(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),H(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Ye("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Us(r)?this.events.emit(Ye("session_update",s),{}):Br(r)&&this.events.emit(Ye("session_update",s),{error:r.error})}),H(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Bt(Hc)),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),H(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Ye("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Us(r)?this.events.emit(Ye("session_extend",s),{}):Br(r)&&this.events.emit(Ye("session_extend",s),{error:r.error})}),H(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),H(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Ye("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Us(r)?this.events.emit(Ye("session_ping",s),{}):Br(r)&&this.events.emit(Ye("session_ping",s),{error:r.error})},500)}),H(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Zt.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:ot("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),H(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(pt({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:zs(JSON.stringify(Uo("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===mt.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),H(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Ye("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Us(r)?this.events.emit(Ye("session_request",s),{result:r.result}):Br(r)&&this.events.emit(Ye("session_request",s),{error:r.error})}),H(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=Qu.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(pt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Qu.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),H(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Us(r)?this.events.emit(Ye("session_request",s),{result:r.result}):Br(r)&&this.events.emit(Ye("session_request",s),{error:r.error})}),H(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,h=await this.getVerifyContext({attestationId:o,hash:zs(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:f,pairingTopic:s,transportType:c}),c===mt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(i.params.requester.metadata,c),f={type:Ri,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:f,rpcOpts:Vt.wc_sessionAuthenticate.autoReject,appLink:h})}}),H(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),H(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Rs.idle,this.processSessionRequestQueue()},Z.toMiliseconds(this.requestQueueDelay))}),H(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=Ye("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ye("session_request",i.request.id),{error:r})})}),H(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Rs.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Rs.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),H(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),H(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Uo("wc_sessionPropose",Gn(pt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),H(this,"isValidConnect",async n=>{if(!Zn(n)){const{message:l}=Q("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(cn(r)||await this.isValidPairingTopic(r),!JY(c)){const{message:l}=Q("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!cn(s)&&Qo(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!cn(i)&&Qo(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),cn(o)||this.validateSessionProps(o,"sessionProperties"),!cn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),H(this,"validateNamespaces",(n,r)=>{const s=QY(n,"connect()",r);if(s)throw new Error(s.message)}),H(this,"isValidApprove",async n=>{if(!Zn(n))throw new Error(Q("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=n0(s,"approve()");if(l)throw new Error(l.message);const u=NI(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!$t(i,!0)){const{message:d}=Q("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(cn(o)||this.validateSessionProps(o,"sessionProperties"),!cn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),H(this,"isValidReject",async n=>{if(!Zn(n)){const{message:i}=Q("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!eZ(s)){const{message:i}=Q("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),H(this,"isValidSessionSettleRequest",n=>{if(!Zn(n)){const{message:l}=Q("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!ek(r)){const{message:l}=Q("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=qY(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=n0(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(mo(o)){const{message:l}=Q("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),H(this,"isValidUpdate",async n=>{if(!Zn(n)){const{message:c}=Q("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=n0(s,"update()");if(o)throw new Error(o.message);const a=NI(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),H(this,"isValidExtend",async n=>{if(!Zn(n)){const{message:s}=Q("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),H(this,"isValidRequest",async n=>{if(!Zn(n)){const{message:c}=Q("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!xI(a,i)){const{message:c}=Q("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!tZ(s)){const{message:c}=Q("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!sZ(a,i,s.method)){const{message:c}=Q("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!cZ(o,l0)){const{message:c}=Q("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${l0.min} and ${l0.max}`);throw new Error(c)}}),H(this,"isValidRespond",async n=>{var r;if(!Zn(n)){const{message:o}=Q("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!nZ(i)){const{message:o}=Q("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),H(this,"isValidPing",async n=>{if(!Zn(n)){const{message:s}=Q("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),H(this,"isValidEmit",async n=>{if(!Zn(n)){const{message:a}=Q("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!xI(o,i)){const{message:a}=Q("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!rZ(s)){const{message:a}=Q("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!iZ(o,i,s.name)){const{message:a}=Q("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),H(this,"isValidDisconnect",async n=>{if(!Zn(n)){const{message:s}=Q("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),H(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!$t(s,!1))throw new Error("uri is required parameter");if(!$t(i,!1))throw new Error("domain is required parameter");if(!$t(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Nl(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Nl(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),H(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Ud,validation:"UNKNOWN",origin:o.url||""}};try{if(a===mt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),H(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=Q("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),H(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),H(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),H(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=Q("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),H(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,h;return!n||r!==mt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),H(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),H(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=zA(n,"topic")||"",s=decodeURIComponent(zA(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:mt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),H(this,"registerLinkModeListeners",async()=>{var n;if(KE()||pa()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),H(this,"getTVFParams",(n,r,s)=>{var i,o;const a={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const c=this.extractTxHashesFromResult(r.request,s);a.txHashes=c,a.contractAddresses=this.isValidContractData(r.request.params)?[(o=(i=r.request.params)==null?void 0:i[0])==null?void 0:o.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return a}),H(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),H(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=Jee[i];if(i==="sui_signTransaction")return[$G(r.transactionBytes)];if(i==="near_signTransaction")return[YA(r)];if(i==="near_signTransactions")return r.map(c=>YA(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[_Z({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return ki(r)?r.map(c=>ZA(c)):[ZA(r)];if(i==="cosmos_signDirect")return[UG(r)];if(typeof r=="string")return[r];const a=r[o.key];if(ki(a))return i==="solana_signAllTransactions"?a.map(c=>kG(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Q("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Zt.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(ug)?this.client.auth.authKeys.get(ug):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===mt.link_mode?Co:ms});lC(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:zs(r)})):Cy(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Lr.expired,async e=>{const{topic:n,id:r}=l3(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Q("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Q("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(xa.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(xa.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!$t(e,!1)){const{message:n}=Q("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Q("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(mo(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Q("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!$t(e,!1)){const{message:n}=Q("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Q("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(mo(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Q("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Q("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if($t(e,!1)){const{message:n}=Q("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Q("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!XY(e)){const{message:n}=Q("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Q("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(mo(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Q("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class hte extends Pc{constructor(e,n){super(e,n,Yee,uC),this.core=e,this.logger=n}}let fte=class extends Pc{constructor(e,n){super(e,n,Zee,uC),this.core=e,this.logger=n}};class pte extends Pc{constructor(e,n){super(e,n,Xee,uC,r=>r.id),this.core=e,this.logger=n}}class gte extends Pc{constructor(e,n){super(e,n,rte,Sy,()=>ug),this.core=e,this.logger=n}}class mte extends Pc{constructor(e,n){super(e,n,ste,Sy),this.core=e,this.logger=n}}class yte extends Pc{constructor(e,n){super(e,n,ite,Sy,r=>r.id),this.core=e,this.logger=n}}var wte=Object.defineProperty,vte=(t,e,n)=>e in t?wte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u0=(t,e,n)=>vte(t,typeof e!="symbol"?e+"":e,n);class bte{constructor(e,n){this.core=e,this.logger=n,u0(this,"authKeys"),u0(this,"pairingTopics"),u0(this,"requests"),this.authKeys=new gte(this.core,this.logger),this.pairingTopics=new mte(this.core,this.logger),this.requests=new yte(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Ete=Object.defineProperty,Cte=(t,e,n)=>e in t?Ete(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Le=(t,e,n)=>Cte(t,typeof e!="symbol"?e+"":e,n);let _te=class Nk extends P9{constructor(e){super(e),Le(this,"protocol",Ak),Le(this,"version",Ik),Le(this,"name",c0.name),Le(this,"metadata"),Le(this,"core"),Le(this,"logger"),Le(this,"events",new Qr.EventEmitter),Le(this,"engine"),Le(this,"session"),Le(this,"proposal"),Le(this,"pendingRequest"),Le(this,"auth"),Le(this,"signConfig"),Le(this,"on",(r,s)=>this.events.on(r,s)),Le(this,"once",(r,s)=>this.events.once(r,s)),Le(this,"off",(r,s)=>this.events.off(r,s)),Le(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),Le(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Le(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Le(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),Le(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),Le(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||c0.name,this.metadata=AV(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Af(yu({level:(e==null?void 0:e.logger)||c0.logger}));this.core=(e==null?void 0:e.core)||new Kee(e),this.logger=Pn(n,this.name),this.session=new fte(this.core,this.logger),this.proposal=new hte(this.core,this.logger),this.pendingRequest=new pte(this.core,this.logger),this.engine=new dte(this),this.auth=new bte(this.core,this.logger)}static async init(e){const n=new Nk(e);return await n.initialize(),n}get context(){return fr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},Z.toMiliseconds(Z.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Yb={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Fs<"u"&&Fs,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof Fs<"u"&&Fs||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(A){return A&&DataView.prototype.isPrototypeOf(A)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(A){return A&&u.indexOf(Object.prototype.toString.call(A))>-1};function h(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function f(A){return typeof A!="string"&&(A=String(A)),A}function p(A){var I={next:function(){var L=A.shift();return{done:L===void 0,value:L}}};return c.iterable&&(I[Symbol.iterator]=function(){return I}),I}function g(A){this.map={},A instanceof g?A.forEach(function(I,L){this.append(L,I)},this):Array.isArray(A)?A.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(I){this.append(I,A[I])},this)}g.prototype.append=function(A,I){A=h(A),I=f(I);var L=this.map[A];this.map[A]=L?L+", "+I:I},g.prototype.delete=function(A){delete this.map[h(A)]},g.prototype.get=function(A){return A=h(A),this.has(A)?this.map[A]:null},g.prototype.has=function(A){return this.map.hasOwnProperty(h(A))},g.prototype.set=function(A,I){this.map[h(A)]=f(I)},g.prototype.forEach=function(A,I){for(var L in this.map)this.map.hasOwnProperty(L)&&A.call(I,this.map[L],L,this)},g.prototype.keys=function(){var A=[];return this.forEach(function(I,L){A.push(L)}),p(A)},g.prototype.values=function(){var A=[];return this.forEach(function(I){A.push(I)}),p(A)},g.prototype.entries=function(){var A=[];return this.forEach(function(I,L){A.push([L,I])}),p(A)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function v(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function m(A){return new Promise(function(I,L){A.onload=function(){I(A.result)},A.onerror=function(){L(A.error)}})}function y(A){var I=new FileReader,L=m(I);return I.readAsArrayBuffer(A),L}function w(A){var I=new FileReader,L=m(I),R=/charset=([A-Za-z0-9_-]+)/.exec(A.type),O=R?R[1]:"utf-8";return I.readAsText(A,O),L}function b(A){for(var I=new Uint8Array(A),L=new Array(I.length),R=0;R<I.length;R++)L[R]=String.fromCharCode(I[R]);return L.join("")}function E(A){if(A.slice)return A.slice(0);var I=new Uint8Array(A.byteLength);return I.set(new Uint8Array(A)),I.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:c.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:c.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():c.arrayBuffer&&c.blob&&l(A)?(this._bodyArrayBuffer=E(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||d(A))?this._bodyArrayBuffer=E(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var A=v(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=v(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=v(this);if(A)return A;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(A){var I=A.toUpperCase();return _.indexOf(I)>-1?I:A}function x(A,I){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var L=I.body;if(A instanceof x){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,I.headers||(this.headers=new g(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!L&&A._bodyInit!=null&&(L=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new g(I.headers)),this.method=T(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var R=/([?&])_=[^&]*/;if(R.test(this.url))this.url=this.url.replace(R,"$1_="+new Date().getTime());else{var O=/\?/;this.url+=(O.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function k(A){var I=new FormData;return A.trim().split("&").forEach(function(L){if(L){var R=L.split("="),O=R.shift().replace(/\+/g," "),D=R.join("=").replace(/\+/g," ");I.append(decodeURIComponent(O),decodeURIComponent(D))}}),I}function $(A){var I=new g,L=A.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var O=R.split(":"),D=O.shift().trim();if(D){var j=O.join(":").trim();try{I.append(D,j)}catch(V){console.warn("Response "+V.message)}}}),I}S.call(x.prototype);function M(A,I){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new g(I.headers),this.url=I.url||"",this._initBody(A)}S.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},M.error=function(){var A=new M(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var F=[301,302,303,307,308];M.redirect=function(A,I){if(F.indexOf(I)===-1)throw new RangeError("Invalid status code");return new M(null,{status:I,headers:{location:A}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,L){this.message=I,this.name=L;var R=Error(I);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function q(A,I){return new Promise(function(L,R){var O=new x(A,I);if(O.signal&&O.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function j(){D.abort()}D.onload=function(){var te={statusText:D.statusText,headers:$(D.getAllResponseHeaders()||"")};O.url.indexOf("file://")===0&&(D.status<200||D.status>599)?te.status=200:te.status=D.status,te.url="responseURL"in D?D.responseURL:te.headers.get("X-Request-URL");var pe="response"in D?D.response:D.responseText;setTimeout(function(){L(new M(pe,te))},0)},D.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){R(new o.DOMException("Aborted","AbortError"))},0)};function V(te){try{return te===""&&a.location.href?a.location.href:te}catch{return te}}if(D.open(O.method,V(O.url),!0),O.credentials==="include"?D.withCredentials=!0:O.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(c.blob?D.responseType="blob":c.arrayBuffer&&(D.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof g||a.Headers&&I.headers instanceof a.Headers)){var le=[];Object.getOwnPropertyNames(I.headers).forEach(function(te){le.push(h(te)),D.setRequestHeader(te,f(I.headers[te]))}),O.headers.forEach(function(te,pe){le.indexOf(pe)===-1&&D.setRequestHeader(pe,te)})}else O.headers.forEach(function(te,pe){D.setRequestHeader(pe,te)});O.signal&&(O.signal.addEventListener("abort",j),D.onreadystatechange=function(){D.readyState===4&&O.signal.removeEventListener("abort",j)}),D.send(typeof O._bodyInit>"u"?null:O._bodyInit)})}return q.polyfill=!0,a.fetch||(a.fetch=q,a.Headers=g,a.Request=x,a.Response=M),o.Headers=g,o.Request=x,o.Response=M,o.fetch=q,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Yb,Yb.exports);var Ste=Yb.exports;const dx=xm(Ste);var Ate=Object.defineProperty,Ite=Object.defineProperties,xte=Object.getOwnPropertyDescriptors,hx=Object.getOwnPropertySymbols,Nte=Object.prototype.hasOwnProperty,Tte=Object.prototype.propertyIsEnumerable,fx=(t,e,n)=>e in t?Ate(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,px=(t,e)=>{for(var n in e||(e={}))Nte.call(e,n)&&fx(t,n,e[n]);if(hx)for(var n of hx(e))Tte.call(e,n)&&fx(t,n,e[n]);return t},gx=(t,e)=>Ite(t,xte(e));const Pte={Accept:"application/json","Content-Type":"application/json"},Ote="POST",mx={headers:Pte,method:Ote},yx=10;let Is=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Qr.EventEmitter,this.isAvailable=!1,this.registering=!1,!$I(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Fi(e),r=await(await dx(this.url,gx(px({},mx),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!$I(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Fi({id:1,jsonrpc:"2.0",method:"test",params:[]});await dx(e,gx(px({},mx),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?hc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Ey(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return rk(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>yx&&this.events.setMaxListeners(yx)}};const wx="error",Rte="wss://relay.walletconnect.org",kte="wc",$te="universal_provider",Dp=`${kte}@2:${$te}:`,Tk="https://rpc.walletconnect.org/v1/",nl="generic",Dte=`${Tk}bundler`,Xr={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function vx(t){return typeof t=="object"&&t!==null}function dC(t){return t==null||typeof t!="object"&&typeof t!="function"}function Pk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Ok(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Ute="[object RegExp]",Rk="[object String]",kk="[object Number]",$k="[object Boolean]",Dk="[object Arguments]",Lte="[object Symbol]",Mte="[object Date]",Bte="[object Map]",Fte="[object Set]",jte="[object Array]",zte="[object ArrayBuffer]",Hte="[object Object]",Wte="[object DataView]",qte="[object Uint8Array]",Vte="[object Uint8ClampedArray]",Gte="[object Uint16Array]",Kte="[object Uint32Array]",Yte="[object Int8Array]",Zte="[object Int16Array]",Qte="[object Int32Array]",Jte="[object Float32Array]",Xte="[object Float64Array]";function hC(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ene(t,e){return wl(t,void 0,t,new Map,e)}function wl(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(dC(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=wl(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,wl(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(wl(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(hC(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=wl(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Na(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Na(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Na(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Na(o,t,n,r,s),o}if(typeof t=="object"&&tne(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Na(o,t,n,r,s),o}return t}function Na(t,e,n=t,r,s){const i=[...Object.keys(e),...Pk(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=wl(e[a],a,n,r,s))}}function tne(t){switch(Ok(t)){case Dk:case jte:case zte:case Wte:case $k:case Mte:case Jte:case Xte:case Yte:case Zte:case Qte:case Bte:case kk:case Hte:case Ute:case Fte:case Rk:case Lte:case qte:case Vte:case Gte:case Kte:return!0;default:return!1}}function nne(t,e){return ene(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case kk:case Rk:case $k:{const o=new t.constructor(t==null?void 0:t.valueOf());return Na(o,t),o}case Dk:{const o={};return Na(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function bx(t){return nne(t)}function Ex(t){return t!==null&&typeof t=="object"&&Ok(t)==="[object Arguments]"}function rne(t){return hC(t)}function sne(){}function ine(t){if(dC(t))return t;if(Array.isArray(t)||hC(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function one(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ane(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=Zb(s,o,r,new Map)}return s}function Zb(t,e,n,r){if(dC(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return ine(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...Pk(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(Ex(a)&&(a={...a}),Ex(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=bx(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||vx(c)&&vx(a)?t[o]=Zb(c,a,n,r):c==null&&one(a)?t[o]=Zb({},a,n,r):c==null&&rne(a)?t[o]=bx(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function cne(t,...e){return ane(t,...e,sne)}var lne=Object.defineProperty,une=Object.defineProperties,dne=Object.getOwnPropertyDescriptors,Cx=Object.getOwnPropertySymbols,hne=Object.prototype.hasOwnProperty,fne=Object.prototype.propertyIsEnumerable,_x=(t,e,n)=>e in t?lne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Up=(t,e)=>{for(var n in e||(e={}))hne.call(e,n)&&_x(t,n,e[n]);if(Cx)for(var n of Cx(e))fne.call(e,n)&&_x(t,n,e[n]);return t},pne=(t,e)=>une(t,dne(e));function Ir(t,e,n){var r;const s=Nl(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${Tk}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Oc(t){return t.includes(":")?t.split(":")[1]:t}function Uk(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function gne(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function Lp(t={},e={}){const n=Sx(t),r=Sx(e);return cne(n,r)}function Sx(t){var e,n,r,s,i;const o={};if(!Qo(t))return o;for(const[a,c]of Object.entries(t)){const l=vy(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=yl(a);o[f]=pne(Up(Up({},o[f]),c),{chains:Zs(l,(e=o[f])==null?void 0:e.chains),methods:Zs(u,(n=o[f])==null?void 0:n.methods),events:Zs(d,(r=o[f])==null?void 0:r.events)}),(Qo(h)||Qo(((s=o[f])==null?void 0:s.rpcMap)||{}))&&(o[f].rpcMap=Up(Up({},h),(i=o[f])==null?void 0:i.rpcMap))}return o}function Ax(t){return t.includes(":")?t.split(":")[2]:t}function Ix(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=vy(n)?[n]:r.chains?r.chains:Uk(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function d0(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Lk={},Ge=t=>Lk[t],h0=(t,e)=>{Lk[t]=e};var mne=Object.defineProperty,yne=(t,e,n)=>e in t?mne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wc=(t,e,n)=>yne(t,typeof e!="symbol"?e+"":e,n);class wne{constructor(e){Wc(this,"name","polkadot"),Wc(this,"client"),Wc(this,"httpProviders"),Wc(this,"events"),Wc(this,"namespace"),Wc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Oc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Jr(new Is(r,Ge("disableProviderPing")))}}var vne=Object.defineProperty,bne=Object.defineProperties,Ene=Object.getOwnPropertyDescriptors,xx=Object.getOwnPropertySymbols,Cne=Object.prototype.hasOwnProperty,_ne=Object.prototype.propertyIsEnumerable,Qb=(t,e,n)=>e in t?vne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nx=(t,e)=>{for(var n in e||(e={}))Cne.call(e,n)&&Qb(t,n,e[n]);if(xx)for(var n of xx(e))_ne.call(e,n)&&Qb(t,n,e[n]);return t},Tx=(t,e)=>bne(t,Ene(e)),qc=(t,e,n)=>Qb(t,typeof e!="symbol"?e+"":e,n);class Sne{constructor(e){qc(this,"name","eip155"),qc(this,"client"),qc(this,"chainId"),qc(this,"namespace"),qc(this,"httpProviders"),qc(this,"events"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Ir(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Jr(new Is(r,Ge("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Oc(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Tx(Nx({},u.sessionProperties||{}),{capabilities:Tx(Nx({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Uo("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${Dte}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var Ane=Object.defineProperty,Ine=(t,e,n)=>e in t?Ane(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vc=(t,e,n)=>Ine(t,typeof e!="symbol"?e+"":e,n);class xne{constructor(e){Vc(this,"name","solana"),Vc(this,"client"),Vc(this,"httpProviders"),Vc(this,"events"),Vc(this,"namespace"),Vc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Oc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Jr(new Is(r,Ge("disableProviderPing")))}}var Nne=Object.defineProperty,Tne=(t,e,n)=>e in t?Nne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gc=(t,e,n)=>Tne(t,typeof e!="symbol"?e+"":e,n);class Pne{constructor(e){Gc(this,"name","cosmos"),Gc(this,"client"),Gc(this,"httpProviders"),Gc(this,"events"),Gc(this,"namespace"),Gc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Oc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Jr(new Is(r,Ge("disableProviderPing")))}}var One=Object.defineProperty,Rne=(t,e,n)=>e in t?One(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kc=(t,e,n)=>Rne(t,typeof e!="symbol"?e+"":e,n);class kne{constructor(e){Kc(this,"name","algorand"),Kc(this,"client"),Kc(this,"httpProviders"),Kc(this,"events"),Kc(this,"namespace"),Kc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Ir(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Jr(new Is(r,Ge("disableProviderPing")))}}var $ne=Object.defineProperty,Dne=(t,e,n)=>e in t?$ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yc=(t,e,n)=>Dne(t,typeof e!="symbol"?e+"":e,n);class Une{constructor(e){Yc(this,"name","cip34"),Yc(this,"client"),Yc(this,"httpProviders"),Yc(this,"events"),Yc(this,"namespace"),Yc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Oc(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Jr(new Is(r,Ge("disableProviderPing")))}}var Lne=Object.defineProperty,Mne=(t,e,n)=>e in t?Lne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zc=(t,e,n)=>Mne(t,typeof e!="symbol"?e+"":e,n);class Bne{constructor(e){Zc(this,"name","elrond"),Zc(this,"client"),Zc(this,"httpProviders"),Zc(this,"events"),Zc(this,"namespace"),Zc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Oc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Jr(new Is(r,Ge("disableProviderPing")))}}var Fne=Object.defineProperty,jne=(t,e,n)=>e in t?Fne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qc=(t,e,n)=>jne(t,typeof e!="symbol"?e+"":e,n);class zne{constructor(e){Qc(this,"name","multiversx"),Qc(this,"client"),Qc(this,"httpProviders"),Qc(this,"events"),Qc(this,"namespace"),Qc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Oc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Jr(new Is(r,Ge("disableProviderPing")))}}var Hne=Object.defineProperty,Wne=(t,e,n)=>e in t?Hne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jc=(t,e,n)=>Wne(t,typeof e!="symbol"?e+"":e,n);class qne{constructor(e){Jc(this,"name","near"),Jc(this,"client"),Jc(this,"httpProviders"),Jc(this,"events"),Jc(this,"namespace"),Jc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ir(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace);return typeof r>"u"?void 0:new Jr(new Is(r,Ge("disableProviderPing")))}}var Vne=Object.defineProperty,Gne=(t,e,n)=>e in t?Vne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xc=(t,e,n)=>Gne(t,typeof e!="symbol"?e+"":e,n);class Kne{constructor(e){Xc(this,"name","tezos"),Xc(this,"client"),Xc(this,"httpProviders"),Xc(this,"events"),Xc(this,"namespace"),Xc(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ir(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace);return typeof r>"u"?void 0:new Jr(new Is(r))}}var Yne=Object.defineProperty,Zne=(t,e,n)=>e in t?Yne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,el=(t,e,n)=>Zne(t,typeof e!="symbol"?e+"":e,n);class Qne{constructor(e){el(this,"name",nl),el(this,"client"),el(this,"httpProviders"),el(this,"events"),el(this,"namespace"),el(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Nl(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ir(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Jr(new Is(r,Ge("disableProviderPing")))}}var Jne=Object.defineProperty,Xne=Object.defineProperties,ere=Object.getOwnPropertyDescriptors,Px=Object.getOwnPropertySymbols,tre=Object.prototype.hasOwnProperty,nre=Object.prototype.propertyIsEnumerable,Jb=(t,e,n)=>e in t?Jne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mp=(t,e)=>{for(var n in e||(e={}))tre.call(e,n)&&Jb(t,n,e[n]);if(Px)for(var n of Px(e))nre.call(e,n)&&Jb(t,n,e[n]);return t},f0=(t,e)=>Xne(t,ere(e)),Dr=(t,e,n)=>Jb(t,typeof e!="symbol"?e+"":e,n);let rre=class Mk{constructor(e){Dr(this,"client"),Dr(this,"namespaces"),Dr(this,"optionalNamespaces"),Dr(this,"sessionProperties"),Dr(this,"scopedProperties"),Dr(this,"events",new OE),Dr(this,"rpcProviders",{}),Dr(this,"session"),Dr(this,"providerOpts"),Dr(this,"logger"),Dr(this,"uri"),Dr(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Af(yu({level:(e==null?void 0:e.logger)||wx})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Mk(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Mp({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,by(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:ot("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=Ix(this.session.namespaces);this.namespaces=Lp(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=Ix(s.namespaces);return this.namespaces=Lp(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===nl?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(ki(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await _te.init({core:this.providerOpts.core,logger:this.providerOpts.logger||wx,relayUrl:this.providerOpts.relayUrl||Rte,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>yl(n)))];h0("client",this.client),h0("events",this.events),h0("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=gne(n,this.session),s=Uk(r),i=Lp(this.namespaces,this.optionalNamespaces),o=f0(Mp({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Sne({namespace:o});break;case"algorand":this.rpcProviders[n]=new kne({namespace:o});break;case"solana":this.rpcProviders[n]=new xne({namespace:o});break;case"cosmos":this.rpcProviders[n]=new Pne({namespace:o});break;case"polkadot":this.rpcProviders[n]=new wne({namespace:o});break;case"cip34":this.rpcProviders[n]=new Une({namespace:o});break;case"elrond":this.rpcProviders[n]=new Bne({namespace:o});break;case"multiversx":this.rpcProviders[n]=new zne({namespace:o});break;case"near":this.rpcProviders[n]=new qne({namespace:o});break;case"tezos":this.rpcProviders[n]=new Kne({namespace:o});break;default:this.rpcProviders[nl]?this.rpcProviders[nl].updateNamespace(o):this.rpcProviders[nl]=new Qne({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&ki(o)&&this.events.emit("accountsChanged",o.map(Ax))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=yl(o),l=d0(o)!==d0(a)?`${c}:${d0(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=f0(Mp({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",f0(Mp({},ot("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Xr.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[nl]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=Lp(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>yl(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=yl(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(Ax);if(!ki(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Dp}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Dp}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Dp}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Dp)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const Md={getSIWX(){return W.state.siwx},async initializeIfEnabled(){var i;const t=W.state.siwx,e=N.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(N.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await Ze.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),et.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=ae._getClient())==null?void 0:i.disconnect().catch(console.error)),be.reset("Connect"),gs.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=W.state.siwx,e=fe.getPlainAddress(N.getActiveCaipAddress()),n=N.getActiveCaipNetwork(),r=ae._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();ee.getConnectorId(n.chainNamespace)===z.CONNECTOR_ID.AUTH&&be.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),Ze.close(),et.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!Ze.state.open||be.state.view==="ApproveTransaction")&&await Ze.open({view:"SIWXSignMessage"}),i.isSmartAccount?gs.showError("This application might not support Smart Accounts"):gs.showError("Signature declined"),et.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await ae.disconnect():Ze.close(),be.reset("Connect"),et.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=W.state.siwx,e=fe.getPlainAddress(N.getActiveCaipAddress()),n=N.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=be.state.view==="ApproveTransaction",r=be.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=Md.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=N.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(gs.showLoading("Authenticating...",{autoClose:!1}),X.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),et.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Md.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),et.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Md.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{gs.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=N.state.activeChain;return{network:((e=N.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=X.state.preferredAccountTypes)==null?void 0:n[t])===en.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},yt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Lo={ConnectorExplorerIds:{[z.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[z.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[z.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[z.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[z.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[yt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[yt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[yt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[yt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[yt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[yt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[yt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[yt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[yt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[yt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[yt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[z.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[z.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[z.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[z.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[z.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[z.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[z.CONNECTOR_ID.INJECTED]:"Browser Wallet",[z.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[z.CONNECTOR_ID.COINBASE]:"Coinbase",[z.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[z.CONNECTOR_ID.LEDGER]:"Ledger",[z.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[z.CONNECTOR_ID.INJECTED]:"INJECTED",[z.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[z.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[z.CONNECTOR_ID.AUTH]:"AUTH"}},Wh={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${yt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=N.state.activeChain;return z.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>ee.getConnectorId(e)===z.CONNECTOR_ID.AUTH&&e===t)}},sre=new AbortController,Et={EmbeddedWalletAbortController:sre,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${ire()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:t=>`Failed to get App Configuration ${t||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function ire(){return typeof window<"u"}const ore={createLogger(t,e="error"){const n=yu({level:e}),{logger:r}=kE({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},are="rpc.walletconnect.org";function Ox(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const p0=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Ws={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===are}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:z.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${z.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return p0.includes(e)?Ox(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,g,v;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,i,n),c=((g=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:g[0])||o,l=((v=r==null?void 0:r[i])==null?void 0:v.map(m=>m.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Lo.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Ws.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(fp(a.url,a.config))}),p0.includes(t.caipNetworkId)&&r.push(fp(Ox(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(fp(a))}),pS(r)},extendWagmiTransports(t,e,n){if(p0.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return pS([n,fp(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:z.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=J.getActiveCaipNetworkId(),n=N.getAllRequestedCaipNetworks(),r=Array.from(((c=N.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},gm={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Kn=ft({providers:{...gm},providerIds:{...gm}}),it={state:Kn,subscribeKey(t,e){return fn(Kn,t,e)},subscribe(t){return hn(Kn,()=>{t(Kn)})},subscribeProviders(t){return hn(Kn.providers,()=>t(Kn.providers))},setProvider(t,e){e&&(Kn.providers[t]=uc(e))},getProvider(t){return Kn.providers[t]},setProviderId(t,e){e&&(Kn.providerIds[t]=e)},getProviderId(t){if(t)return Kn.providerIds[t]},reset(){Kn.providers={...gm},Kn.providerIds={...gm}},resetChain(t){Kn.providers[t]=void 0,Kn.providerIds[t]=void 0}},Rx={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},on={set(t,e){Er.isClient&&localStorage.setItem(`${ue.STORAGE_KEY}${t}`,e)},get(t){return Er.isClient?localStorage.getItem(`${ue.STORAGE_KEY}${t}`):null},delete(t,e){Er.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${ue.STORAGE_KEY}${t}`))}},Bp=30*1e3,Er={checkIfAllowedToTriggerEmail(){const t=on.get(ue.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Bp){const n=Math.ceil((Bp-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=on.get(ue.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Bp)return Math.ceil((Bp-e)/1e3)}return 0},checkIfRequestExists(t){return en.NOT_SAFE_RPC_METHODS.includes(t.method)||en.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(Rx.transactionHash))||(t==null?void 0:t.match(Rx.signedMessage)))?ue.RPC_RESPONSE_TYPE_TX:ue.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return en.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Ve;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ve||(Ve={}));var Xb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Xb||(Xb={}));const se=Ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_o=t=>{switch(typeof t){case"undefined":return se.undefined;case"string":return se.string;case"number":return isNaN(t)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(t)?se.array:t===null?se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?se.promise:typeof Map<"u"&&t instanceof Map?se.map:typeof Set<"u"&&t instanceof Set?se.set:typeof Date<"u"&&t instanceof Date?se.date:se.object;default:return se.unknown}},Y=Ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cre=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Es extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Es.create=t=>new Es(t);const qh=(t,e)=>{let n;switch(t.code){case Y.invalid_type:t.received===se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ve.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ve.joinValues(t.keys,", ")}`;break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ve.joinValues(t.options)}`;break;case Y.invalid_enum_value:n=`Invalid enum value. Expected ${Ve.joinValues(t.options)}, received '${t.received}'`;break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ve.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Y.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Y.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Y.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ve.assertNever(t)}return{message:n}};let Bk=qh;function lre(t){Bk=t}function mm(){return Bk}const ym=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},ure=[];function ce(t,e){const n=ym({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,mm(),qh].filter(r=>!!r)});t.common.issues.push(n)}class Tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ae;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Tn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ae;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ae=Object.freeze({status:"aborted"}),Fk=t=>({status:"dirty",value:t}),Mn=t=>({status:"valid",value:t}),e1=t=>t.status==="aborted",t1=t=>t.status==="dirty",Vh=t=>t.status==="valid",wm=t=>typeof Promise<"u"&&t instanceof Promise;var me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(me||(me={}));class ti{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kx=(t,e)=>{if(Vh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Es(t.common.issues);return this._error=n,this._error}}};function Ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class Pe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return _o(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:_o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Tn,ctx:{common:e.parent.common,data:e.data,parsedType:_o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(wm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_o(e)},i=this._parseSync({data:e,path:s.path,parent:s});return kx(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_o(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(wm(s)?s:Promise.resolve(s));return kx(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Y.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ss({schema:this,typeName:Ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return $i.create(this,this._def)}nullable(){return vc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cs.create(this,this._def)}promise(){return cu.create(this,this._def)}or(e){return Zh.create([this,e],this._def)}and(e){return Qh.create(this,e,this._def)}transform(e){return new Ss({...Ne(this._def),schema:this,typeName:Ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new nf({...Ne(this._def),innerType:this,defaultValue:n,typeName:Ce.ZodDefault})}brand(){return new zk({typeName:Ce.ZodBranded,type:this,...Ne(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Cm({...Ne(this._def),innerType:this,catchValue:n,typeName:Ce.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Mf.create(this,e)}readonly(){return Sm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dre=/^c[^\s-]{8,}$/i,hre=/^[a-z][a-z0-9]*$/,fre=/^[0-9A-HJKMNP-TV-Z]{26}$/,pre=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gre=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mre="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let g0;const yre=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,wre=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,vre=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function bre(t,e){return!!((e==="v4"||!e)&&yre.test(t)||(e==="v6"||!e)&&wre.test(t))}class ys extends Pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const i=this._getOrReturnCtx(e);return ce(i,{code:Y.invalid_type,expected:se.string,received:i.parsedType}),Ae}const r=new Tn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ce(s,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ce(s,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")gre.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"email",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")g0||(g0=new RegExp(mre,"u")),g0.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"emoji",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")pre.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"uuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")dre.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")hre.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid2",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")fre.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ulid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ce(s,{validation:"url",code:Y.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"regex",code:Y.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ce(s,{code:Y.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:Y.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:Y.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?vre(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:Y.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?bre(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ip",code:Y.invalid_string,message:i.message}),r.dirty()):Ve.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Y.invalid_string,...me.errToObj(r)})}_addCheck(e){return new ys({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...me.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...me.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...me.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...me.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...me.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...me.errToObj(n)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new ys({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ys({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ys({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ys.create=t=>{var e;return new ys({checks:[],typeName:Ce.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ne(t)})};function Ere(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class aa extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const i=this._getOrReturnCtx(e);return ce(i,{code:Y.invalid_type,expected:se.number,received:i.parsedType}),Ae}let r;const s=new Tn;for(const i of this._def.checks)i.kind==="int"?Ve.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:Y.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:Y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:Y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ere(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ce(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:Y.not_finite,message:i.message}),s.dirty()):Ve.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,me.toString(n))}setLimit(e,n,r,s){return new aa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new aa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ve.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}aa.create=t=>new aa({checks:[],typeName:Ce.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ne(t)});class ca extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==se.bigint){const i=this._getOrReturnCtx(e);return ce(i,{code:Y.invalid_type,expected:se.bigint,received:i.parsedType}),Ae}let r;const s=new Tn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:Y.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:Y.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ve.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,me.toString(n))}setLimit(e,n,r,s){return new ca({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new ca({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ca.create=t=>{var e;return new ca({checks:[],typeName:Ce.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ne(t)})};class Gh extends Pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const r=this._getOrReturnCtx(e);return ce(r,{code:Y.invalid_type,expected:se.boolean,received:r.parsedType}),Ae}return Mn(e.data)}}Gh.create=t=>new Gh({typeName:Ce.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ne(t)});class yc extends Pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const i=this._getOrReturnCtx(e);return ce(i,{code:Y.invalid_type,expected:se.date,received:i.parsedType}),Ae}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ce(i,{code:Y.invalid_date}),Ae}const r=new Tn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:Y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:Y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ve.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}yc.create=t=>new yc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ce.ZodDate,...Ne(t)});class vm extends Pe{_parse(e){if(this._getType(e)!==se.symbol){const r=this._getOrReturnCtx(e);return ce(r,{code:Y.invalid_type,expected:se.symbol,received:r.parsedType}),Ae}return Mn(e.data)}}vm.create=t=>new vm({typeName:Ce.ZodSymbol,...Ne(t)});class Kh extends Pe{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:Y.invalid_type,expected:se.undefined,received:r.parsedType}),Ae}return Mn(e.data)}}Kh.create=t=>new Kh({typeName:Ce.ZodUndefined,...Ne(t)});class Yh extends Pe{_parse(e){if(this._getType(e)!==se.null){const r=this._getOrReturnCtx(e);return ce(r,{code:Y.invalid_type,expected:se.null,received:r.parsedType}),Ae}return Mn(e.data)}}Yh.create=t=>new Yh({typeName:Ce.ZodNull,...Ne(t)});class au extends Pe{constructor(){super(...arguments),this._any=!0}_parse(e){return Mn(e.data)}}au.create=t=>new au({typeName:Ce.ZodAny,...Ne(t)});class Za extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mn(e.data)}}Za.create=t=>new Za({typeName:Ce.ZodUnknown,...Ne(t)});class zi extends Pe{_parse(e){const n=this._getOrReturnCtx(e);return ce(n,{code:Y.invalid_type,expected:se.never,received:n.parsedType}),Ae}}zi.create=t=>new zi({typeName:Ce.ZodNever,...Ne(t)});class bm extends Pe{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:Y.invalid_type,expected:se.void,received:r.parsedType}),Ae}return Mn(e.data)}}bm.create=t=>new bm({typeName:Ce.ZodVoid,...Ne(t)});class Cs extends Pe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==se.array)return ce(n,{code:Y.invalid_type,expected:se.array,received:n.parsedType}),Ae;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ce(n,{code:o?Y.too_big:Y.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ce(n,{code:Y.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ce(n,{code:Y.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ti(n,o,n.path,a)))).then(o=>Tn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ti(n,o,n.path,a)));return Tn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Cs({...this._def,minLength:{value:e,message:me.toString(n)}})}max(e,n){return new Cs({...this._def,maxLength:{value:e,message:me.toString(n)}})}length(e,n){return new Cs({...this._def,exactLength:{value:e,message:me.toString(n)}})}nonempty(e){return this.min(1,e)}}Cs.create=(t,e)=>new Cs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ce.ZodArray,...Ne(e)});function rl(t){if(t instanceof Ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=$i.create(rl(r))}return new Ct({...t._def,shape:()=>e})}else return t instanceof Cs?new Cs({...t._def,type:rl(t.element)}):t instanceof $i?$i.create(rl(t.unwrap())):t instanceof vc?vc.create(rl(t.unwrap())):t instanceof ni?ni.create(t.items.map(e=>rl(e))):t}class Ct extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ve.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==se.object){const l=this._getOrReturnCtx(e);return ce(l,{code:Y.invalid_type,expected:se.object,received:l.parsedType}),Ae}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof zi&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ti(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof zi){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(ce(s,{code:Y.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ti(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Tn.mergeObjectSync(r,l)):Tn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new Ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=me.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ce.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ct({...this._def,catchall:e})}pick(e){const n={};return Ve.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}omit(e){const n={};return Ve.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}deepPartial(){return rl(this)}partial(e){const n={};return Ve.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ct({...this._def,shape:()=>n})}required(e){const n={};return Ve.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof $i;)i=i._def.innerType;n[r]=i}}),new Ct({...this._def,shape:()=>n})}keyof(){return jk(Ve.objectKeys(this.shape))}}Ct.create=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strip",catchall:zi.create(),typeName:Ce.ZodObject,...Ne(e)});Ct.strictCreate=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strict",catchall:zi.create(),typeName:Ce.ZodObject,...Ne(e)});Ct.lazycreate=(t,e)=>new Ct({shape:t,unknownKeys:"strip",catchall:zi.create(),typeName:Ce.ZodObject,...Ne(e)});class Zh extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Es(a.ctx.common.issues));return ce(n,{code:Y.invalid_union,unionErrors:o}),Ae}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Es(c));return ce(n,{code:Y.invalid_union,unionErrors:a}),Ae}}get options(){return this._def.options}}Zh.create=(t,e)=>new Zh({options:t,typeName:Ce.ZodUnion,...Ne(e)});const dg=t=>t instanceof Xh?dg(t.schema):t instanceof Ss?dg(t.innerType()):t instanceof ef?[t.value]:t instanceof la?t.options:t instanceof tf?Object.keys(t.enum):t instanceof nf?dg(t._def.innerType):t instanceof Kh?[void 0]:t instanceof Yh?[null]:null;class Ay extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.object)return ce(n,{code:Y.invalid_type,expected:se.object,received:n.parsedType}),Ae;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ce(n,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=dg(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Ay({typeName:Ce.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ne(r)})}}function n1(t,e){const n=_o(t),r=_o(e);if(t===e)return{valid:!0,data:t};if(n===se.object&&r===se.object){const s=Ve.objectKeys(e),i=Ve.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=n1(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===se.array&&r===se.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=n1(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===se.date&&r===se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Qh extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(e1(i)||e1(o))return Ae;const a=n1(i.value,o.value);return a.valid?((t1(i)||t1(o))&&n.dirty(),{status:n.value,value:a.data}):(ce(r,{code:Y.invalid_intersection_types}),Ae)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Qh.create=(t,e,n)=>new Qh({left:t,right:e,typeName:Ce.ZodIntersection,...Ne(n)});class ni extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.array)return ce(r,{code:Y.invalid_type,expected:se.array,received:r.parsedType}),Ae;if(r.data.length<this._def.items.length)return ce(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&r.data.length>this._def.items.length&&(ce(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new ti(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Tn.mergeArray(n,o)):Tn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ni({...this._def,rest:e})}}ni.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ni({items:t,typeName:Ce.ZodTuple,rest:null,...Ne(e)})};class Jh extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.object)return ce(r,{code:Y.invalid_type,expected:se.object,received:r.parsedType}),Ae;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ti(r,a,r.path,a)),value:o._parse(new ti(r,r.data[a],r.path,a))});return r.common.async?Tn.mergeObjectAsync(n,s):Tn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Pe?new Jh({keyType:e,valueType:n,typeName:Ce.ZodRecord,...Ne(r)}):new Jh({keyType:ys.create(),valueType:e,typeName:Ce.ZodRecord,...Ne(n)})}}class Em extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.map)return ce(r,{code:Y.invalid_type,expected:se.map,received:r.parsedType}),Ae;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new ti(r,a,r.path,[l,"key"])),value:i._parse(new ti(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ae;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Ae;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}Em.create=(t,e,n)=>new Em({valueType:e,keyType:t,typeName:Ce.ZodMap,...Ne(n)});class wc extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.set)return ce(r,{code:Y.invalid_type,expected:se.set,received:r.parsedType}),Ae;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ce(r,{code:Y.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ce(r,{code:Y.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Ae;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new ti(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new wc({...this._def,minSize:{value:e,message:me.toString(n)}})}max(e,n){return new wc({...this._def,maxSize:{value:e,message:me.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}wc.create=(t,e)=>new wc({valueType:t,minSize:null,maxSize:null,typeName:Ce.ZodSet,...Ne(e)});class Tl extends Pe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.function)return ce(n,{code:Y.invalid_type,expected:se.function,received:n.parsedType}),Ae;function r(a,c){return ym({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mm(),qh].filter(l=>!!l),issueData:{code:Y.invalid_arguments,argumentsError:c}})}function s(a,c){return ym({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mm(),qh].filter(l=>!!l),issueData:{code:Y.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof cu){const a=this;return Mn(async function(...c){const l=new Es([]),u=await a._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})}else{const a=this;return Mn(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Es([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Es([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Tl({...this._def,args:ni.create(e).rest(Za.create())})}returns(e){return new Tl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Tl({args:e||ni.create([]).rest(Za.create()),returns:n||Za.create(),typeName:Ce.ZodFunction,...Ne(r)})}}class Xh extends Pe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Xh.create=(t,e)=>new Xh({getter:t,typeName:Ce.ZodLazy,...Ne(e)});class ef extends Pe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ce(n,{received:n.data,code:Y.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}ef.create=(t,e)=>new ef({value:t,typeName:Ce.ZodLiteral,...Ne(e)});function jk(t,e){return new la({values:t,typeName:Ce.ZodEnum,...Ne(e)})}class la extends Pe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ce(n,{expected:Ve.joinValues(r),received:n.parsedType,code:Y.invalid_type}),Ae}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return ce(n,{received:n.data,code:Y.invalid_enum_value,options:r}),Ae}return Mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return la.create(e)}exclude(e){return la.create(this.options.filter(n=>!e.includes(n)))}}la.create=jk;class tf extends Pe{_parse(e){const n=Ve.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==se.string&&r.parsedType!==se.number){const s=Ve.objectValues(n);return ce(r,{expected:Ve.joinValues(s),received:r.parsedType,code:Y.invalid_type}),Ae}if(n.indexOf(e.data)===-1){const s=Ve.objectValues(n);return ce(r,{received:r.data,code:Y.invalid_enum_value,options:s}),Ae}return Mn(e.data)}get enum(){return this._def.values}}tf.create=(t,e)=>new tf({values:t,typeName:Ce.ZodNativeEnum,...Ne(e)});class cu extends Pe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.promise&&n.common.async===!1)return ce(n,{code:Y.invalid_type,expected:se.promise,received:n.parsedType}),Ae;const r=n.parsedType===se.promise?n.data:Promise.resolve(n.data);return Mn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}cu.create=(t,e)=>new cu({type:t,typeName:Ce.ZodPromise,...Ne(e)});class Ss extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ce(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ae:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ae:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Vh(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Vh(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ve.assertNever(s)}}Ss.create=(t,e,n)=>new Ss({schema:t,typeName:Ce.ZodEffects,effect:e,...Ne(n)});Ss.createWithPreprocess=(t,e,n)=>new Ss({schema:e,effect:{type:"preprocess",transform:t},typeName:Ce.ZodEffects,...Ne(n)});class $i extends Pe{_parse(e){return this._getType(e)===se.undefined?Mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$i.create=(t,e)=>new $i({innerType:t,typeName:Ce.ZodOptional,...Ne(e)});class vc extends Pe{_parse(e){return this._getType(e)===se.null?Mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vc.create=(t,e)=>new vc({innerType:t,typeName:Ce.ZodNullable,...Ne(e)});class nf extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nf.create=(t,e)=>new nf({innerType:t,typeName:Ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ne(e)});class Cm extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return wm(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Es(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Es(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Cm.create=(t,e)=>new Cm({innerType:t,typeName:Ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ne(e)});class _m extends Pe{_parse(e){if(this._getType(e)!==se.nan){const r=this._getOrReturnCtx(e);return ce(r,{code:Y.invalid_type,expected:se.nan,received:r.parsedType}),Ae}return{status:"valid",value:e.data}}}_m.create=t=>new _m({typeName:Ce.ZodNaN,...Ne(t)});const Cre=Symbol("zod_brand");class zk extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Mf extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ae:i.status==="dirty"?(n.dirty(),Fk(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ae:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Mf({in:e,out:n,typeName:Ce.ZodPipeline})}}class Sm extends Pe{_parse(e){const n=this._def.innerType._parse(e);return Vh(n)&&(n.value=Object.freeze(n.value)),n}}Sm.create=(t,e)=>new Sm({innerType:t,typeName:Ce.ZodReadonly,...Ne(e)});const Hk=(t,e={},n)=>t?au.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):au.create(),_re={object:Ct.lazycreate};var Ce;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ce||(Ce={}));const Sre=(t,e={message:`Input not instance of ${t.name}`})=>Hk(n=>n instanceof t,e),Wk=ys.create,qk=aa.create,Are=_m.create,Ire=ca.create,Vk=Gh.create,xre=yc.create,Nre=vm.create,Tre=Kh.create,Pre=Yh.create,Ore=au.create,Rre=Za.create,kre=zi.create,$re=bm.create,Dre=Cs.create,Ure=Ct.create,Lre=Ct.strictCreate,Mre=Zh.create,Bre=Ay.create,Fre=Qh.create,jre=ni.create,zre=Jh.create,Hre=Em.create,Wre=wc.create,qre=Tl.create,Vre=Xh.create,Gre=ef.create,Kre=la.create,Yre=tf.create,Zre=cu.create,$x=Ss.create,Qre=$i.create,Jre=vc.create,Xre=Ss.createWithPreprocess,ese=Mf.create,tse=()=>Wk().optional(),nse=()=>qk().optional(),rse=()=>Vk().optional(),sse={string:t=>ys.create({...t,coerce:!0}),number:t=>aa.create({...t,coerce:!0}),boolean:t=>Gh.create({...t,coerce:!0}),bigint:t=>ca.create({...t,coerce:!0}),date:t=>yc.create({...t,coerce:!0})},ise=Ae;var C=Object.freeze({__proto__:null,defaultErrorMap:qh,setErrorMap:lre,getErrorMap:mm,makeIssue:ym,EMPTY_PATH:ure,addIssueToContext:ce,ParseStatus:Tn,INVALID:Ae,DIRTY:Fk,OK:Mn,isAborted:e1,isDirty:t1,isValid:Vh,isAsync:wm,get util(){return Ve},get objectUtil(){return Xb},ZodParsedType:se,getParsedType:_o,ZodType:Pe,ZodString:ys,ZodNumber:aa,ZodBigInt:ca,ZodBoolean:Gh,ZodDate:yc,ZodSymbol:vm,ZodUndefined:Kh,ZodNull:Yh,ZodAny:au,ZodUnknown:Za,ZodNever:zi,ZodVoid:bm,ZodArray:Cs,ZodObject:Ct,ZodUnion:Zh,ZodDiscriminatedUnion:Ay,ZodIntersection:Qh,ZodTuple:ni,ZodRecord:Jh,ZodMap:Em,ZodSet:wc,ZodFunction:Tl,ZodLazy:Xh,ZodLiteral:ef,ZodEnum:la,ZodNativeEnum:tf,ZodPromise:cu,ZodEffects:Ss,ZodTransformer:Ss,ZodOptional:$i,ZodNullable:vc,ZodDefault:nf,ZodCatch:Cm,ZodNaN:_m,BRAND:Cre,ZodBranded:zk,ZodPipeline:Mf,ZodReadonly:Sm,custom:Hk,Schema:Pe,ZodSchema:Pe,late:_re,get ZodFirstPartyTypeKind(){return Ce},coerce:sse,any:Ore,array:Dre,bigint:Ire,boolean:Vk,date:xre,discriminatedUnion:Bre,effect:$x,enum:Kre,function:qre,instanceof:Sre,intersection:Fre,lazy:Vre,literal:Gre,map:Hre,nan:Are,nativeEnum:Yre,never:kre,null:Pre,nullable:Jre,number:qk,object:Ure,oboolean:rse,onumber:nse,optional:Qre,ostring:tse,pipeline:ese,preprocess:Xre,promise:Zre,record:zre,set:Wre,strictObject:Lre,string:Wk,symbol:Nre,transformer:$x,tuple:jre,undefined:Tre,union:Mre,unknown:Rre,void:$re,NEVER:ise,ZodIssueCode:Y,quotelessJson:cre,ZodError:Es});const xt=C.object({message:C.string()});function ie(t){return C.literal(ue[t])}C.object({accessList:C.array(C.string()),blockHash:C.string().nullable(),blockNumber:C.string().nullable(),chainId:C.string().or(C.number()),from:C.string(),gas:C.string(),hash:C.string(),input:C.string().nullable(),maxFeePerGas:C.string(),maxPriorityFeePerGas:C.string(),nonce:C.string(),r:C.string(),s:C.string(),to:C.string(),transactionIndex:C.string().nullable(),type:C.string(),v:C.string(),value:C.string()});const ose=C.object({chainId:C.string().or(C.number())}),ase=C.object({email:C.string().email()}),cse=C.object({otp:C.string()}),lse=C.object({uri:C.string(),preferredAccountType:C.optional(C.string()),chainId:C.optional(C.string().or(C.number()))}),use=C.object({chainId:C.optional(C.string().or(C.number())),preferredAccountType:C.optional(C.string()),socialUri:C.optional(C.string())}),dse=C.object({provider:C.enum(["google","github","apple","facebook","x","discord"])}),hse=C.object({email:C.string().email()}),fse=C.object({otp:C.string()}),pse=C.object({otp:C.string()}),gse=C.object({themeMode:C.optional(C.enum(["light","dark"])),themeVariables:C.optional(C.record(C.string(),C.string().or(C.number()))),w3mThemeVariables:C.optional(C.record(C.string(),C.string()))}),mse=C.object({metadata:C.object({name:C.string(),description:C.string(),url:C.string(),icons:C.array(C.string())}).optional(),sdkVersion:C.string().optional(),sdkType:C.string().optional(),projectId:C.string()}),yse=C.object({type:C.string()}),wse=C.object({action:C.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),vse=C.object({url:C.string()}),bse=C.object({userName:C.string()}),Ese=C.object({email:C.string().optional().nullable(),address:C.string(),chainId:C.string().or(C.number()),accounts:C.array(C.object({address:C.string(),type:C.enum([en.ACCOUNT_TYPES.EOA,en.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:C.string().optional().nullable(),preferredAccountType:C.optional(C.string())}),Cse=C.object({action:C.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),_se=C.object({email:C.string().email().optional().nullable(),address:C.string(),chainId:C.string().or(C.number()),smartAccountDeployed:C.optional(C.boolean()),accounts:C.array(C.object({address:C.string(),type:C.enum([en.ACCOUNT_TYPES.EOA,en.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:C.optional(C.string())}),Sse=C.object({uri:C.string()}),Ase=C.object({isConnected:C.boolean()}),Ise=C.object({chainId:C.string().or(C.number())}),xse=C.object({chainId:C.string().or(C.number())}),Nse=C.object({newEmail:C.string().email()}),Tse=C.object({smartAccountEnabledNetworks:C.array(C.number())});C.object({address:C.string(),isDeployed:C.boolean()});const Pse=C.object({version:C.string().optional()}),Ose=C.object({type:C.string(),address:C.string()}),Rse=C.any(),kse=C.object({method:C.literal("eth_accounts")}),$se=C.object({method:C.literal("eth_blockNumber")}),Dse=C.object({method:C.literal("eth_call"),params:C.array(C.any())}),Use=C.object({method:C.literal("eth_chainId")}),Lse=C.object({method:C.literal("eth_estimateGas"),params:C.array(C.any())}),Mse=C.object({method:C.literal("eth_feeHistory"),params:C.array(C.any())}),Bse=C.object({method:C.literal("eth_gasPrice")}),Fse=C.object({method:C.literal("eth_getAccount"),params:C.array(C.any())}),jse=C.object({method:C.literal("eth_getBalance"),params:C.array(C.any())}),zse=C.object({method:C.literal("eth_getBlockByHash"),params:C.array(C.any())}),Hse=C.object({method:C.literal("eth_getBlockByNumber"),params:C.array(C.any())}),Wse=C.object({method:C.literal("eth_getBlockReceipts"),params:C.array(C.any())}),qse=C.object({method:C.literal("eth_getBlockTransactionCountByHash"),params:C.array(C.any())}),Vse=C.object({method:C.literal("eth_getBlockTransactionCountByNumber"),params:C.array(C.any())}),Gse=C.object({method:C.literal("eth_getCode"),params:C.array(C.any())}),Kse=C.object({method:C.literal("eth_getFilterChanges"),params:C.array(C.any())}),Yse=C.object({method:C.literal("eth_getFilterLogs"),params:C.array(C.any())}),Zse=C.object({method:C.literal("eth_getLogs"),params:C.array(C.any())}),Qse=C.object({method:C.literal("eth_getProof"),params:C.array(C.any())}),Jse=C.object({method:C.literal("eth_getStorageAt"),params:C.array(C.any())}),Xse=C.object({method:C.literal("eth_getTransactionByBlockHashAndIndex"),params:C.array(C.any())}),eie=C.object({method:C.literal("eth_getTransactionByBlockNumberAndIndex"),params:C.array(C.any())}),tie=C.object({method:C.literal("eth_getTransactionByHash"),params:C.array(C.any())}),nie=C.object({method:C.literal("eth_getTransactionCount"),params:C.array(C.any())}),rie=C.object({method:C.literal("eth_getTransactionReceipt"),params:C.array(C.any())}),sie=C.object({method:C.literal("eth_getUncleCountByBlockHash"),params:C.array(C.any())}),iie=C.object({method:C.literal("eth_getUncleCountByBlockNumber"),params:C.array(C.any())}),oie=C.object({method:C.literal("eth_maxPriorityFeePerGas")}),aie=C.object({method:C.literal("eth_newBlockFilter")}),cie=C.object({method:C.literal("eth_newFilter"),params:C.array(C.any())}),lie=C.object({method:C.literal("eth_newPendingTransactionFilter")}),uie=C.object({method:C.literal("eth_sendRawTransaction"),params:C.array(C.any())}),die=C.object({method:C.literal("eth_syncing"),params:C.array(C.any())}),hie=C.object({method:C.literal("eth_uninstallFilter"),params:C.array(C.any())}),Dx=C.object({method:C.literal("personal_sign"),params:C.array(C.any())}),fie=C.object({method:C.literal("eth_signTypedData_v4"),params:C.array(C.any())}),pie=C.object({method:C.literal("eth_sendTransaction"),params:C.array(C.any())}),gie=C.object({method:C.literal("solana_signMessage"),params:C.object({message:C.string(),pubkey:C.string()})}),mie=C.object({method:C.literal("solana_signTransaction"),params:C.object({transaction:C.string()})}),yie=C.object({method:C.literal("solana_signAllTransactions"),params:C.object({transactions:C.array(C.string())})}),wie=C.object({method:C.literal("solana_signAndSendTransaction"),params:C.object({transaction:C.string(),options:C.object({skipPreflight:C.boolean().optional(),preflightCommitment:C.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:C.number().optional(),minContextSlot:C.number().optional()}).optional()})}),vie=C.object({method:C.literal("wallet_sendCalls"),params:C.array(C.object({chainId:C.string().or(C.number()).optional(),from:C.string().optional(),version:C.string().optional(),capabilities:C.any().optional(),calls:C.array(C.object({to:C.string().startsWith("0x"),data:C.string().startsWith("0x").optional(),value:C.string().optional()}))}))}),bie=C.object({method:C.literal("wallet_getCallsStatus"),params:C.array(C.string())}),Eie=C.object({method:C.literal("wallet_getCapabilities")}),Cie=C.object({method:C.literal("wallet_grantPermissions"),params:C.array(C.any())}),_ie=C.object({method:C.literal("wallet_revokePermissions"),params:C.any()}),Sie=C.object({method:C.literal("wallet_getAssets"),params:C.any()}),Ux=C.object({token:C.string()}),oe=C.object({id:C.string().optional()}),nd={appEvent:oe.extend({type:ie("APP_SWITCH_NETWORK"),payload:ose}).or(oe.extend({type:ie("APP_CONNECT_EMAIL"),payload:ase})).or(oe.extend({type:ie("APP_CONNECT_DEVICE")})).or(oe.extend({type:ie("APP_CONNECT_OTP"),payload:cse})).or(oe.extend({type:ie("APP_CONNECT_SOCIAL"),payload:lse})).or(oe.extend({type:ie("APP_GET_FARCASTER_URI")})).or(oe.extend({type:ie("APP_CONNECT_FARCASTER")})).or(oe.extend({type:ie("APP_GET_USER"),payload:C.optional(use)})).or(oe.extend({type:ie("APP_GET_SOCIAL_REDIRECT_URI"),payload:dse})).or(oe.extend({type:ie("APP_SIGN_OUT")})).or(oe.extend({type:ie("APP_IS_CONNECTED"),payload:C.optional(Ux)})).or(oe.extend({type:ie("APP_GET_CHAIN_ID")})).or(oe.extend({type:ie("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(oe.extend({type:ie("APP_INIT_SMART_ACCOUNT")})).or(oe.extend({type:ie("APP_SET_PREFERRED_ACCOUNT"),payload:yse})).or(oe.extend({type:ie("APP_RPC_REQUEST"),payload:Dx.or(Sie).or(kse).or($se).or(Dse).or(Use).or(Lse).or(Mse).or(Bse).or(Fse).or(jse).or(zse).or(Hse).or(Wse).or(qse).or(Vse).or(Gse).or(Kse).or(Yse).or(Zse).or(Qse).or(Jse).or(Xse).or(eie).or(tie).or(nie).or(rie).or(sie).or(iie).or(oie).or(aie).or(cie).or(lie).or(uie).or(die).or(hie).or(Dx).or(fie).or(pie).or(gie).or(mie).or(yie).or(wie).or(bie).or(vie).or(Eie).or(Cie).or(_ie)})).or(oe.extend({type:ie("APP_UPDATE_EMAIL"),payload:hse})).or(oe.extend({type:ie("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:fse})).or(oe.extend({type:ie("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:pse})).or(oe.extend({type:ie("APP_SYNC_THEME"),payload:gse})).or(oe.extend({type:ie("APP_SYNC_DAPP_DATA"),payload:mse})).or(oe.extend({type:ie("APP_RELOAD")})),frameEvent:oe.extend({type:ie("FRAME_SWITCH_NETWORK_ERROR"),payload:xt}).or(oe.extend({type:ie("FRAME_SWITCH_NETWORK_SUCCESS"),payload:xse})).or(oe.extend({type:ie("FRAME_CONNECT_EMAIL_SUCCESS"),payload:wse})).or(oe.extend({type:ie("FRAME_CONNECT_EMAIL_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:vse})).or(oe.extend({type:ie("FRAME_GET_FARCASTER_URI_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:bse})).or(oe.extend({type:ie("FRAME_CONNECT_FARCASTER_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_CONNECT_OTP_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_CONNECT_OTP_SUCCESS")})).or(oe.extend({type:ie("FRAME_CONNECT_DEVICE_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_CONNECT_DEVICE_SUCCESS")})).or(oe.extend({type:ie("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Ese})).or(oe.extend({type:ie("FRAME_CONNECT_SOCIAL_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_GET_USER_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_GET_USER_SUCCESS"),payload:_se})).or(oe.extend({type:ie("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Sse})).or(oe.extend({type:ie("FRAME_SIGN_OUT_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_SIGN_OUT_SUCCESS")})).or(oe.extend({type:ie("FRAME_IS_CONNECTED_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_IS_CONNECTED_SUCCESS"),payload:Ase})).or(oe.extend({type:ie("FRAME_GET_CHAIN_ID_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Ise})).or(oe.extend({type:ie("FRAME_RPC_REQUEST_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_RPC_REQUEST_SUCCESS"),payload:Rse})).or(oe.extend({type:ie("FRAME_SESSION_UPDATE"),payload:Ux})).or(oe.extend({type:ie("FRAME_UPDATE_EMAIL_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Cse})).or(oe.extend({type:ie("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(oe.extend({type:ie("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Nse})).or(oe.extend({type:ie("FRAME_SYNC_THEME_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_SYNC_THEME_SUCCESS")})).or(oe.extend({type:ie("FRAME_SYNC_DAPP_DATA_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(oe.extend({type:ie("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Tse})).or(oe.extend({type:ie("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Ose})).or(oe.extend({type:ie("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_READY"),payload:Pse})).or(oe.extend({type:ie("FRAME_RELOAD_ERROR"),payload:xt})).or(oe.extend({type:ie("FRAME_RELOAD_SUCCESS")}))};function m0(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Aie{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=z.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!m0(ue.FRAME_EVENT_KEY,l))return;const u=nd.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}Er.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{Er.isClient&&window.addEventListener("message",({data:o})=>{if(!m0(ue.FRAME_EVENT_KEY,o))return;const a=nd.frameEvent.parse(o);i(a)})},onAppEvent:i=>{Er.isClient&&window.addEventListener("message",({data:o})=>{if(!m0(ue.APP_EVENT_KEY,o))return;const a=nd.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(Er.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");nd.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(Er.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");nd.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),n&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),Er.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${nF}?projectId=${e}&chainId=${r}&version=${sF}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.border="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Iie{constructor(e){var i;const n=yu({level:rF}),{logger:r,chunkLoggerController:s}=kE({opts:n});this.logger=Pn(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class xie{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Iie(e)),this.abortController=i,this.w3mFrame=new Aie({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===ue.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!on.get(ue.EMAIL_LOGIN_USED_KEY)}getEmail(){return on.get(ue.EMAIL)}getUsername(){return on.get(ue.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:ue.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Er.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:ue.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:ue.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:ue.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:ue.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:ue.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:ue.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:ue.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:ue.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:ue.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:ue.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:ue.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:ue.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:ue.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:ue.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:ue.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:ue.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:ue.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:ue.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:ue.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:ue.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,i;try{if(en.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:ue.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ue.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ue.FRAME_IS_CONNECTED_ERROR&&e(),n.type===ue.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ue.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ue.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ue.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===ue.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:en.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ue.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===ue.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{en.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[ue.APP_SYNC_DAPP_DATA,ue.APP_SYNC_THEME,ue.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[ue.APP_CONNECT_EMAIL,ue.APP_CONNECT_DEVICE,ue.APP_CONNECT_OTP,ue.APP_CONNECT_SOCIAL,ue.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var f,p,g;const u=Math.random().toString(36).substring(7);(g=(f=this.w3mLogger)==null?void 0:(p=f.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const v=e;this.openRpcRequests=[...this.openRpcRequests,{...v.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function h(v,m){var y,w,b;v.id===u&&((w=m==null?void 0:(y=m.logger).info)==null||w.call(y,{framEvent:v,id:u},"Received frame response"),v.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in v&&c(v.payload),c(void 0)):v.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in v&&l(new Error(((b=v.payload)==null?void 0:b.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,v=>h(v,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){on.set(ue.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){on.set(ue.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&on.set(ue.EMAIL,e),on.set(ue.EMAIL_LOGIN_USED_KEY,"true"),on.delete(ue.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){on.delete(ue.EMAIL_LOGIN_USED_KEY),on.delete(ue.EMAIL),on.delete(ue.LAST_USED_CHAIN_KEY),on.delete(ue.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&on.set(ue.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=on.get(ue.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){on.set(ue.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Qa{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i}){return Qa.instance||(Qa.instance=new xie({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i})),Qa.instance}}var Lx={};const Nie={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof Lx<"u"?Lx.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},r1={filterOutDuplicatesByRDNS(t){const e=W.state.enableEIP6963?ee.state.connectors:[],n=J.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&fe.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=ee.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=J.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ee.state,{featuredWalletIds:n}=W.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=W.state.features)==null?void 0:c.connectMethodsOrder),r=e||ee.state.connectors;if(n)return n;const{injected:s,announced:i}=hg.getConnectorsByType(r,ge.state.recommended,ge.state.featured),o=s.filter(hg.showConnector),a=i.filter(hg.showConnector);return o.length||a.length?["wallet","email","social"]:Nie.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&ge.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&ge.state.excludedWallets.some(r=>Wh.isLowerCaseMatch(r.name,t.name));return e||n}},hg={getConnectorsByType(t,e,n){const{customWallets:r}=W.state,s=J.getRecentWallets(),i=r1.filterOutDuplicateWallets(e),o=r1.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&ge.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&ge.state.excludedWallets.some(i=>Wh.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!fe.isMobile()||fe.isMobile()&&!e&&!ae.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(N.state.chains.values()).some(n=>ee.getConnectorId(n.namespace)===z.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=W.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=hg.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:W.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(m=>m.isEnabled),p=new Set(f.map(m=>m.type)),g=c.filter(m=>p.has(m)).map(m=>({type:m,isEnabled:!0})),v=f.filter(({type:m})=>!g.some(({type:w})=>w===m));return Array.from(new Set([...g,...v].map(({type:m})=>m)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!fe.isMobile())return{accounts:[],chainId:void 0};if(t.id===z.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fg=globalThis,fC=fg.ShadowRoot&&(fg.ShadyCSS===void 0||fg.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,pC=Symbol(),Mx=new WeakMap;let Gk=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==pC)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(fC&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=Mx.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Mx.set(n,e))}return e}toString(){return this.cssText}};const Ur=t=>new Gk(typeof t=="string"?t:t+"",void 0,pC),Pl=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new Gk(n,t,pC)},Tie=(t,e)=>{if(fC)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=fg.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},Bx=fC?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Ur(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Pie,defineProperty:Oie,getOwnPropertyDescriptor:Rie,getOwnPropertyNames:kie,getOwnPropertySymbols:$ie,getPrototypeOf:Die}=Object,Jo=globalThis,Fx=Jo.trustedTypes,Uie=Fx?Fx.emptyScript:"",y0=Jo.reactiveElementPolyfillSupport,Bd=(t,e)=>t,s1={toAttribute(t,e){switch(e){case Boolean:t=t?Uie:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Kk=(t,e)=>!Pie(t,e),jx={attribute:!0,type:String,converter:s1,reflect:!1,useDefault:!1,hasChanged:Kk};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Jo.litPropertyMetadata??(Jo.litPropertyMetadata=new WeakMap);let sl=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=jx){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&Oie(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=Rie(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??jx}static _$Ei(){if(this.hasOwnProperty(Bd("elementProperties")))return;const e=Die(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Bd("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Bd("properties"))){const n=this.properties,r=[...kie(n),...$ie(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(Bx(s))}else e!==void 0&&n.push(Bx(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Tie(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:s1).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:s1;this._$Em=s,this[s]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??Kk)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};sl.elementStyles=[],sl.shadowRootOptions={mode:"open"},sl[Bd("elementProperties")]=new Map,sl[Bd("finalized")]=new Map,y0==null||y0({ReactiveElement:sl}),(Jo.reactiveElementVersions??(Jo.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fd=globalThis,Am=Fd.trustedTypes,zx=Am?Am.createPolicy("lit-html",{createHTML:t=>t}):void 0,Yk="$lit$",So=`lit$${Math.random().toFixed(9).slice(2)}$`,Zk="?"+So,Lie=`<${Zk}>`,bc=document,rf=()=>bc.createComment(""),sf=t=>t===null||typeof t!="object"&&typeof t!="function",gC=Array.isArray,Mie=t=>gC(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",w0=`[ 	
\f\r]`,rd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Hx=/-->/g,Wx=/>/g,Ea=RegExp(`>|${w0}(?:([^\\s"'>=/]+)(${w0}*=${w0}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),qx=/'/g,Vx=/"/g,Qk=/^(?:script|style|textarea|title)$/i,Jk=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),cle=Jk(1),lle=Jk(2),lu=Symbol.for("lit-noChange"),Qt=Symbol.for("lit-nothing"),Gx=new WeakMap,Ma=bc.createTreeWalker(bc,129);function Xk(t,e){if(!gC(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return zx!==void 0?zx.createHTML(e):e}const Bie=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=rd;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===rd?u[1]==="!--"?o=Hx:u[1]!==void 0?o=Wx:u[2]!==void 0?(Qk.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=Ea):u[3]!==void 0&&(o=Ea):o===Ea?u[0]===">"?(o=s??rd,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Ea:u[3]==='"'?Vx:qx):o===Vx||o===qx?o=Ea:o===Hx||o===Wx?o=rd:(o=Ea,s=void 0);const f=o===Ea&&t[a+1].startsWith("/>")?" ":"";i+=o===rd?c+Lie:d>=0?(r.push(l),c.slice(0,d)+Yk+c.slice(d)+So+f):c+So+(d===-2?a:f)}return[Xk(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class of{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Bie(e,n);if(this.el=of.createElement(l,r),Ma.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Ma.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(Yk)){const h=u[o++],f=s.getAttribute(d).split(So),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:p[2],strings:f,ctor:p[1]==="."?jie:p[1]==="?"?zie:p[1]==="@"?Hie:Iy}),s.removeAttribute(d)}else d.startsWith(So)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(Qk.test(s.tagName)){const d=s.textContent.split(So),h=d.length-1;if(h>0){s.textContent=Am?Am.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],rf()),Ma.nextNode(),c.push({type:2,index:++i});s.append(d[h],rf())}}}else if(s.nodeType===8)if(s.data===Zk)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(So,d+1))!==-1;)c.push({type:7,index:i}),d+=So.length-1}i++}}static createElement(e,n){const r=bc.createElement("template");return r.innerHTML=e,r}}function uu(t,e,n=t,r){var o,a;if(e===lu)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=sf(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=uu(t,s._$AS(t,e.values),s,r)),e}class Fie{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??bc).importNode(n,!0);Ma.currentNode=s;let i=Ma.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Bf(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new Wie(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=Ma.nextNode(),o++)}return Ma.currentNode=bc,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class Bf{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=Qt,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=uu(this,e,n),sf(e)?e===Qt||e==null||e===""?(this._$AH!==Qt&&this._$AR(),this._$AH=Qt):e!==this._$AH&&e!==lu&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Mie(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Qt&&sf(this._$AH)?this._$AA.nextSibling.data=e:this.T(bc.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=of.createElement(Xk(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new Fie(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=Gx.get(e.strings);return n===void 0&&Gx.set(e.strings,n=new of(e)),n}k(e){gC(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new Bf(this.O(rf()),this.O(rf()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class Iy{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=Qt,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Qt}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=uu(this,e,n,0),o=!sf(e)||e!==this._$AH&&e!==lu,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=uu(this,a[r+c],n,c),l===lu&&(l=this._$AH[c]),o||(o=!sf(l)||l!==this._$AH[c]),l===Qt?e=Qt:e!==Qt&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===Qt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class jie extends Iy{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Qt?void 0:e}}class zie extends Iy{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Qt)}}class Hie extends Iy{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=uu(this,e,n,0)??Qt)===lu)return;const r=this._$AH,s=e===Qt&&r!==Qt||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==Qt&&(r===Qt||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class Wie{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){uu(this,e)}}const v0=Fd.litHtmlPolyfillSupport;v0==null||v0(of,Bf),(Fd.litHtmlVersions??(Fd.litHtmlVersions=[])).push("3.3.0");const qie=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new Bf(e.insertBefore(rf(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ja=globalThis;class pg extends sl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=qie(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return lu}}var g2;pg._$litElement$=!0,pg.finalized=!0,(g2=Ja.litElementHydrateSupport)==null||g2.call(Ja,{LitElement:pg});const b0=Ja.litElementPolyfillSupport;b0==null||b0({LitElement:pg});(Ja.litElementVersions??(Ja.litElementVersions=[])).push("4.2.0");let jd,Xo,ea;function ule(t,e){jd=document.createElement("style"),Xo=document.createElement("style"),ea=document.createElement("style"),jd.textContent=Ol(t).core.cssText,Xo.textContent=Ol(t).dark.cssText,ea.textContent=Ol(t).light.cssText,document.head.appendChild(jd),document.head.appendChild(Xo),document.head.appendChild(ea),e$(e)}function e$(t){Xo&&ea&&(t==="light"?(Xo.removeAttribute("media"),ea.media="enabled"):(ea.removeAttribute("media"),Xo.media="enabled"))}function Vie(t){jd&&Xo&&ea&&(jd.textContent=Ol(t).core.cssText,Xo.textContent=Ol(t).dark.cssText,ea.textContent=Ol(t).light.cssText)}function Ol(t){return{core:Pl`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Ur(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Ur((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Ur((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Ur((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Ur((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Pl`
      :root {
        --w3m-color-mix: ${Ur((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Ur(Ti(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Ur(Ti(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Pl`
      :root {
        --w3m-color-mix: ${Ur((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Ur(Ti(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Ur(Ti(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const dle=Pl`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,hle=Pl`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,fle=Pl`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,vd={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},Gie=sL({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function Ff(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Kx=Ff({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Yx=Ff({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Ff({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Ff({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Ff({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Kie={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},zd={getMethodsByChainNamespace(t){return Kie[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case Kx.caipNetworkId:u.chains.push(Kx.deprecatedCaipNetworkId);break;case Yx.caipNetworkId:u.chains.push(Yx.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Od.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class mC{constructor({provider:e,namespace:n}){this.id=z.CONNECTOR_ID.WALLET_CONNECT,this.name=Lo.ConnectorNamesMap[z.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Lo.ConnectorImageIds[z.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=N.getCaipNetworks.bind(N),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=W.state.universalProviderConfigOverride,s=zd.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Md.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Yie})}}const Yie=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class t${constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>N.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:z.CONNECTOR_ID.AUTH,type:"AUTH",name:z.CONNECTOR_NAMES.AUTH,provider:e,imageId:Lo.ConnectorImageIds[z.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){X.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var i;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,a=(i=X.state.preferredAccountTypes)==null?void 0:i[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof mC);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Zie extends t${setUniversalProvider(e){this.addConnector(new mC({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>fe.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&Xe.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(X.state.balanceLoading&&e.chainId===((c=N.state.activeCaipNetwork)==null?void 0:c.id))return{balance:X.state.balance||"0.00",symbol:X.state.balanceSymbol||""};const s=(await X.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=N.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===z.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Cu.encode(new TextEncoder().encode(r)),pubkey:s}},(a=N.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=N.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===z.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Xl(n.id)}]}))}catch(u){if(u.code===vd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===vd.ERROR_INVALID_CHAIN_ID||u.code===vd.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===vd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Xl(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const Qie=["email","socials","swaps","onramp","activity","reownBranding"],Fp={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Xe.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?Xe.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Xe.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Xe.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Xe.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Xe.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Xe.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Xe.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Xe.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},Jie={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=Fp[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=Fp[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Fp[t].processApi(e)},processFallbackFeature(t,e){return Fp[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await ge.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?Xe.DEFAULT_REMOTE_FEATURES:Xe.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Qie){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Xe.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;kt.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return i}};class Xie{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o,a;if(n){const c=(i=(s=N.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:i.find(d=>d.id===r);if(c)return c;const l=(o=N.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=N.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return N.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>N.getCaipNetworks(n),this.getActiveChainNamespace=()=>N.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{N.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>N.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>N.state.activeChain===n||!n?N.state.activeCaipAddress:N.getAccountProp("caipAddress",n),this.setClientId=n=>{we.setClientId(n)},this.getProvider=n=>it.getProvider(n),this.getProviderType=n=>it.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=X.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{X.setCaipAddress(n,r),n&&W.state.enableEmbedded&&this.close()},this.setBalance=(n,r,s)=>{X.setBalance(n,r,s)},this.setProfileName=(n,r)=>{X.setProfileName(n,r)},this.setProfileImage=(n,r)=>{X.setProfileImage(n,r)},this.setUser=(n,r)=>{X.setUser(n,r)},this.resetAccount=n=>{X.resetAccount(n)},this.setCaipNetwork=n=>{N.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{N.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{X.setAllAccounts(n,r),W.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{X.setStatus(n,r),ee.isConnected()?J.setConnectionStatus("connected"):J.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>N.getAccountProp("address",n),this.setConnectors=n=>{const r=[...ee.state.allConnectors,...n];ee.setConnectors(r)},this.setConnections=(n,r)=>{ae.setConnections(n,r)},this.fetchIdentity=n=>we.fetchIdentity(n),this.getReownName=n=>Od.getNamesForAddress(n),this.getConnectors=()=>ee.getConnectors(),this.getConnectorImage=n=>TO.getConnectorImage(n),this.getConnections=n=>kh.getConnectionsData(n).connections,this.getRecentConnections=n=>kh.getConnectionsData(n).recentConnections,this.switchConnection=n=>ae.switchConnection(n),this.deleteConnection=n=>J.deleteAddressFromConnection(n),this.setConnectedWalletInfo=(n,r)=>{const s=it.getProviderId(r),i=n?{...n,type:s}:void 0;X.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!N.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{X.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{X.removeAddressLabel(n,r)},this.getAddress=n=>N.state.activeChain===n||!n?X.state.address:N.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>N.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{N.resetNetwork(n)},this.addConnector=n=>{ee.addConnector(n)},this.resetWcConnection=()=>{ae.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{X.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{X.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{N.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{X.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{W.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await Jie.fetchRemoteFeatures(e),W.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&nb.setOnrampProviders(this.remoteFeatures.onramp),((n=W.state.remoteFeatures)!=null&&n.email||Array.isArray((r=W.state.remoteFeatures)==null?void 0:r.socials)&&((s=W.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await ge.fetchAllowedOrigins();if(!e||!fe.isClient()){kt.open(Et.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;zd.isOriginAllowed(n,e,vd.DEFAULT_ALLOWED_ANCESTORS)||kt.open(Et.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}catch(e){if(!(e instanceof Error)){kt.open(Et.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":kt.open(Et.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;kt.open({shortMessage:Et.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:Et.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(n.message)},"error");break}default:kt.open(Et.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,et.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Jn.setThemeMode(e.themeMode),e.themeVariables&&Jn.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");N.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&N.setActiveCaipNetwork(n)}initializeConnectionController(e){ae.initialize(e.adapters??[]),ae.setWcBasic(e.basic??!1)}initializeConnectorController(){ee.initialize(this.chainNamespaces)}initializeProjectSettings(e){W.setProjectId(e.projectId),W.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;W.setDebug(e.debug!==!1),W.setEnableWalletConnect(e.enableWalletConnect!==!1),W.setEnableWalletGuide(e.enableWalletGuide!==!1),W.setEnableWallets(e.enableWallets!==!1),W.setEIP6963Enabled(e.enableEIP6963!==!1),W.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),W.setEnableAuthLogger(e.enableAuthLogger!==!1),W.setCustomRpcUrls(e.customRpcUrls),W.setEnableEmbedded(e.enableEmbedded),W.setAllWallets(e.allWallets),W.setIncludeWalletIds(e.includeWalletIds),W.setExcludeWalletIds(e.excludeWalletIds),W.setFeaturedWalletIds(e.featuredWalletIds),W.setTokens(e.tokens),W.setTermsConditionsUrl(e.termsConditionsUrl),W.setPrivacyPolicyUrl(e.privacyPolicyUrl),W.setCustomWallets(e.customWallets),W.setFeatures(e.features),W.setAllowUnsupportedChain(e.allowUnsupportedChain),W.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),W.setPreferUniversalLinks(e.experimental_preferUniversalLinks),W.setDefaultAccountTypes(e.defaultAccountTypes);const n=J.getPreferredAccountTypes()||{},r={...W.state.defaultAccountTypes,...n};X.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),W.setMetadata(e.metadata),W.setDisableAppend(e.disableAppend),W.setEnableEmbedded(e.enableEmbedded),W.setSIWX(e.siwx),!e.projectId){kt.open(Et.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===z.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");W.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return fe.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Ws.getUnsupportedNetwork(`${n}:${e}`);N.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Ws.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Ws.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Ws.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?Ws.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=it.getProvider(e),s=it.getProviderId(e),{caipAddress:i}=N.getAccountData(e)||{};this.setLoading(!0,e),i&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:s}),J.removeConnectedNamespace(e),it.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),ee.removeConnectorId(e),N.resetAccount(e),N.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=N.state.activeChain,n=this.getAdapter(e),r=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),J.setConnectedNamespaces([...N.state.chains.keys()]),this.chainNamespaces.forEach(o=>{ee.setConnectorId(yt.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:i,caipNetwork:o,socialUri:a})=>{var g,v,m,y,w,b;const c=N.state.activeChain,l=i||c,u=this.getAdapter(l);if(i&&i!==c&&!o){const E=this.getCaipNetworks().find(S=>S.chainNamespace===i);E&&this.setCaipNetwork(E)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:s,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((m=(v=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:v.http)==null?void 0:m[0])||((b=(w=(y=d==null?void 0:d.rpcUrls)==null?void 0:y.default)==null?void 0:w.http)==null?void 0:b[0])});if(!h)return;J.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=X.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=N.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),J.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async({chainNamespace:e}={})=>{const n=lF(e);try{const r=await Promise.allSettled(n.map(async([i])=>this.disconnectNamespace(i)));Ke.resetSend(),ae.resetWcConnection(),await Md.clearSessions(),ee.setFilterByNamespace(void 0);const s=r.filter(i=>i.status==="rejected");if(s.length>0)throw new Error(s.map(i=>i.reason.message).join(", "));J.deleteConnectedSocialProvider(),et.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(N.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:X.state.address,provider:it.getProvider(N.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(Xe.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(N.state.activeChain),s=it.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===z.CHAIN.EVM){const n=this.getAdapter(N.state.activeChain),r=it.getProvider(N.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:X.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:N.state.activeChain}),X.state.profileImage||!1},getEnsAddress:async e=>await zd.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(N.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),i=it.getProvider(N.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(N.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(N.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(N.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(N.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(N.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(N.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!X.state.address||this.updateNativeBalance(X.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ae.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(it.getProviderId(N.state.activeChain)===yt.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=it.getProvider(n),i=it.getProviderId(n);if(e.chainNamespace===N.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===yt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=vr.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new Zie({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=J.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(J.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{const o=this.getCaipNetworks().find(l=>l.id===i||l.caipNetworkId===i),a=N.state.activeChain===e,c=N.getAccountProp("address",e);if(o){const l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=X.state.address,i=N.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=N.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=N.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=N.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===z.CHAIN.EVM&&fe.isSafeApp()&&ee.setConnectorId(z.CONNECTOR_ID.SAFE,e);const n=ee.getConnectorId(e);switch(this.setStatus("connecting",e),n){case z.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case z.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=ee.getConnectorId(e),s=this.getCaipNetwork(e),o=ee.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([fe.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,h,f,p;const o=this.getAdapter(i),a=((f=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[i])==null?void 0:f.accounts)||[],c=(p=N.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:v}=vr.parseCaipAddress(g);return v===(c==null?void 0:c.toString())})||a[0];if(l){const g=vr.validateCaipAddress(l),{chainId:v,address:m}=vr.parseCaipAddress(g);if(it.setProviderId(i,yt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&N.state.activeCaipNetwork&&(o==null?void 0:o.namespace)!==z.CHAIN.EVM){const y=o==null?void 0:o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:N.state.activeCaipNetwork});it.setProvider(i,y)}else it.setProvider(i,this.universalProvider);ee.setConnectorId(z.CONNECTOR_ID.WALLET_CONNECT,i),J.addConnectedNamespace(i),this.syncWalletConnectAccounts(i),await this.syncAccount({address:m,chainId:v,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await N.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncWalletConnectAccounts(e){var r,s,i,o,a;const n=(a=(o=(i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=vr.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>fe.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){it.setProviderId(s,e),it.setProvider(s,n),ee.setConnectorId(r,s)}async syncAllAccounts(e){const n=ee.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===N.state.activeChain,r=N.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=J.getActiveNetworkProps(),c=i||a,l=((d=N.state.activeCaipNetwork)==null?void 0:d.name)===z.UNSUPPORTED_NETWORK_NAME,u=N.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(v=>v.id.toString()===c.toString()),p=this.getCaipNetworks().find(v=>v.chainNamespace===o);if(!u&&!f&&!p){const v=this.getApprovedCaipNetworkIds()||[],m=v.find(w=>{var b;return((b=vr.parseCaipNetworkId(w))==null?void 0:b.chainId)===c.toString()}),y=v.find(w=>{var b;return((b=vr.parseCaipNetworkId(w))==null?void 0:b.chainNamespace)===o});f=this.getCaipNetworks().find(w=>w.caipNetworkId===m),p=this.getCaipNetworks().find(w=>w.caipNetworkId===y||"deprecatedCaipNetworkId"in w&&w.deprecatedCaipNetworkId===y)}const g=f||p;(g==null?void 0:g.chainNamespace)===N.state.activeChain?W.state.enableNetworkSwitch&&!W.state.allowUnsupportedChain&&((h=N.state.activeCaipNetwork)==null?void 0:h.name)===z.UNSUPPORTED_NETWORK_NAME?N.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Wh.isLowerCaseMatch(s,X.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=ee.getConnectorId(e),r=it.getProviderId(e);if(r===yt.CONNECTOR_TYPE_ANNOUNCED||r===yt.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(o=>o.id===n);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===yt.CONNECTOR_TYPE_WALLET_CONNECT){const i=it.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===z.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===z.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!Rh.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=N.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,h;const e=ore.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};W.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await rre.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{ae.setUri(e)}),this.universalProvider.on("connect",ae.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),ae.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(zd.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&fe.isCaipAddress(r[0])&&this.syncAccount(vr.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&fe.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){et.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Et.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Et.ALERT_ERRORS[o];a&&(kt.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&ae.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return Ze.open({...e,data:{swap:e.arguments}})}return Ze.open(e)}async close(){await this.injectModalUi(),Ze.close()}setLoading(e,n){Ze.setLoading(e,n)}async disconnect(e){await ae.disconnect({namespace:e})}getSIWX(){return W.state.siwx}getError(){return""}getChainId(){var e;return(e=N.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){kt.open(Et.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await N.switchActiveNetwork(n)}getWalletProvider(){return N.state.activeChain?it.state.providers[N.state.activeChain]:null}getWalletProviderType(){return it.getProviderId(N.state.activeChain)}subscribeProviders(e){return it.subscribeProviders(e)}getThemeMode(){return Jn.state.themeMode}getThemeVariables(){return Jn.state.themeVariables}setThemeMode(e){Jn.setThemeMode(e),e$(Jn.state.themeMode)}setTermsConditionsUrl(e){W.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){W.setPrivacyPolicyUrl(e)}setThemeVariables(e){Jn.setThemeVariables(e),Vie(Jn.state.themeVariables)}subscribeTheme(e){return Jn.subscribe(e)}subscribeConnections(e){return ae.subscribe(e)}getWalletInfo(){return X.state.connectedWalletInfo}getAccount(e){var o;const n=ee.getAuthConnector(e),r=N.getAccountData(e),s=N.state.activeChain,i=J.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:fe.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&i===z.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:J.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?N.subscribeChainProp("accountState",r,n):N.subscribe(r),ee.subscribe(r)}subscribeNetwork(e){return N.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return X.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){X.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){N.subscribeKey("activeCaipNetwork",e)}getState(){return Ks.state}subscribeState(e){return Ks.subscribe(e)}showErrorMessage(e){gs.showError(e)}showSuccessMessage(e){gs.showSuccess(e)}getEvent(){return{...et.state}}subscribeEvents(e){return et.subscribe(e)}replace(e){be.replace(e)}redirect(e){be.push(e)}popTransactionStack(e){be.popTransactionStack(e)}isOpen(){return Ze.state.open}isTransactionStackEmpty(){return be.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){W.setFeatures(e)}updateRemoteFeatures(e){W.setRemoteFeatures(e)}updateOptions(e){const r={...W.state||{},...e};W.setOptions(r)}setConnectMethodsOrder(e){W.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){W.setWalletFeaturesOrder(e)}setCollapseWallets(e){W.setCollapseWallets(e)}setSocialsOrder(e){W.setSocialsOrder(e)}getConnectMethodsOrder(){return r1.getConnectOrderMethod(W.state.features,ee.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||N.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&N.removeNetwork(e,n)}}let Zx=!1;class eoe extends Xie{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Er.checkIfRequestExists(n)?Er.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(en.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(en.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=Er.checkIfRequestIsSafe(r),i=X.state.address,o=N.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=N.state.activeChain;ee.getConnectorId(n)===z.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var l,u;const r=N.state.activeChain,s=r===z.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,i=W.state.defaultAccountTypes[r],o=(l=X.state.preferredAccountTypes)==null?void 0:l[r],a=n.preferredAccountType||o||i;Wh.isLowerCaseMatch(n.address,X.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...X.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(u=n.accounts)==null?void 0:u.map(d=>fe.createAccount(r,d.address,d.type||o||i));this.setAllAccounts(c||[fe.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...X.state.user||{},username:n},N.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,N.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,N.state.activeChain)})}async syncAuthConnector(e,n){var d,h,f,p;const r=z.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===N.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((d=X.state)==null?void 0:d.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=Jn.getSnapshot(),u=W.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:Ti(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&s&&(c&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:z.CONNECTOR_ID.AUTH,info:{name:z.CONNECTOR_ID.AUTH},type:yt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=N.state.activeCaipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n)):ee.getConnectorId(n)===z.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),J.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!fe.isTelegram())return;const r=J.getTelegramSocialProvider();if(!r||!fe.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;X.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=ee.getAuthConnector();r&&o&&(this.setLoading(!0,e),await ae.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),J.setConnectedSocialProvider(r),J.removeTelegramSocialProvider(),et.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,h;if(!z.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=Wh.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=Qa.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(h=this.getCaipNetwork(a))==null?void 0:h.caipNetworkId,abortController:Et.EmbeddedWalletAbortController,onTimeout:f=>{f==="iframe_load_failed"?kt.open(Et.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):f==="iframe_request_timeout"?kt.open(Et.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):f==="unverified_domain"&&kt.open(Et.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Ks.subscribeOpen(f=>{var p;!f&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===N.state.activeChain;this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&ge.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=N.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=it.getProvider(r),u=it.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=it.getProviderId(n)===yt.CONNECTOR_TYPE_AUTH,u=it.getProviderId(r),d=u===yt.CONNECTOR_TYPE_AUTH,h=z.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((l&&u===void 0||d)&&h)try{if(N.state.activeChain=e.chainNamespace,s){const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:z.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:yt.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===yt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Ks.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==z.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=it.getProviderId(e);if(n===yt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=J.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(fe.isClient()&&!Zx)try{const e={...Xe.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),fe.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!W.state.disableAppend&&!W.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}Zx=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!fe.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(In(()=>import("./embedded-wallet-Dd1r6p4k.js"),__vite__mapDeps([6,7,8,9,10,11,12,13,14,15,16,17,2,3]))),n.email&&r.push(In(()=>import("./email-Bcti4qum.js"),__vite__mapDeps([18,7,17,11,16,10,15,19,12,2,3]))),n.socials&&r.push(In(()=>import("./socials-CNYLQ8yA.js"),__vite__mapDeps([20,7,21,10,22,23,16,24,15,11,17,25,9,26,2,3]))),n.swaps&&n.swaps.length>0&&r.push(In(()=>import("./swaps-B-nc7eCj.js"),__vite__mapDeps([27,7,15,11,28,29,30,9,16,26,12,10,2,3]))),e.send&&r.push(In(()=>import("./send-B2JSUQGb.js"),__vite__mapDeps([31,7,15,11,16,10,22,17,30,9,12,32,33,2,3]))),e.receive&&r.push(In(()=>import("./receive-B3hScLPp.js"),__vite__mapDeps([34,7,35,9,25,2,3]))),n.onramp&&n.onramp.length>0&&r.push(In(()=>import("./onramp-DIl6eQrt.js"),__vite__mapDeps([36,7,37,26,16,9,11,38,21,10,22,39,17,15,24,12,2,3]))),n.activity&&r.push(In(()=>import("./transactions-Xx-4hium.js"),__vite__mapDeps([40,7,41,37,26,16,17,9,2,3]))),e.pay&&r.push(In(()=>import("./index-BbadOxy6.js"),__vite__mapDeps([42,7,15,11,43,9,16,13,38,33,24,2,3]))),await Promise.all([...r,In(()=>import("./index-BEdFCYb4.js"),__vite__mapDeps([44,7,9,11,32,16,45,29,13,38,15,14,43,41,37,26,17,28,33,10,12,19,21,22,23,8,24,35,25,39,2,3])),In(()=>import("./w3m-modal-DLUgats6.js"),__vite__mapDeps([46,7,13,9,16,14,11,29,45,2,3]))])}}const toe="1.7.9";function noe(t){return new eoe({...t,sdkVersion:fe.generateSdkVersion(t.adapters??[],"html",toe)})}function roe(t){let e=[],n,r;function s(a){return Rh.parseEvmChainId(a)||1}function i(){var a;return n||(n=Qa.getInstance({projectId:t.options.projectId,chainId:(a=N.getActiveCaipNetwork())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?kt.open(Et.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?kt.open(Et.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&kt.open(Et.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Et.EmbeddedWalletAbortController})),n}async function o(a={}){var g,v;const c=i();let l=a.chainId;if(a.isReconnecting){const m=Rh.parseEvmChainId(c.getLastUsedChainId()||""),y=(g=t.chains)==null?void 0:g[0].id;if(l=m||y,!l)throw new Error("ChainId not found in provider")}const u=(v=X.state.preferredAccountTypes)==null?void 0:v.eip155,{address:d,chainId:h,accounts:f}=await c.connect({chainId:l,preferredAccountType:u,socialUri:a.socialUri});e=(f==null?void 0:f.map(m=>m.address))||[d];const p=s(h);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:z.CONNECTOR_ID.AUTH,name:z.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:z.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=Qa.getInstance({projectId:t.options.projectId,chainId:(c=N.getActiveCaipNetwork())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Et.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?kt.open(Et.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?kt.open(Et.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&kt.open(Et.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=N.state.activeChain===z.CHAIN.EVM;if(z.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>ee.getConnectorId(h)===z.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l,u;try{const d=a.chains.find(g=>g.id===c);if(!d)throw new Xs(new Error("chain not found on connector."));const h=await this.getProvider(),f=(l=X.state.preferredAccountTypes)==null?void 0:l.eip155,p=await h.connect({chainId:c,preferredAccountType:f});return e=((u=p==null?void 0:p.accounts)==null?void 0:u.map(g=>g.address))||[p.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),d}catch(d){throw d instanceof Error?new Xs(d):d}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(Ra)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}yC.type="walletConnect";function yC(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:yC.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var h,f,p;try{const g=N.getCaipNetworks(),v=await this.getProvider();if(!v)throw new po;a||(a=this.onDisplayUri,v.on("display_uri",a));const m=await this.isChainsStale();v.session&&m&&await v.disconnect();const y=W.state.universalProviderConfigOverride;if(!v.session||m){const x=zd.createNamespaces(g,y);await v.connect({optionalNamespaces:x,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(k=>Number(k.id)))}const w=await this.getAccounts(),b=await this.getChainId(),E=(p=(f=(h=v.session)==null?void 0:h.namespaces)==null?void 0:f.eip155)==null?void 0:p.chains,S=E==null?void 0:E.some(x=>Number(x.split(":")[1])===b);let _=1;S?_=b:E!=null&&E[0]&&(_=Number(E[0].split(":")[1])),a&&(v.removeListener("display_uri",a),a=void 0),o&&(v.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),v.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),v.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),v.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),v.on("session_delete",c));const T=y==null?void 0:y.defaultChain;return v.setDefaultChain(T??`eip155:${_}`),{accounts:w,chainId:_}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new Ft(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var p,g,v;const d=await this.getProvider();if(!((p=d==null?void 0:d.session)!=null&&p.namespaces))return[];const h=(v=(g=d==null?void 0:d.session)==null?void 0:g.namespaces[z.CHAIN.EVM])==null?void 0:v.accounts;return(h==null?void 0:h.map(m=>m.split(":")[2]))??[]},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=J.getActiveNamespace(),f=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&f!==d&&h){const v=J.getStoredActiveCaipNetworkId(),m=e.getCaipNetworks(h),y=m==null?void 0:m.find(w=>w.id===v);y&&y.chainNamespace===z.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(y.id)}))}return r},async getChainId(){var g,v,m,y;const d=(g=e.getCaipNetwork(z.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const f=(y=(m=(v=(await this.getProvider()).session)==null?void 0:v.namespaces[z.CHAIN.EVM])==null?void 0:m.chains)==null?void 0:y[0],p=N.getCaipNetworks().find(w=>w.id===f);return p==null?void 0:p.id},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var g,v,m,y;const f=await this.getProvider();if(!f)throw new po;const p=N.getCaipNetworks().find(w=>w.id===h);if(!p)throw new Xs(new xh);try{await f.request({method:"wallet_switchEthereumChain",params:[{chainId:Re(h)}]}),p!=null&&p.caipNetworkId&&f.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(h)});const w=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...w,h]),{...p,id:p.id}}catch(w){const b=w;if(/(?:user rejected)/iu.test(b.message))throw new Ft(b);try{let E;d!=null&&d.blockExplorerUrls?E=d.blockExplorerUrls:E=(g=p.blockExplorers)!=null&&g.default.url?[(v=p.blockExplorers)==null?void 0:v.default.url]:[];const S=((y=(m=p.rpcUrls)==null?void 0:m.chainDefault)==null?void 0:y.http)||[],_={blockExplorerUrls:E,chainId:Re(h),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:S};await f.request({method:"wallet_addEthereumChain",params:[_]});const T=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...T,h]),{...p,id:p.id}}catch(E){throw new Ft(E)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(h=>Ra(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},onConnect(d){this.setRequestedChainsIds(N.getCaipNetworks().map(h=>Number(h.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),i&&(h.removeListener("chainChanged",i),i=void 0),l&&(h.removeListener("disconnect",l),l=void 0),c&&(h.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var f,p,g;if(!((f=r==null?void 0:r.session)!=null&&f.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[z.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(v=>Number.parseInt(v.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const d=await((h=u.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const f=await this.getRequestedChainsIds();return!d.every(p=>f.includes(Number(p)))},async setRequestedChainsIds(d){var h;await((h=u.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const sd=ft({pendingTransactions:0}),Qx={state:sd,subscribeKey(t,e){return fn(sd,t,e)},increase(t){sd[t]+=1},decrease(t){sd[t]-=1},reset(t){sd[t]=0}};function soe(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function ioe(t){if(fe.isSafeApp()){const{safe:e}=await In(async()=>{const{safe:n}=await import("./index-C30KGjFW.js");return{safe:n}},__vite__mapDeps([47,2,3]));if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function ooe(t){try{const{coinbaseWallet:e}=await In(async()=>{const{coinbaseWallet:n}=await import("./index-C30KGjFW.js");return{coinbaseWallet:n}},__vite__mapDeps([47,2,3]));if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const aoe={enable:!1,pollingInterval:3e4};class coe extends t${constructor(e){const n=Ws.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=z.CHAIN.EVM,this.adapterType=z.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...aoe,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===z.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>fe.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Il(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>fe.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=Il(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===z.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=Ws.getCaipNetworkId(s);i?n[s.id]=Ws.extendWagmiTransports(s,e.projectId,i):n[s.id]=Ws.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=nM({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=UL(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),Qx.increase("pendingTransactions")}});const e=Qx.subscribeKey("pendingTransactions",n=>{var r;n>=z.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){sO(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"&&(e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await ooe(this.wagmiConfig.connectors);s&&n.push(s)}const r=await ioe(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(yC(e,n)),e.enableInjected!==!1&&r.push(ry({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(roe({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(h=>[...h,d])})}async signMessage(e){try{return{signature:await RL(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Il(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await OL(this.wagmiConfig,s);const i=await rO(this.wagmiConfig,s);return await LL(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(Rh.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await iO(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await xL(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return cL(e.value,e.decimals)}formatUnits(e){return gu(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===z.CONNECTOR_ID.AUTH||e.id===z.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Lo.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:Lo.ConnectorNamesMap[e.id]??e.name,imageId:Lo.ConnectorImageIds[e.id],type:Lo.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===z.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){DL(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=ga(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(fe.isSafeApp()&&n===z.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const h=await fw(this.wagmiConfig,{connector:d,chainId:Number(r)}),f=await d.getProvider();return{chainId:Number(r),address:h.accounts[0],provider:f,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await fw(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await yS(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var u,d,h,f,p;const{id:n,provider:r,type:s,info:i,chainId:o,socialUri:a}=e,c=this.getWagmiConnector(n);if(!c)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&i&&c.id===z.CONNECTOR_ID.EIP6963&&((u=c.setEip6963Wallet)==null||u.call(c,{provider:r,info:i})),c.uid===((h=(d=this.wagmiConfig)==null?void 0:d.state)==null?void 0:h.current)){const g=(p=(f=this.wagmiConfig.state)==null?void 0:f.connections)==null?void 0:p.get(c.uid);if(g)return{address:g==null?void 0:g.accounts[0],chainId:g==null?void 0:g.chainId,provider:r,type:s,id:n}}const l=await fw(this.wagmiConfig,{connector:c,chainId:o?Number(o):void 0,socialUri:a});return{address:l.accounts[0],chainId:l.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await Lv(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=J.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await PL(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});J.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=ga(this.wagmiConfig);await Promise.allSettled(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await IL(this.wagmiConfig,{connector:r})})),this.wagmiConfig.state.connections.clear()}async switchNetwork(e){var r,s,i,o,a;const{caipNetwork:n}=e;await yS(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((i=(s=(r=n.rpcUrls)==null?void 0:r.chainDefault)==null?void 0:s.http)==null?void 0:i[0])??""],blockExplorerUrls:[((o=n.blockExplorers)==null?void 0:o.default.url)??""],iconUrls:[((a=n.assets)==null?void 0:a.imageUrl)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=ga(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=soe(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=ga(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=ga(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=ga(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=ga(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");r&&!n.find(s=>s.connector.id===r.id)&&Lv(this.wagmiConfig,{connectors:[r]})}),this.addConnector(new mC({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const n$="632d3f730ba3e9f40aa33b83cd8b3ac9",loe={name:"Lawb.xyz",description:"Lawbster NFT Platform",url:"https://lawb.xyz",icons:["https://lawb.xyz/favicon.ico"]},r$=[Gie],wC=new coe({networks:r$,projectId:n$,ssr:!0});noe({adapters:[wC],networks:r$,projectId:n$,metadata:loe,themeMode:"dark",features:{analytics:!1}});var vC={};Object.defineProperty(vC,"__esModule",{value:!0});vC.parse=moe;vC.serialize=yoe;const uoe=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,doe=/^[\u0021-\u003A\u003C-\u007E]*$/,hoe=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,foe=/^[\u0020-\u003A\u003D-\u007E]*$/,poe=Object.prototype.toString,goe=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function moe(t,e){const n=new goe,r=t.length;if(r<2)return n;const s=(e==null?void 0:e.decode)||woe;let i=0;do{const o=t.indexOf("=",i);if(o===-1)break;const a=t.indexOf(";",i),c=a===-1?r:a;if(o>c){i=t.lastIndexOf(";",o-1)+1;continue}const l=Jx(t,i,o),u=Xx(t,o,l),d=t.slice(l,u);if(n[d]===void 0){let h=Jx(t,o+1,c),f=Xx(t,c,h);const p=s(t.slice(h,f));n[d]=p}i=c+1}while(i<r);return n}function Jx(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Xx(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function yoe(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!uoe.test(t))throw new TypeError(`argument name is invalid: ${t}`);const s=r(e);if(!doe.test(s))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+s;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!hoe.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!foe.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!voe(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function woe(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function voe(t){return poe.call(t)==="[object Date]"}var e2="popstate";function boe(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return i1("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:af(s)}return Coe(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Eoe(){return Math.random().toString(36).substring(2,10)}function t2(t,e){return{usr:t.state,key:t.key,idx:e}}function i1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Iu(e):e,state:n,key:e&&e.key||r||Eoe()}}function af({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Iu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Coe(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,l=u();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let v=u(),m=v==null?null:v-l;l=v,c&&c({action:a,location:g.location,delta:m})}function h(v,m){a="PUSH";let y=i1(g.location,v,m);l=u()+1;let w=t2(y,l),b=g.createHref(y);try{o.pushState(w,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}i&&c&&c({action:a,location:g.location,delta:1})}function f(v,m){a="REPLACE";let y=i1(g.location,v,m);l=u();let w=t2(y,l),b=g.createHref(y);o.replaceState(w,"",b),i&&c&&c({action:a,location:g.location,delta:0})}function p(v){return _oe(v)}let g={get action(){return a},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(e2,d),c=v,()=>{s.removeEventListener(e2,d),c=null}},createHref(v){return e(s,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(v){return o.go(v)}};return g}function _oe(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:af(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function s$(t,e,n="/"){return Soe(t,e,n,!1)}function Soe(t,e,n,r){let s=typeof e=="string"?Iu(e):e,i=Hi(s.pathname||"/",n);if(i==null)return null;let o=i$(t);Aoe(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=Uoe(i);a=$oe(o[c],l,r)}return a}function i$(t,e=[],n=[],r=""){let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(At(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let l=Di([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(At(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),i$(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:Roe(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of o$(i.path))s(i,o,c)}),e}function o$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=o$(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Aoe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:koe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ioe=/^:[\w-]+$/,xoe=3,Noe=2,Toe=1,Poe=10,Ooe=-2,n2=t=>t==="*";function Roe(t,e){let n=t.split("/"),r=n.length;return n.some(n2)&&(r+=Ooe),e&&(r+=Noe),n.filter(s=>!n2(s)).reduce((s,i)=>s+(Ioe.test(i)?xoe:i===""?Toe:Poe),r)}function koe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function $oe(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Im({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=Im({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Di([i,d.pathname]),pathnameBase:Foe(Di([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Di([i,d.pathnameBase]))}return o}function Im(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Doe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,{paramName:u,isOptional:d},h)=>{if(u==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const f=a[h];return d&&!f?l[u]=void 0:l[u]=(f||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function Doe(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Uoe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Loe(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Iu(t):t;return{pathname:n?n.startsWith("/")?n:Moe(n,e):e,search:joe(r),hash:zoe(s)}}function Moe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function E0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Boe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a$(t){let e=Boe(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function c$(t,e,n,r=!1){let s;typeof t=="string"?s=Iu(t):(s={...t},At(!s.pathname||!s.pathname.includes("?"),E0("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),E0("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),E0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let c=Loe(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var Di=t=>t.join("/").replace(/\/\/+/g,"/"),Foe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),joe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zoe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hoe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var l$=["POST","PUT","PATCH","DELETE"];new Set(l$);var Woe=["GET",...l$];new Set(Woe);var xu=B.createContext(null);xu.displayName="DataRouter";var xy=B.createContext(null);xy.displayName="DataRouterState";var u$=B.createContext({isTransitioning:!1});u$.displayName="ViewTransition";var qoe=B.createContext(new Map);qoe.displayName="Fetchers";var Voe=B.createContext(null);Voe.displayName="Await";var ii=B.createContext(null);ii.displayName="Navigation";var jf=B.createContext(null);jf.displayName="Location";var Gi=B.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var bC=B.createContext(null);bC.displayName="RouteError";function Goe(t,{relative:e}={}){At(zf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(ii),{hash:s,pathname:i,search:o}=Hf(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Di([n,i])),r.createHref({pathname:a,search:o,hash:s})}function zf(){return B.useContext(jf)!=null}function Rc(){return At(zf(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(jf).location}var d$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h$(t){B.useContext(ii).static||B.useLayoutEffect(t)}function Koe(){let{isDataRoute:t}=B.useContext(Gi);return t?aae():Yoe()}function Yoe(){At(zf(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(xu),{basename:e,navigator:n}=B.useContext(ii),{matches:r}=B.useContext(Gi),{pathname:s}=Rc(),i=JSON.stringify(a$(r)),o=B.useRef(!1);return h$(()=>{o.current=!0}),B.useCallback((c,l={})=>{if(ri(o.current,d$),!o.current)return;if(typeof c=="number"){n.go(c);return}let u=c$(c,JSON.parse(i),s,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Di([e,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[e,n,i,s,t])}B.createContext(null);function Hf(t,{relative:e}={}){let{matches:n}=B.useContext(Gi),{pathname:r}=Rc(),s=JSON.stringify(a$(n));return B.useMemo(()=>c$(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Zoe(t,e){return f$(t,e)}function f$(t,e,n,r){var m;At(zf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(ii),{matches:i}=B.useContext(Gi),o=i[i.length-1],a=o?o.params:{},c=o?o.pathname:"/",l=o?o.pathnameBase:"/",u=o&&o.route;{let y=u&&u.path||"";p$(c,!u||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let d=Rc(),h;if(e){let y=typeof e=="string"?Iu(e):e;At(l==="/"||((m=y.pathname)==null?void 0:m.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${y.pathname}" was given in the \`location\` prop.`),h=y}else h=d;let f=h.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=s$(t,{pathname:p});ri(u||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ri(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=tae(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Di([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Di([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&v?B.createElement(jf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},v):v}function Qoe(){let t=oae(),e=Hoe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:i},"ErrorBoundary")," or"," ",B.createElement("code",{style:i},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:s},n):null,o)}var Joe=B.createElement(Qoe,null),Xoe=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(Gi.Provider,{value:this.props.routeContext},B.createElement(bC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eae({routeContext:t,match:e,children:n}){let r=B.useContext(xu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Gi.Provider,{value:t},n)}function tae(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id])!==void 0);At(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let l=s[c];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(a=c),l.route.id){let{loaderData:u,errors:d}=n,h=l.route.loader&&!u.hasOwnProperty(l.route.id)&&(!d||d[l.route.id]===void 0);if(l.route.lazy||h){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,l,u)=>{let d,h=!1,f=null,p=null;n&&(d=i&&l.route.id?i[l.route.id]:void 0,f=l.route.errorElement||Joe,o&&(a<0&&u===0?(p$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===u&&(h=!0,p=l.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,u+1)),v=()=>{let m;return d?m=f:h?m=p:l.route.Component?m=B.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=c,B.createElement(eae,{match:l,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?B.createElement(Xoe,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}function EC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nae(t){let e=B.useContext(xu);return At(e,EC(t)),e}function rae(t){let e=B.useContext(xy);return At(e,EC(t)),e}function sae(t){let e=B.useContext(Gi);return At(e,EC(t)),e}function CC(t){let e=sae(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iae(){return CC("useRouteId")}function oae(){var r;let t=B.useContext(bC),e=rae("useRouteError"),n=CC("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function aae(){let{router:t}=nae("useNavigate"),e=CC("useNavigate"),n=B.useRef(!1);return h$(()=>{n.current=!0}),B.useCallback(async(s,i={})=>{ri(n.current,d$),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var r2={};function p$(t,e,n){!e&&!r2[t]&&(r2[t]=!0,ri(!1,n))}B.memo(cae);function cae({routes:t,future:e,state:n}){return f$(t,void 0,n,e)}function o1(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lae({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){At(!zf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=B.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Iu(n));let{pathname:c="/",search:l="",hash:u="",state:d=null,key:h="default"}=n,f=B.useMemo(()=>{let p=Hi(c,o);return p==null?null:{location:{pathname:p,search:l,hash:u,state:d,key:h},navigationType:r}},[o,c,l,u,d,h,r]);return ri(f!=null,`<Router basename="${o}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:B.createElement(ii.Provider,{value:a},B.createElement(jf.Provider,{children:e,value:f}))}function uae({children:t,location:e}){return Zoe(a1(t),e)}function a1(t,e=[]){let n=[];return B.Children.forEach(t,(r,s)=>{if(!B.isValidElement(r))return;let i=[...e,s];if(r.type===B.Fragment){n.push.apply(n,a1(r.props.children,i));return}At(r.type===o1,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=a1(r.props.children,i)),n.push(o)}),n}var gg="get",mg="application/x-www-form-urlencoded";function Ny(t){return t!=null&&typeof t.tagName=="string"}function dae(t){return Ny(t)&&t.tagName.toLowerCase()==="button"}function hae(t){return Ny(t)&&t.tagName.toLowerCase()==="form"}function fae(t){return Ny(t)&&t.tagName.toLowerCase()==="input"}function pae(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gae(t,e){return t.button===0&&(!e||e==="_self")&&!pae(t)}var jp=null;function mae(){if(jp===null)try{new FormData(document.createElement("form"),0),jp=!1}catch{jp=!0}return jp}var yae=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function C0(t){return t!=null&&!yae.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mg}"`),null):t}function wae(t,e){let n,r,s,i,o;if(hae(t)){let a=t.getAttribute("action");r=a?Hi(a,e):null,n=t.getAttribute("method")||gg,s=C0(t.getAttribute("enctype"))||mg,i=new FormData(t)}else if(dae(t)||fae(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Hi(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||gg,s=C0(t.getAttribute("formenctype"))||C0(a.getAttribute("enctype"))||mg,i=new FormData(a,t),!mae()){let{name:l,type:u,value:d}=t;if(u==="image"){let h=l?`${l}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else l&&i.append(l,d)}}else{if(Ny(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gg,r=null,s=mg,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function _C(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function vae(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bae(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Eae(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await vae(i,n);return o.links?o.links():[]}return[]}));return Aae(r.flat(1).filter(bae).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function s2(t,e,n,r,s,i){let o=(c,l)=>n[l]?c.route.id!==n[l].route.id:!0,a=(c,l)=>{var u;return n[l].pathname!==c.pathname||((u=n[l].route.path)==null?void 0:u.endsWith("*"))&&n[l].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,l)=>o(c,l)||a(c,l)):i==="data"?e.filter((c,l)=>{var d;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,l)||a(c,l))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Cae(t,e,{includeHydrateFallback:n}={}){return _ae(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function _ae(t){return[...new Set(t)]}function Sae(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Aae(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Sae(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Iae=new Set([100,101,204,205]);function xae(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Hi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function g$(){let t=B.useContext(xu);return _C(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Nae(){let t=B.useContext(xy);return _C(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var SC=B.createContext(void 0);SC.displayName="FrameworkContext";function m$(){let t=B.useContext(SC);return _C(t,"You must render this element inside a <HydratedRouter> element"),t}function Tae(t,e){let n=B.useContext(SC),[r,s]=B.useState(!1),[i,o]=B.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=e,h=B.useRef(null);B.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=m=>{m.forEach(y=>{o(y.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[t]),B.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let f=()=>{s(!0)},p=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:id(a,f),onBlur:id(c,p),onMouseEnter:id(l,f),onMouseLeave:id(u,p),onTouchStart:id(d,f)}]:[!1,h,{}]}function id(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Pae({page:t,...e}){let{router:n}=g$(),r=B.useMemo(()=>s$(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?B.createElement(Rae,{page:t,matches:r,...e}):null}function Oae(t){let{manifest:e,routeModules:n}=m$(),[r,s]=B.useState([]);return B.useEffect(()=>{let i=!1;return Eae(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Rae({page:t,matches:e,...n}){let r=Rc(),{manifest:s,routeModules:i}=m$(),{basename:o}=g$(),{loaderData:a,matches:c}=Nae(),l=B.useMemo(()=>s2(t,e,c,s,r,"data"),[t,e,c,s,r]),u=B.useMemo(()=>s2(t,e,c,s,r,"assets"),[t,e,c,s,r]),d=B.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(e.forEach(m=>{var w;let y=s.routes[m.route.id];!y||!y.hasLoader||(!l.some(b=>b.route.id===m.route.id)&&m.route.id in a&&((w=i[m.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?g=!0:p.add(m.route.id))}),p.size===0)return[];let v=xae(t,o);return g&&p.size>0&&v.searchParams.set("_routes",e.filter(m=>p.has(m.route.id)).map(m=>m.route.id).join(",")),[v.pathname+v.search]},[o,a,r,s,l,e,t,i]),h=B.useMemo(()=>Cae(u,s),[u,s]),f=Oae(u);return B.createElement(B.Fragment,null,d.map(p=>B.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>B.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),f.map(({key:p,link:g})=>B.createElement("link",{key:p,...g})))}function kae(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y$&&(window.__reactRouterVersion="7.6.2")}catch{}function $ae({basename:t,children:e,window:n}){let r=B.useRef();r.current==null&&(r.current=boe({window:n,v5Compat:!0}));let s=r.current,[i,o]=B.useState({action:s.action,location:s.location}),a=B.useCallback(c=>{B.startTransition(()=>o(c))},[o]);return B.useLayoutEffect(()=>s.listen(a),[s,a]),B.createElement(lae,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var w$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v$=B.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:d,...h},f){let{basename:p}=B.useContext(ii),g=typeof l=="string"&&w$.test(l),v,m=!1;if(typeof l=="string"&&g&&(v=l,y$))try{let x=new URL(window.location.href),k=l.startsWith("//")?new URL(x.protocol+l):new URL(l),$=Hi(k.pathname,p);k.origin===x.origin&&$!=null?l=$+k.search+k.hash:m=!0}catch{ri(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=Goe(l,{relative:s}),[w,b,E]=Tae(r,h),S=Mae(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:d});function _(x){e&&e(x),x.defaultPrevented||S(x)}let T=B.createElement("a",{...h,...E,href:v||y,onClick:m||i?e:_,ref:kae(f,b),target:c,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?B.createElement(B.Fragment,null,T,B.createElement(Pae,{page:y})):T});v$.displayName="Link";var Dae=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...l},u){let d=Hf(o,{relative:l.relative}),h=Rc(),f=B.useContext(xy),{navigator:p,basename:g}=B.useContext(ii),v=f!=null&&Hae(d)&&a===!0,m=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=h.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&g&&(w=Hi(w,g)||w);const b=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let E=y===m||!s&&y.startsWith(m)&&y.charAt(b)==="/",S=w!=null&&(w===m||!s&&w.startsWith(m)&&w.charAt(m.length)==="/"),_={isActive:E,isPending:S,isTransitioning:v},T=E?e:void 0,x;typeof r=="function"?x=r(_):x=[r,E?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof i=="function"?i(_):i;return B.createElement(v$,{...l,"aria-current":T,className:x,ref:u,style:k,to:o,viewTransition:a},typeof c=="function"?c(_):c)});Dae.displayName="NavLink";var Uae=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=gg,action:a,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,...h},f)=>{let p=jae(),g=zae(a,{relative:l}),v=o.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&w$.test(a),y=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let b=w.nativeEvent.submitter,E=(b==null?void 0:b.getAttribute("formmethod"))||o;p(b||w.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:i,relative:l,preventScrollReset:u,viewTransition:d})};return B.createElement("form",{ref:f,method:v,action:g,onSubmit:r?c:y,...h,"data-discover":!m&&t==="render"?"true":void 0})});Uae.displayName="Form";function Lae(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b$(t){let e=B.useContext(xu);return At(e,Lae(t)),e}function Mae(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Koe(),c=Rc(),l=Hf(t,{relative:i});return B.useCallback(u=>{if(gae(u,e)){u.preventDefault();let d=n!==void 0?n:af(c)===af(l);a(t,{replace:d,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,l,n,r,e,t,s,i,o])}var Bae=0,Fae=()=>`__${String(++Bae)}__`;function jae(){let{router:t}=b$("useSubmit"),{basename:e}=B.useContext(ii),n=iae();return B.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:l}=wae(r,e);if(s.navigate===!1){let u=s.fetcherKey||Fae();await t.fetch(u,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:l,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:l,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function zae(t,{relative:e}={}){let{basename:n}=B.useContext(ii),r=B.useContext(Gi);At(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Hf(t||".",{relative:e})},o=Rc();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(u=>u==="")){a.delete("index"),c.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Di([n,i.pathname])),af(i)}function Hae(t,e={}){let n=B.useContext(u$);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b$("useViewTransitionState"),s=Hf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Im(s.pathname,o)!=null||Im(s.pathname,i)!=null}[...Iae];function Wae(){return B.useEffect(()=>{window.ownerId="BeKFkmLuHigZMDaKysu2ugBymkmKfcrHkMz6rWBQzzSo",window.collectionId="iVhHZ1Oy0LrIoVTG9C2v";let t=0;const e=async()=>{try{if(!window.supabase){if(t<5){t++,setTimeout(e,1e3);return}throw new Error("Supabase library not loaded")}window.gameDatabase=window.supabase.createClient("https://roxwocgknkiqnsgiojgz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJveHdvY2drbmtpcW5zZ2lvamd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA3NjMxMTIsImV4cCI6MjA0NjMzOTExMn0.NbLMZom-gk7XYGdV4MtXYcgR8R1s8xthrIQ0hpQfx9Y");const{data:a,error:c}=await window.gameDatabase.from("leaderboard").select("count").single();if(c)throw c;await n()}catch(a){console.error("Supabase initialization failed:",a),t<5&&(t++,setTimeout(e,1e3))}};async function n(){try{const a=["/assets/loadImages-fTm9cFM8.js","/assets/loadImages2-CbGWNmap.js","/assets/loadImages3-0Gofh18A.js","/assets/memeGenerator.js"];await new Promise(c=>{document.getElementById("meme-generator")?c():setTimeout(()=>c(),100)});for(const c of a)console.log(`Attempting to load: ${c}`),await new Promise((l,u)=>{const d=document.createElement("script");d.src=c,d.async=!0,d.onload=()=>{console.log(`Loaded: ${c}`),l()},d.onerror=()=>{console.error(`Failed to load: ${c}`),u(new Error(`Failed to load ${c}`))},document.body.appendChild(d)});console.log("All scripts loaded, calling loadCollections"),loadCollections()}catch(a){console.error("Error in loadGameScripts:",a)}}e();const r=document.createElement("script");r.src="https://platform.twitter.com/widgets.js",r.async=!0,document.body.appendChild(r);const s=document.createElement("script");s.src="https://tenor.com/embed.js",s.async=!0,document.body.appendChild(s);const i=document.getElementById("nexusToggleButton"),o=document.getElementById("nexusVideo");return i&&o&&i.addEventListener("click",()=>{o.paused?o.play():o.pause()}),()=>{document.body.removeChild(r),document.body.removeChild(s)}},[]),P.jsxs(P.Fragment,{children:[P.jsx("nav",{children:P.jsxs("ul",{children:[P.jsx("li",{children:P.jsx("a",{href:"#welcome",children:"Welcome"})}),P.jsx("li",{children:P.jsx("a",{href:"https://lawb.xyz/mint",target:"_blank",rel:"noopener noreferrer",children:"Mint Pixelawbs"})}),P.jsx("li",{children:P.jsx("a",{href:"#lawb-token",children:"$LAWB"})}),P.jsx("li",{children:P.jsx("a",{href:"#nexus",children:"LawbNexus"})}),P.jsx("li",{children:P.jsx("a",{href:"https://webring.ai/explore/agent/60eb37b2-1ab1-4c57-b541-7b95be809349",target:"_blank",rel:"noopener noreferrer",children:"LawbNexus Responder"})}),P.jsx("li",{children:P.jsx("a",{href:"#station",children:"LawbStation"})}),P.jsx("li",{children:P.jsx("a",{href:"/lawbchess.html",target:"_blank",rel:"noopener noreferrer",children:"Play Chess"})}),P.jsx("li",{children:P.jsx("a",{href:"#starz",children:"LawbStarz"})}),P.jsx("li",{children:P.jsx("a",{href:"#lawbsters",children:"Lawbsters"})}),P.jsx("li",{children:P.jsx("a",{href:"#lore",children:"Lore"})}),P.jsx("li",{children:P.jsx("a",{href:"#halloween",children:"Halloween"})}),P.jsx("li",{children:P.jsx("a",{href:"https://x.com/LawbStation",target:"_blank",rel:"noopener noreferrer",children:"Lawbstation Twitter"})}),P.jsx("li",{children:P.jsx("a",{href:"https://x.com/LawbNexus",target:"_blank",rel:"noopener noreferrer",children:"LawbNexus Twitter"})}),P.jsx("li",{children:P.jsx("a",{href:"https://t.me/tickerlawb",target:"_blank",rel:"noopener noreferrer",children:"Telegram"})}),P.jsx("li",{children:P.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",children:"Chat"})})]})}),P.jsxs("div",{className:"container",children:[P.jsx("marquee",{children:"there is no meme we lawb you"}),P.jsxs("section",{id:"welcome",className:"section",children:[P.jsx("h1",{children:"Lawb Headquarters"}),P.jsx("p",{children:"Lawbsters seem nice but a human controlled by a lobster will never amount to anything without a roadmap."}),P.jsx("h2",{children:"Lawb Meme Generator"}),P.jsxs("div",{id:"meme-generator",children:[P.jsx("label",{htmlFor:"collection-selector",children:"Select Collection:"}),P.jsx("select",{id:"collection-selector"}),P.jsx("label",{htmlFor:"top-text",children:"Top Text:"}),P.jsx("input",{type:"text",id:"top-text"}),P.jsx("label",{htmlFor:"bottom-text",children:"Bottom Text:"}),P.jsx("input",{type:"text",id:"bottom-text"}),P.jsx("img",{id:"fetch-image",src:"/images/fetch.gif",alt:"Fetch Lawb",className:"gif-button"}),P.jsx("img",{id:"generate-meme",src:"/images/addtext.gif",alt:"Add Text",className:"gif-button"}),P.jsx("img",{id:"deep-fry",src:"/images/deepfry.gif",alt:"Deep Fry",className:"gif-button"}),P.jsx("div",{id:"imageContainer"})]}),P.jsx("img",{id:"generated-meme",style:{display:"none"},alt:""}),P.jsx("canvas",{id:"meme-canvas",style:{display:"none"}}),P.jsxs("div",{id:"lawb-token",children:[P.jsx("img",{src:"/images/lawbticker.gif",alt:"ticker $lawb",className:"section-image"}),P.jsx("h1",{children:P.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",children:"🦞 $LAWB"})}),P.jsxs("p",{children:["$lawb seems nice but a lawbster token on the Solana blockchain will never achieve anything without a roadmap. Token created 03.15.24 on ",P.jsx("a",{href:"https://www.pump.fun/65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6",target:"_blank",rel:"noopener noreferrer",children:"pump.fun"}),"."]}),P.jsx("p",{children:"$lawb airdropped to LawbStation holders 03.19.24"}),P.jsx("p",{children:"THERE IS NO MEME WE $LAWB YOU"}),P.jsx("p",{children:"(sol) ca: 65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6"}),P.jsx("p",{children:"(arb) ca: 0x741f8FbF42485E772D97f1955c31a5B8098aC962"}),P.jsx("p",{children:"(dmt) ca: 0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F"}),P.jsxs("p",{children:["if you wish to bridge your $lawb token from solana to arbitrum to sanko, a wormhole is available via ",P.jsx("a",{href:"https://portalbridge.com/",target:"_blank",rel:"noopener noreferrer",children:"https://portalbridge.com/"})]}),P.jsx("p",{children:"step 1. connect solana wallet and select $lawb token (65GVcFcSqQcaMNeBkYcen4ozeT83tr13CeDLU4sUUdV6)"}),P.jsx("p",{children:"step 2. connect arbitrum wallet and select $lawb token (0x741f8FbF42485E772D97f1955c31a5B8098aC962)"}),P.jsx("p",{children:"step 3. select token quantity, confirm transactions."}),P.jsxs("p",{children:["step 4. now that you have $lawb on arbitrum, visit ",P.jsx("a",{href:"https://sanko.xyz/bridge",target:"_blank",rel:"noopener noreferrer",children:"https://sanko.xyz/bridge"})," and connect your arb wallet."]}),P.jsx("p",{children:"step 5. from arb wallet, select $lawb token."}),P.jsx("p",{children:"step 6. connect to sanko chain. if not already selected, select $lawb token on sanko (0xA7DA528a3F4AD9441CaE97e1C33D49db91c82b9F)"}),P.jsx("p",{children:"step 7. select quantity and confirm transactions."}),P.jsx("div",{id:"dexscreener-embed",children:P.jsx("iframe",{src:"https://dexscreener.com/solana/DTxVuYphEobWo66afEfP9MfGt2E14C6UfeXnvXWnvep?embed=1&theme=dark&info=0",title:"DexScreener"})}),P.jsxs("div",{style:{textAlign:"center",marginTop:"20px",marginBottom:"20px"},children:[P.jsx("p",{children:"swap $lawb token on Unicorn Meme Market"}),P.jsx("a",{href:"https://uwu.pro/memoji/ulawb",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/lawbuwu.png",alt:"UWU Chart",className:"section-image-half",style:{maxWidth:"25%"}})})]}),P.jsx("a",{href:"https://www.purity.finance/lawb",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/purityfinance.png",alt:"Purify with Purity Finance",className:"section-image-half"})}),P.jsx("p",{className:"purity-text",children:"Click to Purify. Purity Finance consolidates dust tokens, unused accounts and unwanted NFTs into $LAWB in just one click, helping you reclaim hidden value from your wallet."})]}),P.jsxs("div",{className:"video-section",children:[P.jsxs("video",{autoPlay:!0,loop:!0,controls:!0,children:[P.jsx("source",{src:"/images/bluelawbnifty.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),P.jsxs("p",{children:["Join the ",P.jsx("a",{href:"https://www.niftyisland.com/communities/9e8a5749-8381-406c-93d3-bdb123a1f25c",target:"_blank",rel:"noopener noreferrer",children:"Lawbster community"})," on Nifty Island"]})]}),P.jsx("h2",{children:"A community art project."}),P.jsx("h2",{children:"Lawbster NFT collections and $LAWB token available on Solana and EVM chains."}),P.jsx("a",{href:"/images/Lawbsters.vrm",download:"Lawbsters.vrm",children:P.jsx("button",{children:"Streamers: click to download 3D VRM Lawbster"})}),P.jsx("a",{href:"https://boards.miladychan.org/milady/33793",target:"_blank",rel:"noopener noreferrer",className:"miladychan-link",children:P.jsx("img",{src:"/images/miladychan.png",alt:"Miladychan Link"})})]}),P.jsxs("section",{id:"nexus",className:"section",children:[P.jsx("h1",{children:"LawbNexus"}),P.jsxs("div",{className:"video-container",children:[P.jsxs("video",{id:"nexusVideo",autoPlay:!0,muted:!0,loop:!0,children:[P.jsx("source",{src:"/images/nexusminting.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),P.jsx("button",{id:"nexusToggleButton",children:"Toggle Play/Pause"})]}),P.jsxs("div",{className:"mint-section",children:[P.jsx("h2",{children:"LawbNexus 1000x Xtra Ultra High Definition Lawbsters, packaged and distributed on Solana."}),P.jsxs("p",{children:["Collect on ",P.jsx("a",{href:"https://magiceden.us/marketplace/AfXkPjcfTWHz9WDjvXxZBkHSWQ1H7xsg7jT2fFLkAAi",target:"_blank",rel:"noopener noreferrer",children:"secondary."})]}),P.jsxs("p",{children:["Each collection has 24 hours to mint via ",P.jsx("a",{href:"https://www.launchmynft.io/collections/BeKFkmLuHigZMDaKysu2ugBymkmKfcrHkMz6rWBQzzSo/iVhHZ1Oy0LrIoVTG9C2v",target:"_blank",rel:"noopener noreferrer",children:"LaunchMyNFT"}),"."]}),P.jsx("p",{children:P.jsx("strong",{children:"*UPDATE: Due to reasons outside of Lawb control, LawbNexus sold out during the BadMen tier*"})}),P.jsxs("div",{className:"image-button-row",children:[P.jsx("a",{href:"https://dexscreener.com/solana/7jx9p6iobf3uy3kukt3s4jqswqat1bvumncd6awlaaeb",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/lawbstation.GIF",alt:"LAWBSTATION",className:"section-image"})}),P.jsx("a",{href:"https://dexscreener.com/solana/dtxvuypheobwo66afefp9mfgt2e14c6ufexnvxwnvep",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/lawbticker.gif",alt:"$LAWB",className:"section-image"})}),P.jsx("a",{href:"https://www.tensor.trade/trade/bad_men",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/badmen.GIF",alt:"BADMEN",className:"section-image"})}),P.jsx("a",{href:"https://dexscreener.com/solana/cgju7wmnlhpefngqemq1rpiztvicrg8xx2gzdgnbhjd8",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/yippie.png",alt:"$YIPPIE",className:"section-image"})}),P.jsx("a",{href:"https://dexscreener.com/solana/7jx9p6iobf3uy3kukt3s4jqswqat1bvumncd6awlaaeb",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/bipci.png",alt:"$BIPCI",className:"section-image"})}),P.jsx("a",{href:"https://dexscreener.com/solana/4pdwjssg28c4azs6esaxp7msyaqn8cfgdsy4gnrdtvmr",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/swag.png",alt:"$SWAG",className:"section-image"})}),P.jsx("a",{href:"https://dexscreener.com/solana/bcdfb7vnroy57exbxaybnyl9thsvimu1umow1acxccfv",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/nbuttt.png",alt:"$NIGGABUTT",className:"section-image"})}),P.jsx("a",{href:"https://www.tensor.trade/trade/relaxio",target:"_blank",rel:"noopener noreferrer",children:P.jsx("img",{src:"/images/relaxio.png",alt:"RELAXIO",className:"section-image"})})]}),P.jsxs("p",{children:["Follow ",P.jsx("a",{href:"https://twitter.com/LawbNexus",target:"_blank",rel:"noopener noreferrer",children:"@LawbNexus"})," on Twitter to stay updated."]}),P.jsx("a",{href:"https://zora.co/collect/base:0xeffa1125545cb24b8526fa7d0752c385128fbcc7/1",target:"_blank",rel:"noopener noreferrer",className:"bottom-button",children:P.jsx("img",{src:"/images/final lawb gif.gif",alt:"LawbNexus",className:"section-image"})})]}),P.jsxs("div",{className:"meme-section",children:[P.jsxs("video",{controls:!0,className:"section-image",style:{width:"100%"},children:[P.jsx("source",{src:"/images/bapelawb.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),P.jsx("a",{href:"https://zora.co/collect/base:0xeffa1125545cb24b8526fa7d0752c385128fbcc7/1",target:"_blank",rel:"noopener noreferrer",className:"bottom-button",children:P.jsx("img",{src:"/images/0059_1.gif",alt:"LawbNexus Meme",className:"section-image"})})]}),P.jsx("p",{children:"Choose your fighter. Search isolated LawbNexus by number. Right-click save. Create a meme. Start a fight. This is memetic warfare."}),P.jsxs("div",{className:"search-container",children:[P.jsx("input",{type:"number",id:"nexusImageSearch",placeholder:"Enter image number",min:"0",max:"999"}),P.jsx("button",{id:"nexusEnterButton",className:"search-button",children:"Enter"}),P.jsx("button",{id:"nexusClearButton",className:"search-button",children:"Clear"})]}),P.jsx("div",{id:"nexusImageDisplay"})]}),P.jsxs("section",{id:"station",className:"section",children:[P.jsx("h1",{children:"LawbStation"}),P.jsxs("div",{className:"video-container",children:[P.jsxs("video",{id:"stationVideo",muted:!0,children:[P.jsx("source",{src:"/images/lawbstation_promo3.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),P.jsx("div",{className:"play-overlay"})]}),P.jsx("div",{className:"top-gif-container",children:P.jsx("div",{className:"tenor-gif-embed","data-postid":"14418647991790600316","data-share-method":"host","data-aspect-ratio":"1",children:P.jsx("a",{href:"https://tenor.com/view/lawb-i-lawb-u-i-lawb-you-lawbstation-portionclub-gif-14418647991790600316",children:"Lawb I Lawb U GIF"})})}),P.jsxs("p",{children:["LawbStations seem nice but a Lawbster built on ",P.jsx("a",{href:"https://www.miladystation2.net/",target:"_blank",rel:"noopener noreferrer",children:"$MS2"})," technology living on the Solana blockchain will never achieve anything without a roadmap."]}),P.jsxs("p",{children:["1st Lawbster collection on Solana. Quantity: 420. Collect on ",P.jsx("a",{href:"https://magiceden.us/marketplace/lawbstation",target:"_blank",rel:"noopener noreferrer",children:"secondary."})]}),P.jsx("p",{children:"Choose your fighter. Search isolated LawbStation by number. Right-click save. Create a meme. Start a fight. This is memetic warfare."}),P.jsxs("div",{className:"search-container",children:[P.jsx("input",{type:"number",id:"stationImageSearch",placeholder:"Enter image number",min:"0",max:"419"}),P.jsx("button",{id:"stationEnterButton",className:"search-button",children:"Enter"}),P.jsx("button",{id:"stationClearButton",className:"search-button",children:"Clear"})]}),P.jsx("div",{id:"stationImageDisplay"}),P.jsx("div",{id:"stationImageGallery",className:"image-container"})]}),P.jsxs("section",{id:"starz",className:"section",children:[P.jsx("h1",{children:"LawbStarz"}),P.jsx("img",{src:"/images/lawbstarz_bg2.png",alt:"Lawbstarz Image",className:"section-image"}),P.jsxs("p",{children:["☆ LAWBSTARZ 666x LOBSTERS DRIPPED IN BUTTER ☆ 666x PREMIUM PFP COLLECTION ☆ LAWBSTARZ IS A MUSIC NFT ☆ THE 1ST",P.jsx("a",{href:"https://allstarz.world/",target:"_blank",rel:"noopener noreferrer",children:"ALLSTARZ DERIVATIVE"})," ☆ LAWBSTARZ IS INSPIRED BY",P.jsx("a",{href:"https://ilongfornetworkspirituality.net/",target:"_blank",rel:"noopener noreferrer",children:"REMILIA CORP"})," ☆ LED BY NETWORK SPIRITUALITY ☆ 666",P.jsx("a",{href:"https://www.cigawrettepacks.shop/",target:"_blank",rel:"noopener noreferrer",children:"CIGAWRETTEPACKS"})," WERE CONSUMED BY",P.jsx("a",{href:"https://nouns.build/dao/ethereum/0x0c12aba58fc88f1267fa772012495b47aaf31cab/",target:"_blank",rel:"noopener noreferrer",children:"PORTIONCLUB69"}),"AND FRIENDS DURING THE CREATION OF LAWBSTARZ v1 ☆"]}),P.jsxs("blockquote",{className:"twitter-tweet",children:[P.jsxs("p",{lang:"en",dir:"ltr",children:["The following 🧵 has been transcripted from a live news broadcast:",P.jsx("br",{}),P.jsx("br",{}),`"Good evening, viewers. Tonight, we embark on an extraordinary journey that defies rational explanation. It all began with February's Cigawrette Packs cargo ship hijacking, little did we know that the.." `,P.jsx("a",{href:"https://t.co/BWgLOk59N4",children:"pic.twitter.com/BWgLOk59N4"})]}),"— wables 🚬✰🍨🦞🍞 (@wables411) ",P.jsx("a",{href:"https://twitter.com/wables411/status/1669009492007354369?ref_src=twsrc%5Etfw",children:"June 14, 2023"})]}),P.jsxs("div",{className:"scatter-section",children:[P.jsx("a",{href:"https://www.scatter.art/lawbstarz?tab=mint",children:P.jsx("img",{src:"/images/lawbstarzhotelroom.PNG",alt:"Lawbstarz Image",className:"section-image"})}),P.jsxs("p",{className:"scatter-text",children:["minted out on ",P.jsx("a",{href:"https://www.scatter.art/lawbstarz?tab=mint",className:"button",children:"Scatter"})]})]}),P.jsx("p",{children:P.jsx("a",{href:"https://magiceden.us/collections/ethereum/0xd7922cd333da5ab3758c95f774b092a7b13a5449",children:"Click here to collect Lawbstarz on secondary"})}),P.jsx("div",{className:"audio-player",children:P.jsx("iframe",{src:"https://audius.co/embed/track/PbYM2zm?flavor=tiny",width:"50%",height:"24",allowTransparency:"true",allow:"encrypted-media",style:{border:"none"},title:"Audius"})})]}),P.jsxs("section",{id:"lawbsters",className:"section",children:[P.jsx("h1",{children:"Lawbsters"}),P.jsx("p",{children:"Lawbsters seem nice but a human controlled by a lobster will never amount to anything without a roadmap."}),P.jsx("p",{children:"A Cigawrette Packs derivative. The first Lawbster collection on Eth. Quantity: 420"}),P.jsxs("p",{children:["Collect on ",P.jsx("a",{href:"https://magiceden.us/collections/ethereum/0x0ef7ba09c38624b8e9cc4985790a2f5dbfc1dc42",target:"_blank",rel:"noopener noreferrer",children:"secondary"})]}),P.jsxs("blockquote",{className:"twitter-tweet",children:[P.jsxs("p",{lang:"en",dir:"ltr",children:["The following 🧵 has been transcripted from a live news broadcast:",P.jsx("br",{}),P.jsx("br",{}),'"Just in, breaking news coming out of the high seas. A cargo ship has been hijacked by a group of degenerate lobsters, taking hostages & demanding a ransom. The situation is ongoing and authorities are scrambling ',P.jsx("a",{href:"https://t.co/lykBDDKYEb",children:"pic.twitter.com/lykBDDKYEb"})]}),"— wables 🚬✰🍨🦞🍞 (@wables411) ",P.jsx("a",{href:"https://twitter.com/wables411/status/1620879129850834944?ref_src=twsrc%5Etfw",children:"February 1, 2023"})]}),P.jsx("p",{children:"CHOOSE YOUR FIGHTER. Search Lawbster by number. Right-click save. Create a meme. Start a fight. THIS IS MEMETIC WARFARE."}),P.jsxs("div",{className:"search-container",children:[P.jsx("input",{type:"number",id:"imageSearch",placeholder:"Enter image number",min:"0",max:"419"}),P.jsx("button",{id:"enterButton",className:"search-button",children:"Enter"}),P.jsx("button",{id:"clearButton",className:"search-button",children:"Clear"})]}),P.jsx("div",{id:"imageDisplay"}),P.jsx("div",{id:"imageGallery",className:"image-container"})]}),P.jsxs("section",{id:"halloween",className:"section",children:[P.jsx("h1",{children:"Halloween"}),P.jsx("p",{children:"🦞🎃 a Lawbster Halloween party seems nice but a group of what seems to be humans controlled by lobsters just hijacked the Spirit Halloween Superstore. 🎃🦞"}),P.jsxs("blockquote",{className:"twitter-tweet",children:[P.jsxs("p",{lang:"en",dir:"ltr",children:["🚨EXPERT ANALYSIS: WHO HIJACKED THE SPIRIT HALLOWEEN SUPERSTORE?",P.jsx("br",{}),P.jsx("br",{}),"Marine Corps Veteran expert analysis of the recent hijacking incident at the superstore reveals critical findings:",P.jsx("br",{}),"🧵 ",P.jsx("a",{href:"https://t.co/m4Iy5wdjre",children:"pic.twitter.com/m4Iy5wdjre"})]}),"— portionclub (@PortionClub69) ",P.jsx("a",{href:"https://twitter.com/PortionClub69/status/1716485680040407145?ref_src=twsrc%5Etfw",children:"October 23, 2023"})]}),P.jsx("p",{children:"a portion club collection"}),P.jsx("img",{src:"/images/lawbsterhalloween.gif",alt:"A Lawbster Halloween",className:"section-image"}),P.jsxs("p",{children:["Collect on ",P.jsx("a",{href:"https://magiceden.us/collections/base/0x8ab6733f8f8702c233f3582ec2a2750d3fc63a97",target:"_blank",rel:"noopener noreferrer",children:"secondary"})]})]}),P.jsxs("section",{id:"lore",className:"section",children:[P.jsx("h1",{children:"Lore"}),P.jsxs("p",{children:["Explore the Lore on Zora: ",P.jsx("a",{href:"https://zora.co/collect/base:0xd49c9461471934e87467af00fff8d63312db913a",children:"Link"})]}),P.jsx("img",{src:"/images/lawblore.gif",alt:"Lawb Lore",className:"section-image"})]}),P.jsx("div",{id:"vrm-container"})]})]})}const _0="https://api.scatter.art/v1",i2="pixelawbs";function qae({inviteList:t,collection:e,address:n,config:r,mintNFT:s,mintStatus:i}){const o=OS({abi:e==null?void 0:e.abi,address:e==null?void 0:e.address,functionName:"minted",chainId:1,args:t?[n,t.root]:void 0}),a=OS({abi:e==null?void 0:e.abi,address:e==null?void 0:e.address,functionName:"listSupply",chainId:1,args:t?[n,t.root]:void 0});return P.jsxs("div",{className:"mint-section",children:[P.jsx("h3",{children:t.name}),P.jsxs("p",{children:["Price: ",t.token_price==="0"?"FREE":`${t.token_price} ${t.currency_symbol}`]}),t.wallet_limit!==4294967295&&P.jsxs("p",{children:["Wallet Limit: ",o.data??"?"," / ",t.wallet_limit]}),t.list_limit!==4294967295&&P.jsxs("p",{children:["List Limit: ",a.data??"?"," / ",t.list_limit]}),P.jsx("button",{onClick:()=>s(t.id),disabled:i.includes("Minting")||(e==null?void 0:e.num_items)>=(e==null?void 0:e.max_items),className:i.includes("Minting")||(e==null?void 0:e.num_items)>=(e==null?void 0:e.max_items)?"minted-out":"",children:i.includes("Minting")?"Minting...":"Mint"})]},t.id)}function Vae(){const{address:t,isConnected:e}=TM(),n=sy(),[r,s]=B.useState(null),[i,o]=B.useState([]),[a,c]=B.useState(""),[l,u]=B.useState(!1),d=async()=>{try{u(!0);const p=await fetch(`${_0}/collection/${i2}`,{headers:{Accept:"application/json"}});if(!p.ok){const v=await p.json().catch(()=>({}));throw new Error(v.message||"Failed to fetch collection data")}const g=await p.json();if(g.chain_id!==1)throw new Error(`Invalid chain ID: ${g.chain_id}. Expected 1 (Ethereum mainnet)`);s({...g,abi:JSON.parse(g.abi)})}catch(p){console.error("Error fetching collection:",p),c(`Error: ${p.message}`)}finally{u(!1)}},h=async p=>{try{u(!0);const g=`${_0}/collection/${i2}/eligible-invite-lists${p?`?minterAddress=${p}`:""}`,v=await fetch(g,{headers:{Accept:"application/json"}});if(!v.ok){const y=await v.json().catch(()=>({}));throw new Error(y.message||"Failed to fetch invite lists")}const m=await v.json();if(!m.length)throw new Error("No invite lists found");o(m)}catch(g){console.error("Error fetching invite lists:",g),c(`Error: ${g.message}`)}finally{u(!1)}},f=async p=>{if(!t){c("Please connect your wallet");return}c("Minting...");try{const g=await fetch(`${_0}/mint`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionAddress:r.address,chainId:1,minterAddress:t,lists:[{id:p,quantity:1}]})});if(!g.ok){const y=await g.json().catch(()=>({}));throw new Error(y.message||"Failed to generate mint transaction")}const{mintTransaction:v,erc20s:m}=await g.json();for(const y of m||[])await _E(n,{abi:oS,address:y.address,functionName:"allowance",chainId:1,args:[t,r.address]})<BigInt(y.amount)&&await iO(n,{abi:oS,address:y.address,functionName:"approve",chainId:1,args:[r.address,lP]});await rO(n,{account:t,to:v.to,value:BigInt(v.value||0),data:v.data,chainId:1}),c("Mint successful!"),d(),h(t)}catch(g){console.error("Minting failed:",g),c(`Minting failed: ${g.message}`)}};return B.useEffect(()=>{d(),e&&t&&h(t)},[e,t]),P.jsxs("div",{className:"container",children:[P.jsx("h1",{children:"PIXELAWBSTERS"}),P.jsx("p",{children:"Pixelawbsters seem nice but a human controlled by a pixelated lobster would never amount to anything without a roadmap. Inspired by Pixelady Maker. I lawb you."}),P.jsx("p",{children:"CONNECT ETH WALLET TO CHECK ELIGIBILITY + MINT"}),P.jsx("w3m-button",{}),e&&P.jsxs("div",{className:"mint-section",children:[P.jsxs("p",{children:["Connected: ",t.slice(0,4),"...",t.slice(-4)]}),l?P.jsx("p",{children:"Loading..."}):P.jsxs(P.Fragment,{children:[r&&P.jsxs("div",{children:[P.jsxs("p",{children:["Progress: ",r.num_items," / ",r.max_items]}),P.jsx("progress",{className:"progress",value:r.num_items/r.max_items*100,max:"100"})]}),i.length>0?i.map(p=>P.jsx(qae,{inviteList:p,collection:r,address:t,config:n,mintNFT:f,mintStatus:a},p.id)):P.jsx("p",{className:"error",children:"No invite lists available."}),a&&P.jsx("p",{className:"error",children:a})]})]})]})}const Gae=new EO;function Kae(){return P.jsx(lO,{config:wC.wagmiConfig,children:P.jsx(SO,{client:Gae,children:P.jsx($ae,{children:P.jsxs(uae,{children:[P.jsx(o1,{path:"/",element:P.jsx(Wae,{})}),P.jsx(o1,{path:"/mint",element:P.jsx(Vae,{})})]})})})})}const Yae=new EO;S0.createRoot(document.getElementById("root")).render(P.jsx(lO,{config:wC.wagmiConfig,children:P.jsx(SO,{client:Yae,children:P.jsx(Kae,{})})}));export{lle as $,X as A,we as B,ee as C,fn as D,Od as E,hn as F,ge as G,nb as H,fd as I,fs as J,DB as K,it as L,Ze as M,OB as N,W as O,vr as P,hg as Q,be as R,gs as S,Jn as T,kh as U,Wh as V,en as W,fle as X,r1 as Y,gF as Z,Md as _,pg as a,ic as a$,Qt as a0,xm as a1,Fs as a2,ule as a3,Kk as a4,s1 as a5,lu as a6,In as a7,mce as a8,Ra as a9,V4 as aA,VP as aB,eu as aC,Td as aD,ra as aE,cce as aF,I8 as aG,oc as aH,ace as aI,lce as aJ,zg as aK,uce as aL,J6 as aM,HT as aN,oce as aO,Zm as aP,oh as aQ,Hg as aR,m2 as aS,dce as aT,X6 as aU,GL as aV,Qr as aW,vf as aX,Xl as aY,J8 as aZ,Js as a_,Xs as aa,xh as ab,Re as ac,Ft as ad,po as ae,ZP as af,ry as ag,Wg as ah,wE as ai,sa as aj,rce as ak,ey as al,vE as am,nce as an,tce as ao,eP as ap,Km as aq,jg as ar,f8 as as,y8 as at,fce as au,f4 as av,K as aw,lE as ax,qr as ay,g4 as az,Xe as b,hce as b0,Wt as b1,sce as b2,qm as b3,dr as b4,ty as b5,z as c,fe as d,N as e,et as f,Ti as g,hle as h,Pl as i,Er as j,ae as k,yt as l,xie as m,kt as n,Nie as o,J as p,Et as q,dle as r,Ke as s,TO as t,ft as u,uF as v,Pr as w,cle as x,TE as y,OO as z};
