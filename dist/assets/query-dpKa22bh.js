import{L as q,M as o,N as O,O as S,Q as _,R as T,T as P}from"./vendor-B9R9w7LK.js";var v={exports:{}},h={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g;function j(){if(g)return h;g=1;var e=q(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function s(R,r,a){var u,l={},m=null,y=null;a!==void 0&&(m=""+a),r.key!==void 0&&(m=""+r.key),r.ref!==void 0&&(y=r.ref);for(u in r)n.call(r,u)&&!f.hasOwnProperty(u)&&(l[u]=r[u]);if(R&&R.defaultProps)for(u in r=R.defaultProps,r)l[u]===void 0&&(l[u]=r[u]);return{$$typeof:t,type:R,key:m,ref:y,props:l,_owner:c.current}}return h.Fragment=i,h.jsx=s,h.jsxs=s,h}var E;function k(){return E||(E=1,v.exports=j()),v.exports}var I=k(),b=o.createContext(void 0),B=e=>{const t=o.useContext(b);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Y=({client:e,children:t})=>(o.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),I.jsx(b.Provider,{value:e,children:t})),Q=o.createContext(!1),N=()=>o.useContext(Q);Q.Provider;function F(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var J=o.createContext(F()),L=()=>o.useContext(J),M=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},D=e=>{o.useEffect(()=>{e.clearReset()},[e])},H=({result:e,errorResetBoundary:t,throwOnError:i,query:n,suspense:c})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(c&&e.data===void 0||O(i,[e.error,n])),U=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...n)=>t(i(...n)):t(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$=(e,t)=>e.isLoading&&e.isFetching&&!t,A=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,d=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function V(e,t,i){var l,m,y,x,C;const n=N(),c=L(),f=B(),s=f.defaultQueryOptions(e);(m=(l=f.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||m.call(l,s),s._optimisticResults=n?"isRestoring":"optimistic",U(s),M(s,c),D(c);const R=!f.getQueryCache().get(s.queryHash),[r]=o.useState(()=>new t(f,s)),a=r.getOptimisticResult(s),u=!n&&e.subscribed!==!1;if(o.useSyncExternalStore(o.useCallback(p=>{const w=u?r.subscribe(S.batchCalls(p)):_;return r.updateResult(),w},[r,u]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o.useEffect(()=>{r.setOptions(s)},[s,r]),A(s,a))throw d(s,r,c);if(H({result:a,errorResetBoundary:c,throwOnError:s.throwOnError,query:f.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw a.error;if((x=(y=f.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||x.call(y,s,a),s.experimental_prefetchInRender&&!T&&$(a,n)){const p=R?d(s,r,c):(C=f.getQueryCache().get(s.queryHash))==null?void 0:C.promise;p==null||p.catch(_).finally(()=>{r.updateResult()})}return s.notifyOnChangeProps?a:r.trackResult(a)}function z(e,t){return V(e,P)}export{Y as Q,I as j,z as u};
